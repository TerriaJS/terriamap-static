((self || window)["webpackJsonp"] = (self || window)["webpackJsonp"] || []).push([[8],{

/***/ "./node_modules/terriajs/lib/ReactViews/Tools/DiffTool/DatePicker.tsx":
/*!****************************************************************************!*\
  !*** ./node_modules/terriajs/lib/ReactViews/Tools/DiffTool/DatePicker.tsx ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"./node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"./node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"./node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"./node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"./node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"./node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"./node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.reverse.js */ \"./node_modules/core-js/modules/es.array.reverse.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"./node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"./node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"./node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"./node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"./node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"./node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"./node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"./node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"./node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"./node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"./node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"./node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"./node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"./node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.date.to-iso-string.js */ \"./node_modules/core-js/modules/es.date.to-iso-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"./node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\nvar _styledComponents = _interopRequireDefault(__webpack_require__(/*! styled-components */ \"./node_modules/styled-components/dist/styled-components.browser.esm.js\"));\nvar _mobx = __webpack_require__(/*! mobx */ \"./node_modules/mobx/dist/mobx.esm.js\");\nvar _mobxReact = __webpack_require__(/*! mobx-react */ \"./node_modules/mobx-react/dist/mobxreact.esm.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"./node_modules/react/index.js\"));\nvar _reactI18next = __webpack_require__(/*! react-i18next */ \"./node_modules/react-i18next/dist/es/index.js\");\nvar _JulianDate = _interopRequireDefault(__webpack_require__(/*! terriajs-cesium/Source/Core/JulianDate */ \"./node_modules/terriajs-cesium/Source/Core/JulianDate.js\"));\nvar _CommonStrata = _interopRequireDefault(__webpack_require__(/*! ../../../Models/Definition/CommonStrata */ \"./node_modules/terriajs/lib/Models/Definition/CommonStrata.ts\"));\nvar _DateFormats = __webpack_require__(/*! ../../BottomDock/Timeline/DateFormats */ \"./node_modules/terriajs/lib/ReactViews/BottomDock/Timeline/DateFormats.ts\");\nvar _Icon = _interopRequireWildcard(__webpack_require__(/*! ../../../Styled/Icon */ \"./node_modules/terriajs/lib/Styled/Icon.tsx\"));\nvar _DateTimePicker = _interopRequireDefault(__webpack_require__(/*! ../../BottomDock/Timeline/DateTimePicker */ \"./node_modules/terriajs/lib/ReactViews/BottomDock/Timeline/DateTimePicker.tsx\"));\nvar _Text = _interopRequireWildcard(__webpack_require__(/*! ../../../Styled/Text */ \"./node_modules/terriajs/lib/Styled/Text.tsx\"));\nvar _Box = _interopRequireDefault(__webpack_require__(/*! ../../../Styled/Box */ \"./node_modules/terriajs/lib/Styled/Box.tsx\"));\nvar _Button = _interopRequireDefault(__webpack_require__(/*! ../../../Styled/Button */ \"./node_modules/terriajs/lib/Styled/Button.tsx\"));\nvar _Spacing = _interopRequireDefault(__webpack_require__(/*! ../../../Styled/Spacing */ \"./node_modules/terriajs/lib/Styled/Spacing.tsx\"));\nvar _dateformat = _interopRequireDefault(__webpack_require__(/*! dateformat */ \"./node_modules/dateformat/lib/dateformat.js\"));\nvar _jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _class, _class2, _descriptor;\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { \"default\": e }; }\nfunction _initializerDefineProperty(e, i, r, l) { r && Object.defineProperty(e, i, { enumerable: r.enumerable, configurable: r.configurable, writable: r.writable, value: r.initializer ? r.initializer.call(l) : void 0 }); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _applyDecoratedDescriptor(i, e, r, n, l) { var a = {}; return Object.keys(n).forEach(function (i) { a[i] = n[i]; }), a.enumerable = !!a.enumerable, a.configurable = !!a.configurable, (\"value\" in a || a.initializer) && (a.writable = !0), a = r.slice().reverse().reduce(function (r, n) { return n(i, e, r) || r; }, a), l && void 0 !== a.initializer && (a.value = a.initializer ? a.initializer.call(l) : void 0, a.initializer = void 0), void 0 === a.initializer ? (Object.defineProperty(i, e, a), null) : a; }\nfunction _initializerWarningHelper(r, e) { throw Error(\"Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.\"); }\nvar DatePicker = (_dec = _mobx.action.bound, _dec2 = _mobx.action.bound, _dec3 = _mobx.action.bound, _dec4 = _mobx.action.bound, _dec5 = _mobx.action.bound, _dec6 = _mobx.action.bound, (0, _mobxReact.observer)(_class = (_class2 = /*#__PURE__*/function (_React$Component) {\n  function DatePicker(props) {\n    var _this;\n    _classCallCheck(this, DatePicker);\n    _this = _callSuper(this, DatePicker, [props]);\n    _initializerDefineProperty(_this, \"isOpen\", _descriptor, _this);\n    (0, _mobx.makeObservable)(_this);\n    return _this;\n  }\n  _inherits(DatePicker, _React$Component);\n  return _createClass(DatePicker, [{\n    key: \"currentDate\",\n    get: function get() {\n      var date = this.props.item.currentDiscreteJulianDate;\n      return date && _JulianDate[\"default\"].toDate(date);\n    }\n  }, {\n    key: \"formattedCurrentDate\",\n    get: function get() {\n      if (this.currentDate === undefined) {\n        return;\n      }\n      var dateFormatting = undefined; // TODO\n      var formattedDate = dateFormatting !== undefined ? (0, _dateformat[\"default\"])(this.currentDate, dateFormatting) : (0, _DateFormats.formatDateTime)(this.currentDate);\n      return formattedDate;\n    }\n  }, {\n    key: \"toggleOpen\",\n    value: function toggleOpen(e) {\n      this.isOpen = !this.isOpen;\n      // stopPropagation is required to prevent the datetime picker popup from closing when\n      // the date button is clicked\n      e.stopPropagation();\n    }\n  }, {\n    key: \"setIsOpen\",\n    value: function setIsOpen(isOpen) {\n      this.isOpen = isOpen;\n    }\n  }, {\n    key: \"changeCurrentDate\",\n    value: function changeCurrentDate(date) {\n      this.props.item.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", date.toISOString());\n      this.props.onDateSet();\n    }\n  }, {\n    key: \"moveToPreviousDate\",\n    value: function moveToPreviousDate() {\n      this.props.item.moveToPreviousDiscreteTime(_CommonStrata[\"default\"].user);\n      this.props.onDateSet();\n    }\n  }, {\n    key: \"moveToNextDate\",\n    value: function moveToNextDate() {\n      this.props.item.moveToNextDiscreteTime(_CommonStrata[\"default\"].user);\n      this.props.onDateSet();\n    }\n  }, {\n    key: \"onClickExternalButton\",\n    value: function onClickExternalButton(event) {\n      this.setIsOpen(true);\n      // stopPropagation is required to prevent the datetime picker popup from closing when\n      // the external button is clicked\n      event.stopPropagation();\n    }\n  }, {\n    key: \"registerExternalButtonClick\",\n    value: function registerExternalButtonClick() {\n      var _this$props$externalO;\n      (_this$props$externalO = this.props.externalOpenButton.current) === null || _this$props$externalO === void 0 ? void 0 : _this$props$externalO.addEventListener(\"click\", this.onClickExternalButton);\n    }\n  }, {\n    key: \"unregisterExternalButtonClick\",\n    value: function unregisterExternalButtonClick(externalOpenButton) {\n      var _externalOpenButton$c;\n      (_externalOpenButton$c = externalOpenButton.current) === null || _externalOpenButton$c === void 0 ? void 0 : _externalOpenButton$c.removeEventListener(\"click\", this.onClickExternalButton);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.registerExternalButtonClick();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      this.unregisterExternalButtonClick(prevProps.externalOpenButton);\n      this.registerExternalButtonClick();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unregisterExternalButtonClick(this.props.externalOpenButton);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        heading = _this$props.heading,\n        item = _this$props.item,\n        t = _this$props.t;\n      return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n        column: true,\n        centered: true,\n        flex: 1,\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n          bottom: 4\n        }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n          centered: true,\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledStyledIcon, {\n            light: true,\n            styledWidth: \"21px\",\n            glyph: _Icon[\"default\"].GLYPHS.calendar2,\n            $_css: \"margin-top:-2px;\"\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n            right: 2\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n            textLight: true,\n            extraLarge: true,\n            children: heading\n          })]\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n          bottom: 2\n        }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(PrevButton, {\n            disabled: item.isPreviousDiscreteTimeAvailable === false,\n            title: t(\"diffTool.datePicker.previousDateTitle\"),\n            onClick: this.moveToPreviousDate\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(DateButton, {\n            primary: true,\n            isOpen: this.isOpen,\n            onClick: this.toggleOpen,\n            title: t(\"diffTool.datePicker.dateButtonTitle\"),\n            children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n              extraLarge: true,\n              children: this.formattedCurrentDate || \"-\"\n            })\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(NextButton, {\n            disabled: item.isNextDiscreteTimeAvailable === false,\n            title: t(\"diffTool.datePicker.nextDateTitle\"),\n            onClick: this.moveToNextDate\n          })]\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", {\n          style: {\n            display: this.isOpen ? \"block\" : \"none\",\n            position: \"absolute\"\n          },\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_DateTimePicker[\"default\"], {\n            currentDate: this.currentDate,\n            dates: this.props.item.objectifiedDates,\n            onChange: this.changeCurrentDate,\n            openDirection: \"none\",\n            isOpen: this.isOpen,\n            onOpen: function onOpen() {\n              return _this2.setIsOpen(true);\n            },\n            onClose: function onClose() {\n              return _this2.setIsOpen(false);\n            }\n          })\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n          bottom: 4\n        })]\n      });\n    }\n  }]);\n}(_react[\"default\"].Component), _descriptor = _applyDecoratedDescriptor(_class2.prototype, \"isOpen\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class2.prototype, \"currentDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class2.prototype, \"currentDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"formattedCurrentDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class2.prototype, \"formattedCurrentDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"toggleOpen\", [_dec], Object.getOwnPropertyDescriptor(_class2.prototype, \"toggleOpen\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"setIsOpen\", [_dec2], Object.getOwnPropertyDescriptor(_class2.prototype, \"setIsOpen\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"changeCurrentDate\", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, \"changeCurrentDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"moveToPreviousDate\", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, \"moveToPreviousDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"moveToNextDate\", [_dec5], Object.getOwnPropertyDescriptor(_class2.prototype, \"moveToNextDate\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"onClickExternalButton\", [_dec6], Object.getOwnPropertyDescriptor(_class2.prototype, \"onClickExternalButton\"), _class2.prototype), _class2)) || _class);\nvar PagerButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).attrs({\n  iconProps: {\n    css: \"margin-right:0;\"\n  }\n}).withConfig({\n  displayName: \"DatePicker__PagerButton\",\n  componentId: \"sc-11kes1x-0\"\n})([\"cursor:pointer;background-color:\", \";width:40px;border:1px solid transparent;\", \" flex-direction:column;\"], function (props) {\n  return props.theme.colorPrimary;\n}, function (_ref) {\n  var theme = _ref.theme;\n  return theme.centerWithFlex();\n});\nvar PrevButton = (0, _styledComponents[\"default\"])(PagerButton).attrs({\n  renderIcon: function renderIcon() {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledStyledIcon2, {\n      light: true,\n      styledWidth: \"15px\",\n      glyph: _Icon[\"default\"].GLYPHS.arrowDown\n    });\n  }\n}).withConfig({\n  displayName: \"DatePicker__PrevButton\",\n  componentId: \"sc-11kes1x-1\"\n})([\"\", \" margin-right:1px;\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.borderRadiusLeft(theme.radius40Button);\n});\nvar NextButton = (0, _styledComponents[\"default\"])(PagerButton).attrs({\n  renderIcon: function renderIcon() {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledStyledIcon3, {\n      light: true,\n      styledWidth: \"15px\",\n      glyph: _Icon[\"default\"].GLYPHS.arrowDown\n    });\n  }\n}).withConfig({\n  displayName: \"DatePicker__NextButton\",\n  componentId: \"sc-11kes1x-2\"\n})([\"\", \" margin-left:1px;\"], function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.borderRadiusRight(theme.radius40Button);\n});\nvar DateButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).withConfig({\n  displayName: \"DatePicker__DateButton\",\n  componentId: \"sc-11kes1x-3\"\n})([\"z-index:0;\", \";border-radius:0px;border:1px solid \", \";min-width:235px;@media (max-width:\", \"px){min-width:150px;}\"], function (props) {\n  return props.isOpen && \"z-index: 1000;\";\n}, function (props) {\n  return props.theme.colorPrimary;\n}, function (props) {\n  return props.theme.lg;\n});\nvar _default = exports[\"default\"] = (0, _reactI18next.withTranslation)()(DatePicker);\nvar _StyledStyledIcon = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DatePicker___StyledStyledIcon\",\n  componentId: \"sc-11kes1x-4\"\n})([\"\", \"\"], function (p) {\n  return p.$_css;\n});\nvar _StyledStyledIcon2 = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DatePicker___StyledStyledIcon2\",\n  componentId: \"sc-11kes1x-5\"\n})([\"transform:rotate(90deg);\"]);\nvar _StyledStyledIcon3 = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DatePicker___StyledStyledIcon3\",\n  componentId: \"sc-11kes1x-6\"\n})([\"transform:rotate(270deg);\"]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdGVycmlhanMvbGliL1JlYWN0Vmlld3MvVG9vbHMvRGlmZlRvb2wvRGF0ZVBpY2tlci50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGVycmlhanMvbGliL1JlYWN0Vmlld3MvVG9vbHMvRGlmZlRvb2wvRGF0ZVBpY2tlci50c3g/ZDgzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhY3Rpb24sIGNvbXB1dGVkLCBvYnNlcnZhYmxlLCBtYWtlT2JzZXJ2YWJsZSB9IGZyb20gXCJtb2J4XCI7XG5pbXBvcnQgeyBvYnNlcnZlciB9IGZyb20gXCJtb2J4LXJlYWN0XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBXaXRoVHJhbnNsYXRpb24sIHdpdGhUcmFuc2xhdGlvbiB9IGZyb20gXCJyZWFjdC1pMThuZXh0XCI7XG5pbXBvcnQgc3R5bGVkIGZyb20gXCJzdHlsZWQtY29tcG9uZW50c1wiO1xuaW1wb3J0IEp1bGlhbkRhdGUgZnJvbSBcInRlcnJpYWpzLWNlc2l1bS9Tb3VyY2UvQ29yZS9KdWxpYW5EYXRlXCI7XG5pbXBvcnQgRGlmZmFibGVNaXhpbiBmcm9tIFwiLi4vLi4vLi4vTW9kZWxNaXhpbnMvRGlmZmFibGVNaXhpblwiO1xuaW1wb3J0IENvbW1vblN0cmF0YSBmcm9tIFwiLi4vLi4vLi4vTW9kZWxzL0RlZmluaXRpb24vQ29tbW9uU3RyYXRhXCI7XG5pbXBvcnQgeyBmb3JtYXREYXRlVGltZSB9IGZyb20gXCIuLi8uLi9Cb3R0b21Eb2NrL1RpbWVsaW5lL0RhdGVGb3JtYXRzXCI7XG5pbXBvcnQgSWNvbiwgeyBTdHlsZWRJY29uIH0gZnJvbSBcIi4uLy4uLy4uL1N0eWxlZC9JY29uXCI7XG5pbXBvcnQgRGF0ZVRpbWVQaWNrZXIgZnJvbSBcIi4uLy4uL0JvdHRvbURvY2svVGltZWxpbmUvRGF0ZVRpbWVQaWNrZXJcIjtcbmltcG9ydCBUZXh0LCB7IFRleHRTcGFuIH0gZnJvbSBcIi4uLy4uLy4uL1N0eWxlZC9UZXh0XCI7XG5pbXBvcnQgQm94IGZyb20gXCIuLi8uLi8uLi9TdHlsZWQvQm94XCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuLi8uLi8uLi9TdHlsZWQvQnV0dG9uXCI7XG5pbXBvcnQgU3BhY2luZyBmcm9tIFwiLi4vLi4vLi4vU3R5bGVkL1NwYWNpbmdcIjtcbmltcG9ydCBkYXRlRm9ybWF0IGZyb20gXCJkYXRlZm9ybWF0XCI7XG5cbmludGVyZmFjZSBQcm9wc1R5cGUgZXh0ZW5kcyBXaXRoVHJhbnNsYXRpb24ge1xuICBoZWFkaW5nOiBzdHJpbmc7XG4gIGl0ZW06IERpZmZhYmxlTWl4aW4uSW5zdGFuY2U7XG4gIGV4dGVybmFsT3BlbkJ1dHRvbjogUmVhY3QuUmVmT2JqZWN0PEhUTUxCdXR0b25FbGVtZW50PjtcbiAgb25EYXRlU2V0OiAoKSA9PiB2b2lkO1xufVxuXG5Ab2JzZXJ2ZXJcbmNsYXNzIERhdGVQaWNrZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHNUeXBlPiB7XG4gIEBvYnNlcnZhYmxlIHByaXZhdGUgaXNPcGVuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzVHlwZSkge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICBtYWtlT2JzZXJ2YWJsZSh0aGlzKTtcbiAgfVxuXG4gIEBjb21wdXRlZFxuICBnZXQgY3VycmVudERhdGUoKTogRGF0ZSB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgZGF0ZSA9IHRoaXMucHJvcHMuaXRlbS5jdXJyZW50RGlzY3JldGVKdWxpYW5EYXRlO1xuICAgIHJldHVybiBkYXRlICYmIEp1bGlhbkRhdGUudG9EYXRlKGRhdGUpO1xuICB9XG5cbiAgQGNvbXB1dGVkXG4gIGdldCBmb3JtYXR0ZWRDdXJyZW50RGF0ZSgpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50RGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRhdGVGb3JtYXR0aW5nID0gdW5kZWZpbmVkOyAvLyBUT0RPXG4gICAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9XG4gICAgICBkYXRlRm9ybWF0dGluZyAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gZGF0ZUZvcm1hdCh0aGlzLmN1cnJlbnREYXRlLCBkYXRlRm9ybWF0dGluZylcbiAgICAgICAgOiBmb3JtYXREYXRlVGltZSh0aGlzLmN1cnJlbnREYXRlKTtcbiAgICByZXR1cm4gZm9ybWF0dGVkRGF0ZTtcbiAgfVxuXG4gIEBhY3Rpb24uYm91bmRcbiAgdG9nZ2xlT3BlbihlOiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxCdXR0b25FbGVtZW50LCBNb3VzZUV2ZW50Pikge1xuICAgIHRoaXMuaXNPcGVuID0gIXRoaXMuaXNPcGVuO1xuICAgIC8vIHN0b3BQcm9wYWdhdGlvbiBpcyByZXF1aXJlZCB0byBwcmV2ZW50IHRoZSBkYXRldGltZSBwaWNrZXIgcG9wdXAgZnJvbSBjbG9zaW5nIHdoZW5cbiAgICAvLyB0aGUgZGF0ZSBidXR0b24gaXMgY2xpY2tlZFxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cblxuICBAYWN0aW9uLmJvdW5kXG4gIHNldElzT3Blbihpc09wZW46IGJvb2xlYW4pIHtcbiAgICB0aGlzLmlzT3BlbiA9IGlzT3BlbjtcbiAgfVxuXG4gIEBhY3Rpb24uYm91bmRcbiAgY2hhbmdlQ3VycmVudERhdGUoZGF0ZTogRGF0ZSkge1xuICAgIHRoaXMucHJvcHMuaXRlbS5zZXRUcmFpdChcbiAgICAgIENvbW1vblN0cmF0YS51c2VyLFxuICAgICAgXCJjdXJyZW50VGltZVwiLFxuICAgICAgZGF0ZS50b0lTT1N0cmluZygpXG4gICAgKTtcbiAgICB0aGlzLnByb3BzLm9uRGF0ZVNldCgpO1xuICB9XG5cbiAgQGFjdGlvbi5ib3VuZFxuICBtb3ZlVG9QcmV2aW91c0RhdGUoKSB7XG4gICAgdGhpcy5wcm9wcy5pdGVtLm1vdmVUb1ByZXZpb3VzRGlzY3JldGVUaW1lKENvbW1vblN0cmF0YS51c2VyKTtcbiAgICB0aGlzLnByb3BzLm9uRGF0ZVNldCgpO1xuICB9XG5cbiAgQGFjdGlvbi5ib3VuZFxuICBtb3ZlVG9OZXh0RGF0ZSgpIHtcbiAgICB0aGlzLnByb3BzLml0ZW0ubW92ZVRvTmV4dERpc2NyZXRlVGltZShDb21tb25TdHJhdGEudXNlcik7XG4gICAgdGhpcy5wcm9wcy5vbkRhdGVTZXQoKTtcbiAgfVxuXG4gIEBhY3Rpb24uYm91bmRcbiAgb25DbGlja0V4dGVybmFsQnV0dG9uKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgdGhpcy5zZXRJc09wZW4odHJ1ZSk7XG4gICAgLy8gc3RvcFByb3BhZ2F0aW9uIGlzIHJlcXVpcmVkIHRvIHByZXZlbnQgdGhlIGRhdGV0aW1lIHBpY2tlciBwb3B1cCBmcm9tIGNsb3Npbmcgd2hlblxuICAgIC8vIHRoZSBleHRlcm5hbCBidXR0b24gaXMgY2xpY2tlZFxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG5cbiAgcmVnaXN0ZXJFeHRlcm5hbEJ1dHRvbkNsaWNrKCkge1xuICAgIHRoaXMucHJvcHMuZXh0ZXJuYWxPcGVuQnV0dG9uLmN1cnJlbnQ/LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImNsaWNrXCIsXG4gICAgICB0aGlzLm9uQ2xpY2tFeHRlcm5hbEJ1dHRvblxuICAgICk7XG4gIH1cblxuICB1bnJlZ2lzdGVyRXh0ZXJuYWxCdXR0b25DbGljayhcbiAgICBleHRlcm5hbE9wZW5CdXR0b246IFJlYWN0LlJlZk9iamVjdDxIVE1MQnV0dG9uRWxlbWVudD5cbiAgKSB7XG4gICAgZXh0ZXJuYWxPcGVuQnV0dG9uLmN1cnJlbnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICBcImNsaWNrXCIsXG4gICAgICB0aGlzLm9uQ2xpY2tFeHRlcm5hbEJ1dHRvblxuICAgICk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnJlZ2lzdGVyRXh0ZXJuYWxCdXR0b25DbGljaygpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUHJvcHNUeXBlKSB7XG4gICAgdGhpcy51bnJlZ2lzdGVyRXh0ZXJuYWxCdXR0b25DbGljayhwcmV2UHJvcHMuZXh0ZXJuYWxPcGVuQnV0dG9uKTtcbiAgICB0aGlzLnJlZ2lzdGVyRXh0ZXJuYWxCdXR0b25DbGljaygpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy51bnJlZ2lzdGVyRXh0ZXJuYWxCdXR0b25DbGljayh0aGlzLnByb3BzLmV4dGVybmFsT3BlbkJ1dHRvbik7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBoZWFkaW5nLCBpdGVtLCB0IH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8Qm94IGNvbHVtbiBjZW50ZXJlZCBmbGV4PXsxfT5cbiAgICAgICAgPFNwYWNpbmcgYm90dG9tPXs0fSAvPlxuICAgICAgICA8Qm94IGNlbnRlcmVkPlxuICAgICAgICAgIDxTdHlsZWRJY29uXG4gICAgICAgICAgICBsaWdodFxuICAgICAgICAgICAgc3R5bGVkV2lkdGg9XCIyMXB4XCJcbiAgICAgICAgICAgIGdseXBoPXtJY29uLkdMWVBIUy5jYWxlbmRhcjJ9XG4gICAgICAgICAgICBjc3M9e1wibWFyZ2luLXRvcDotMnB4O1wifVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPFNwYWNpbmcgcmlnaHQ9ezJ9IC8+XG4gICAgICAgICAgPFRleHQgdGV4dExpZ2h0IGV4dHJhTGFyZ2U+XG4gICAgICAgICAgICB7aGVhZGluZ31cbiAgICAgICAgICA8L1RleHQ+XG4gICAgICAgIDwvQm94PlxuICAgICAgICA8U3BhY2luZyBib3R0b209ezJ9IC8+XG4gICAgICAgIDxCb3g+XG4gICAgICAgICAgPFByZXZCdXR0b25cbiAgICAgICAgICAgIGRpc2FibGVkPXtpdGVtLmlzUHJldmlvdXNEaXNjcmV0ZVRpbWVBdmFpbGFibGUgPT09IGZhbHNlfVxuICAgICAgICAgICAgdGl0bGU9e3QoXCJkaWZmVG9vbC5kYXRlUGlja2VyLnByZXZpb3VzRGF0ZVRpdGxlXCIpfVxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5tb3ZlVG9QcmV2aW91c0RhdGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8RGF0ZUJ1dHRvblxuICAgICAgICAgICAgcHJpbWFyeVxuICAgICAgICAgICAgaXNPcGVuPXt0aGlzLmlzT3Blbn1cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlT3Blbn1cbiAgICAgICAgICAgIHRpdGxlPXt0KFwiZGlmZlRvb2wuZGF0ZVBpY2tlci5kYXRlQnV0dG9uVGl0bGVcIil9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFRleHRTcGFuIGV4dHJhTGFyZ2U+e3RoaXMuZm9ybWF0dGVkQ3VycmVudERhdGUgfHwgXCItXCJ9PC9UZXh0U3Bhbj5cbiAgICAgICAgICA8L0RhdGVCdXR0b24+XG4gICAgICAgICAgPE5leHRCdXR0b25cbiAgICAgICAgICAgIGRpc2FibGVkPXtpdGVtLmlzTmV4dERpc2NyZXRlVGltZUF2YWlsYWJsZSA9PT0gZmFsc2V9XG4gICAgICAgICAgICB0aXRsZT17dChcImRpZmZUb29sLmRhdGVQaWNrZXIubmV4dERhdGVUaXRsZVwiKX1cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubW92ZVRvTmV4dERhdGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Cb3g+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZGlzcGxheTogdGhpcy5pc09wZW4gPyBcImJsb2NrXCIgOiBcIm5vbmVcIixcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPERhdGVUaW1lUGlja2VyXG4gICAgICAgICAgICBjdXJyZW50RGF0ZT17dGhpcy5jdXJyZW50RGF0ZX1cbiAgICAgICAgICAgIGRhdGVzPXt0aGlzLnByb3BzLml0ZW0ub2JqZWN0aWZpZWREYXRlc31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmNoYW5nZUN1cnJlbnREYXRlfVxuICAgICAgICAgICAgb3BlbkRpcmVjdGlvbj1cIm5vbmVcIlxuICAgICAgICAgICAgaXNPcGVuPXt0aGlzLmlzT3Blbn1cbiAgICAgICAgICAgIG9uT3Blbj17KCkgPT4gdGhpcy5zZXRJc09wZW4odHJ1ZSl9XG4gICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiB0aGlzLnNldElzT3BlbihmYWxzZSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxTcGFjaW5nIGJvdHRvbT17NH0gLz5cbiAgICAgIDwvQm94PlxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgUGFnZXJCdXR0b24gPSBzdHlsZWQoQnV0dG9uKS5hdHRycyh7XG4gIGljb25Qcm9wczoge1xuICAgIGNzczogXCJtYXJnaW4tcmlnaHQ6MDtcIlxuICB9XG59KWBcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUuY29sb3JQcmltYXJ5fTtcbiAgd2lkdGg6IDQwcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuXG4gICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuY2VudGVyV2l0aEZsZXgoKX1cbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbmA7XG5cbmNvbnN0IFByZXZCdXR0b24gPSBzdHlsZWQoUGFnZXJCdXR0b24pLmF0dHJzKHtcbiAgcmVuZGVySWNvbjogKCkgPT4gKFxuICAgIDxTdHlsZWRJY29uXG4gICAgICBjc3M9XCJ0cmFuc2Zvcm06cm90YXRlKDkwZGVnKTtcIlxuICAgICAgbGlnaHRcbiAgICAgIHN0eWxlZFdpZHRoPVwiMTVweFwiXG4gICAgICBnbHlwaD17SWNvbi5HTFlQSFMuYXJyb3dEb3dufVxuICAgIC8+XG4gIClcbn0pYFxuICAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmJvcmRlclJhZGl1c0xlZnQodGhlbWUucmFkaXVzNDBCdXR0b24pfVxuICBtYXJnaW4tcmlnaHQ6IDFweDtcbmA7XG5cbmNvbnN0IE5leHRCdXR0b24gPSBzdHlsZWQoUGFnZXJCdXR0b24pLmF0dHJzKHtcbiAgcmVuZGVySWNvbjogKCkgPT4gKFxuICAgIDxTdHlsZWRJY29uXG4gICAgICBjc3M9XCJ0cmFuc2Zvcm06cm90YXRlKDI3MGRlZyk7XCJcbiAgICAgIGxpZ2h0XG4gICAgICBzdHlsZWRXaWR0aD1cIjE1cHhcIlxuICAgICAgZ2x5cGg9e0ljb24uR0xZUEhTLmFycm93RG93bn1cbiAgICAvPlxuICApXG59KWBcbiAgJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ib3JkZXJSYWRpdXNSaWdodCh0aGVtZS5yYWRpdXM0MEJ1dHRvbil9XG4gIG1hcmdpbi1sZWZ0OiAxcHg7XG5gO1xuXG5jb25zdCBEYXRlQnV0dG9uID0gc3R5bGVkKEJ1dHRvbik8eyBpc09wZW46IGJvb2xlYW4gfT5gXG4gIC8vIHotaW5kZXg6IDEwMDA7IC8vIChOYW5kYSk6IFNvIHRoYXQgd2UgZG9uJ3QgbG9vc2UgdGhlIGJ1dHRvbiBjbGlja3MgdG8gdGhlIGRhdGUgcGlja2VyIHBvcHVwXG4gIHotaW5kZXg6IDA7XG4gICR7KHByb3BzKSA9PiBwcm9wcy5pc09wZW4gJiYgYHotaW5kZXg6IDEwMDA7YH07XG5cbiAgYm9yZGVyLXJhZGl1czogMHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUuY29sb3JQcmltYXJ5fTtcblxuICBtaW4td2lkdGg6IDIzNXB4O1xuICBAbWVkaWEgKG1heC13aWR0aDogJHsocHJvcHM6IGFueSkgPT4gcHJvcHMudGhlbWUubGd9cHgpIHtcbiAgICBtaW4td2lkdGg6IDE1MHB4O1xuICB9XG5gO1xuXG5leHBvcnQgZGVmYXVsdCB3aXRoVHJhbnNsYXRpb24oKShEYXRlUGlja2VyKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJQTtBQUpBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBM0pBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBOEpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBR0E7QUFBQTtBQUdBO0FBQUE7QUFHQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/terriajs/lib/ReactViews/Tools/DiffTool/DatePicker.tsx\n");

/***/ }),

/***/ "./node_modules/terriajs/lib/ReactViews/Tools/DiffTool/DiffTool.tsx":
/*!**************************************************************************!*\
  !*** ./node_modules/terriajs/lib/ReactViews/Tools/DiffTool/DiffTool.tsx ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"./node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"./node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.async-iterator.js */ \"./node_modules/core-js/modules/es.symbol.async-iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"./node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"./node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-string-tag.js */ \"./node_modules/core-js/modules/es.symbol.to-string-tag.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"./node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"./node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"./node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"./node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.reverse.js */ \"./node_modules/core-js/modules/es.array.reverse.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"./node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"./node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"./node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"./node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.json.to-string-tag.js */ \"./node_modules/core-js/modules/es.json.to-string-tag.js\");\n__webpack_require__(/*! core-js/modules/es.math.to-string-tag.js */ \"./node_modules/core-js/modules/es.math.to-string-tag.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"./node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"./node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"./node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"./node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"./node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"./node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"./node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"./node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"./node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"./node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"./node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"./node_modules/core-js/modules/web.dom-collections.for-each.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"./node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"./node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"./node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"./node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"./node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"./node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"./node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"./node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"./node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"./node_modules/core-js/modules/es.promise.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"./node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"./node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.string.search.js */ \"./node_modules/core-js/modules/es.string.search.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"./node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _styledComponents = _interopRequireWildcard(__webpack_require__(/*! styled-components */ \"./node_modules/styled-components/dist/styled-components.browser.esm.js\"));\nvar _hoistNonReactStatics = _interopRequireDefault(__webpack_require__(/*! hoist-non-react-statics */ \"./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js\"));\nvar _mobx = __webpack_require__(/*! mobx */ \"./node_modules/mobx/dist/mobx.esm.js\");\nvar _mobxReact = __webpack_require__(/*! mobx-react */ \"./node_modules/mobx-react/dist/mobxreact.esm.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"./node_modules/react/index.js\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\"));\nvar _reactI18next = __webpack_require__(/*! react-i18next */ \"./node_modules/react-i18next/dist/es/index.js\");\nvar _Cartographic = _interopRequireDefault(__webpack_require__(/*! terriajs-cesium/Source/Core/Cartographic */ \"./node_modules/terriajs-cesium/Source/Core/Cartographic.js\"));\nvar _createGuid = _interopRequireDefault(__webpack_require__(/*! terriajs-cesium/Source/Core/createGuid */ \"./node_modules/terriajs-cesium/Source/Core/createGuid.js\"));\nvar _JulianDate = _interopRequireDefault(__webpack_require__(/*! terriajs-cesium/Source/Core/JulianDate */ \"./node_modules/terriajs-cesium/Source/Core/JulianDate.js\"));\nvar _Math = _interopRequireDefault(__webpack_require__(/*! terriajs-cesium/Source/Core/Math */ \"./node_modules/terriajs-cesium/Source/Core/Math.js\"));\nvar _SplitDirection = _interopRequireDefault(__webpack_require__(/*! terriajs-cesium/Source/Scene/SplitDirection */ \"./node_modules/terriajs-cesium/Source/Scene/SplitDirection.js\"));\nvar _filterOutUndefined = _interopRequireDefault(__webpack_require__(/*! ../../../Core/filterOutUndefined */ \"./node_modules/terriajs/lib/Core/filterOutUndefined.ts\"));\nvar _isDefined = _interopRequireDefault(__webpack_require__(/*! ../../../Core/isDefined */ \"./node_modules/terriajs/lib/Core/isDefined.ts\"));\nvar _prettifyCoordinates2 = _interopRequireDefault(__webpack_require__(/*! ../../../Map/Vector/prettifyCoordinates */ \"./node_modules/terriajs/lib/Map/Vector/prettifyCoordinates.ts\"));\nvar _DiffableMixin = _interopRequireDefault(__webpack_require__(/*! ../../../ModelMixins/DiffableMixin */ \"./node_modules/terriajs/lib/ModelMixins/DiffableMixin.ts\"));\nvar _MappableMixin = _interopRequireWildcard(__webpack_require__(/*! ../../../ModelMixins/MappableMixin */ \"./node_modules/terriajs/lib/ModelMixins/MappableMixin.ts\"));\nvar _CommonStrata = _interopRequireDefault(__webpack_require__(/*! ../../../Models/Definition/CommonStrata */ \"./node_modules/terriajs/lib/Models/Definition/CommonStrata.ts\"));\nvar _hasTraits = _interopRequireDefault(__webpack_require__(/*! ../../../Models/Definition/hasTraits */ \"./node_modules/terriajs/lib/Models/Definition/hasTraits.ts\"));\nvar _LocationMarkerUtils = __webpack_require__(/*! ../../../Models/LocationMarkerUtils */ \"./node_modules/terriajs/lib/Models/LocationMarkerUtils.ts\");\nvar _SplitItemReference = _interopRequireDefault(__webpack_require__(/*! ../../../Models/Catalog/CatalogReferences/SplitItemReference */ \"./node_modules/terriajs/lib/Models/Catalog/CatalogReferences/SplitItemReference.ts\"));\nvar _Box = _interopRequireWildcard(__webpack_require__(/*! ../../../Styled/Box */ \"./node_modules/terriajs/lib/Styled/Box.tsx\"));\nvar _Button = _interopRequireWildcard(__webpack_require__(/*! ../../../Styled/Button */ \"./node_modules/terriajs/lib/Styled/Button.tsx\"));\nvar _Select = _interopRequireDefault(__webpack_require__(/*! ../../../Styled/Select */ \"./node_modules/terriajs/lib/Styled/Select.tsx\"));\nvar _Spacing = _interopRequireDefault(__webpack_require__(/*! ../../../Styled/Spacing */ \"./node_modules/terriajs/lib/Styled/Spacing.tsx\"));\nvar _Text = _interopRequireWildcard(__webpack_require__(/*! ../../../Styled/Text */ \"./node_modules/terriajs/lib/Styled/Text.tsx\"));\nvar _ImageryProviderTraits = _interopRequireDefault(__webpack_require__(/*! ../../../Traits/TraitsClasses/ImageryProviderTraits */ \"./node_modules/terriajs/lib/Traits/TraitsClasses/ImageryProviderTraits.ts\"));\nvar _parseCustomMarkdownToReact = __webpack_require__(/*! ../../Custom/parseCustomMarkdownToReact */ \"./node_modules/terriajs/lib/ReactViews/Custom/parseCustomMarkdownToReact.ts\");\nvar _Icon = __webpack_require__(/*! ../../../Styled/Icon */ \"./node_modules/terriajs/lib/Styled/Icon.tsx\");\nvar _Loader = _interopRequireDefault(__webpack_require__(/*! ../../Loader */ \"./node_modules/terriajs/lib/ReactViews/Loader.tsx\"));\nvar _DatePicker = _interopRequireDefault(__webpack_require__(/*! ./DatePicker */ \"./node_modules/terriajs/lib/ReactViews/Tools/DiffTool/DatePicker.tsx\"));\nvar _LocationPicker = _interopRequireDefault(__webpack_require__(/*! ./LocationPicker */ \"./node_modules/terriajs/lib/ReactViews/Tools/DiffTool/LocationPicker.tsx\"));\nvar _registerMapNavigations = __webpack_require__(/*! ../../Map/MapNavigation/registerMapNavigations */ \"./node_modules/terriajs/lib/ReactViews/Map/MapNavigation/registerMapNavigations.tsx\");\nvar _updateModelFromJson = _interopRequireDefault(__webpack_require__(/*! ../../../Models/Definition/updateModelFromJson */ \"./node_modules/terriajs/lib/Models/Definition/updateModelFromJson.ts\"));\nvar _dateformat = _interopRequireDefault(__webpack_require__(/*! dateformat */ \"./node_modules/dateformat/lib/dateformat.js\"));\nvar _jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nvar _dec, _class, _class2, _descriptor, _descriptor2, _descriptor3, _DiffTool, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _class3, _class4, _descriptor4, _descriptor5, _descriptor6;\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { \"default\": e }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nfunction _initializerDefineProperty(e, i, r, l) { r && Object.defineProperty(e, i, { enumerable: r.enumerable, configurable: r.configurable, writable: r.writable, value: r.initializer ? r.initializer.call(l) : void 0 }); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _applyDecoratedDescriptor(i, e, r, n, l) { var a = {}; return Object.keys(n).forEach(function (i) { a[i] = n[i]; }), a.enumerable = !!a.enumerable, a.configurable = !!a.configurable, (\"value\" in a || a.initializer) && (a.writable = !0), a = r.slice().reverse().reduce(function (r, n) { return n(i, e, r) || r; }, a), l && void 0 !== a.initializer && (a.value = a.initializer ? a.initializer.call(l) : void 0, a.initializer = void 0), void 0 === a.initializer ? (Object.defineProperty(i, e, a), null) : a; }\nfunction _initializerWarningHelper(r, e) { throw Error(\"Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.\"); }\nvar DiffTool = (_dec = _mobx.action.bound, (0, _mobxReact.observer)(_class = (_class2 = (_DiffTool = /*#__PURE__*/function (_React$Component) {\n  function DiffTool(props) {\n    var _this;\n    _classCallCheck(this, DiffTool);\n    _this = _callSuper(this, DiffTool, [props]);\n    _initializerDefineProperty(_this, \"leftItem\", _descriptor, _this);\n    _initializerDefineProperty(_this, \"rightItem\", _descriptor2, _this);\n    _initializerDefineProperty(_this, \"userSelectedSourceItem\", _descriptor3, _this);\n    _defineProperty(_this, \"splitterItemsDisposer\", void 0);\n    _defineProperty(_this, \"originalSettings\", void 0);\n    (0, _mobx.makeObservable)(_this);\n    return _this;\n  }\n  _inherits(DiffTool, _React$Component);\n  return _createClass(DiffTool, [{\n    key: \"sourceItem\",\n    get: function get() {\n      return this.userSelectedSourceItem || this.props.sourceItem;\n    }\n  }, {\n    key: \"changeSourceItem\",\n    value: function changeSourceItem(sourceItem) {\n      this.userSelectedSourceItem = sourceItem;\n    }\n  }, {\n    key: \"createSplitterItems\",\n    value: function () {\n      var _createSplitterItems = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this2 = this;\n        var _yield$Promise$all, _yield$Promise$all2, leftItem, rightItem;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return Promise.all([createSplitItem(this.sourceItem, _SplitDirection[\"default\"].LEFT), createSplitItem(this.sourceItem, _SplitDirection[\"default\"].RIGHT)]);\n            case 3:\n              _yield$Promise$all = _context.sent;\n              _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n              leftItem = _yield$Promise$all2[0];\n              rightItem = _yield$Promise$all2[1];\n              (0, _mobx.runInAction)(function () {\n                _this2.leftItem = leftItem;\n                _this2.rightItem = rightItem;\n              });\n              _context.next = 12;\n              break;\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[0, 10]]);\n      }));\n      function createSplitterItems() {\n        return _createSplitterItems.apply(this, arguments);\n      }\n      return createSplitterItems;\n    }()\n  }, {\n    key: \"removeSplitterItems\",\n    value: function removeSplitterItems() {\n      this.leftItem && removeSplitItem(this.leftItem);\n      this.rightItem && removeSplitItem(this.rightItem);\n    }\n  }, {\n    key: \"enterDiffTool\",\n    value: function enterDiffTool() {\n      var _this3 = this;\n      // Start the reaction that splits the sourceItem into left & right items\n      this.splitterItemsDisposer = (0, _mobx.reaction)(function () {\n        return _this3.sourceItem;\n      }, function () {\n        _this3.removeSplitterItems();\n        _this3.createSplitterItems();\n      }, {\n        fireImmediately: true\n      });\n      var viewState = this.props.viewState;\n      var terria = viewState.terria;\n      this.originalSettings = {\n        showSplitter: terria.showSplitter,\n        isMapFullScreen: viewState.isMapFullScreen\n      };\n      terria.showSplitter = true;\n      viewState.setIsMapFullScreen(true);\n      this.sourceItem.setTrait(_CommonStrata[\"default\"].user, \"show\", false);\n      terria.mapNavigationModel.show(_registerMapNavigations.CLOSE_TOOL_ID);\n      terria.elements.set(\"timeline\", {\n        visible: false\n      });\n      var closeTool = terria.mapNavigationModel.findItem(_registerMapNavigations.CLOSE_TOOL_ID);\n      if (closeTool) {\n        closeTool.controller.activate();\n      }\n    }\n  }, {\n    key: \"leaveDiffTool\",\n    value: function leaveDiffTool() {\n      var _this$splitterItemsDi;\n      var viewState = this.props.viewState;\n      var terria = viewState.terria;\n      var originalSettings = this.originalSettings;\n      this.removeSplitterItems();\n      (_this$splitterItemsDi = this.splitterItemsDisposer) === null || _this$splitterItemsDi === void 0 ? void 0 : _this$splitterItemsDi.call(this);\n      terria.showSplitter = originalSettings.showSplitter;\n      viewState.setIsMapFullScreen(originalSettings.isMapFullScreen);\n      this.sourceItem.setTrait(_CommonStrata[\"default\"].user, \"show\", true);\n      terria.mapNavigationModel.hide(_registerMapNavigations.CLOSE_TOOL_ID);\n      terria.elements.set(\"timeline\", {\n        visible: true\n      });\n      var closeTool = terria.mapNavigationModel.findItem(_registerMapNavigations.CLOSE_TOOL_ID);\n      if (closeTool) {\n        closeTool.controller.deactivate();\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.enterDiffTool();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.leaveDiffTool();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.leftItem && this.rightItem) {\n        return /*#__PURE__*/(0, _jsxRuntime.jsx)(Main, _objectSpread(_objectSpread({}, this.props), {}, {\n          theme: this.props.theme,\n          terria: this.props.viewState.terria,\n          sourceItem: this.sourceItem,\n          changeSourceItem: this.changeSourceItem,\n          leftItem: this.leftItem,\n          rightItem: this.rightItem\n        }));\n      } else return null;\n    }\n  }]);\n}(_react[\"default\"].Component), _defineProperty(_DiffTool, \"toolName\", \"Image Difference\"), _DiffTool), _descriptor = _applyDecoratedDescriptor(_class2.prototype, \"leftItem\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"rightItem\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"userSelectedSourceItem\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class2.prototype, \"sourceItem\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class2.prototype, \"sourceItem\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"changeSourceItem\", [_dec], Object.getOwnPropertyDescriptor(_class2.prototype, \"changeSourceItem\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"createSplitterItems\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"createSplitterItems\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"removeSplitterItems\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"removeSplitterItems\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"enterDiffTool\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"enterDiffTool\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"leaveDiffTool\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"leaveDiffTool\"), _class2.prototype), _class2)) || _class);\nvar Main = (_dec2 = _mobx.action.bound, _dec3 = _mobx.action.bound, _dec4 = _mobx.action.bound, _dec5 = _mobx.action.bound, _dec6 = _mobx.action.bound, _dec7 = _mobx.action.bound, _dec8 = _mobx.action.bound, _dec9 = _mobx.action.bound, (0, _mobxReact.observer)(_class3 = (_class4 = /*#__PURE__*/function (_React$Component2) {\n  function Main(props) {\n    var _this4;\n    _classCallCheck(this, Main);\n    _this4 = _callSuper(this, Main, [props]);\n    _initializerDefineProperty(_this4, \"location\", _descriptor4, _this4);\n    _initializerDefineProperty(_this4, \"_locationPickError\", _descriptor5, _this4);\n    _initializerDefineProperty(_this4, \"_isPickingNewLocation\", _descriptor6, _this4);\n    _defineProperty(_this4, \"openLeftDatePickerButton\", /*#__PURE__*/_react[\"default\"].createRef());\n    _defineProperty(_this4, \"openRightDatePickerButton\", /*#__PURE__*/_react[\"default\"].createRef());\n    (0, _mobx.makeObservable)(_this4);\n    return _this4;\n  }\n  _inherits(Main, _React$Component2);\n  return _createClass(Main, [{\n    key: \"locationPickerMessages\",\n    get: function get() {\n      var t = this.props.t;\n      if (this._locationPickError) {\n        return {\n          title: t(\"diffTool.locationPicker.errorMessages.title\"),\n          beforePick: t(\"diffTool.locationPicker.errorMessages.beforePick\"),\n          afterPick: t(\"diffTool.locationPicker.errorMessages.afterPick\")\n        };\n      } else if (this.location) {\n        return {\n          title: t(\"diffTool.locationPicker.nextMessages.title\", (0, _prettifyCoordinates2[\"default\"])(this.location.longitude, this.location.latitude, {\n            digits: 2\n          })),\n          beforePick: t(\"diffTool.locationPicker.nextMessages.beforePick\"),\n          afterPick: t(\"diffTool.locationPicker.nextMessages.afterPick\")\n        };\n      } else {\n        return {\n          title: t(\"diffTool.locationPicker.initialMessages.title\"),\n          beforePick: t(\"diffTool.locationPicker.initialMessages.beforePick\"),\n          afterPick: t(\"diffTool.locationPicker.initialMessages.afterPick\")\n        };\n      }\n    }\n  }, {\n    key: \"diffItem\",\n    get: function get() {\n      return this.props.leftItem;\n    }\n  }, {\n    key: \"diffItemName\",\n    get: function get() {\n      var name = this.props.sourceItem.name || \"\";\n      var firstDate = this.leftDate;\n      var secondDate = this.rightDate;\n      var format = \"yyyy/mm/dd\";\n      if (!firstDate || !secondDate) {\n        return name;\n      } else {\n        var d1 = (0, _dateformat[\"default\"])(_JulianDate[\"default\"].toDate(firstDate), format);\n        var d2 = (0, _dateformat[\"default\"])(_JulianDate[\"default\"].toDate(secondDate), format);\n        return \"\".concat(name, \" - difference for dates \").concat(d1, \", \").concat(d2);\n      }\n    }\n  }, {\n    key: \"diffableItemsInWorkbench\",\n    get: function get() {\n      return this.props.terria.workbench.items.filter(function (item) {\n        return _DiffableMixin[\"default\"].isMixedInto(item) && item.canDiffImages;\n      });\n    }\n  }, {\n    key: \"previewStyle\",\n    get: function get() {\n      var _this$diffItem$styleS, _this$diffItem$styleS2;\n      return (_this$diffItem$styleS = this.diffItem.styleSelectableDimensions) === null || _this$diffItem$styleS === void 0 ? void 0 : (_this$diffItem$styleS2 = _this$diffItem$styleS[0]) === null || _this$diffItem$styleS2 === void 0 ? void 0 : _this$diffItem$styleS2.selectedId;\n    }\n  }, {\n    key: \"diffStyle\",\n    get: function get() {\n      return this.diffItem.diffStyleId;\n    }\n  }, {\n    key: \"availableDiffStyles\",\n    get: function get() {\n      var _this5 = this;\n      return (0, _filterOutUndefined[\"default\"])(this.diffItem.availableDiffStyles.map(function (diffStyleId) {\n        var _this5$diffItem$style, _this5$diffItem$style2, _this5$diffItem$style3;\n        return (_this5$diffItem$style = _this5.diffItem.styleSelectableDimensions) === null || _this5$diffItem$style === void 0 ? void 0 : (_this5$diffItem$style2 = _this5$diffItem$style[0]) === null || _this5$diffItem$style2 === void 0 ? void 0 : (_this5$diffItem$style3 = _this5$diffItem$style2.options) === null || _this5$diffItem$style3 === void 0 ? void 0 : _this5$diffItem$style3.find(function (style) {\n          return style.id === diffStyleId;\n        });\n      }));\n    }\n  }, {\n    key: \"leftDate\",\n    get: function get() {\n      return this.props.leftItem.currentDiscreteJulianDate;\n    }\n  }, {\n    key: \"rightDate\",\n    get: function get() {\n      return this.props.rightItem.currentDiscreteJulianDate;\n    }\n  }, {\n    key: \"diffLegendUrl\",\n    get: function get() {\n      return this.diffStyle && this.leftDate && this.rightDate && this.diffItem.getLegendUrlForStyle(this.diffStyle, this.leftDate, this.rightDate);\n    }\n  }, {\n    key: \"previewLegendUrl\",\n    get: function get() {\n      return this.previewStyle && this.diffItem.getLegendUrlForStyle(this.previewStyle);\n    }\n  }, {\n    key: \"showItem\",\n    value: function showItem(model) {\n      // We change the opacity instead of setting `show` to true/false, because\n      // we want the item to be on the map for date selection to work\n      hasOpacity(model) && model.setTrait(_CommonStrata[\"default\"].user, \"opacity\", 0.8);\n    }\n  }, {\n    key: \"hideItem\",\n    value: function hideItem(model) {\n      // We change the opacity instead of setting `show` to true/false, because\n      // we want the item to be on the map for date selection to work\n      hasOpacity(model) && model.setTrait(_CommonStrata[\"default\"].user, \"opacity\", 0);\n    }\n  }, {\n    key: \"changeSourceItem\",\n    value: function changeSourceItem(e) {\n      var newSourceItem = this.diffableItemsInWorkbench.find(function (item) {\n        return item.uniqueId === e.target.value;\n      });\n      if (newSourceItem) this.props.changeSourceItem(newSourceItem);\n    }\n  }, {\n    key: \"changePreviewStyle\",\n    value: function changePreviewStyle(e) {\n      var _this$props$leftItem$, _this$props$leftItem$2, _this$props$rightItem, _this$props$rightItem2;\n      var styleId = e.target.value;\n      (_this$props$leftItem$ = this.props.leftItem.styleSelectableDimensions) === null || _this$props$leftItem$ === void 0 ? void 0 : (_this$props$leftItem$2 = _this$props$leftItem$[0]) === null || _this$props$leftItem$2 === void 0 ? void 0 : _this$props$leftItem$2.setDimensionValue(_CommonStrata[\"default\"].user, styleId);\n      (_this$props$rightItem = this.props.rightItem.styleSelectableDimensions) === null || _this$props$rightItem === void 0 ? void 0 : (_this$props$rightItem2 = _this$props$rightItem[0]) === null || _this$props$rightItem2 === void 0 ? void 0 : _this$props$rightItem2.setDimensionValue(_CommonStrata[\"default\"].user, styleId);\n    }\n  }, {\n    key: \"changeDiffStyle\",\n    value: function changeDiffStyle(e) {\n      this.diffItem.setTrait(_CommonStrata[\"default\"].user, \"diffStyleId\", e.target.value);\n    }\n  }, {\n    key: \"onUserPickingLocation\",\n    value: function onUserPickingLocation(_pickingLocation) {\n      this._isPickingNewLocation = true;\n    }\n  }, {\n    key: \"onUserPickLocation\",\n    value: function onUserPickLocation(pickedFeatures, pickedLocation) {\n      var _this$props = this.props,\n        leftItem = _this$props.leftItem,\n        rightItem = _this$props.rightItem;\n      var feature = pickedFeatures.features.find(function (f) {\n        return doesFeatureBelongToItem(f, leftItem) || doesFeatureBelongToItem(f, rightItem);\n      });\n      if (feature) {\n        leftItem.setTimeFilterFeature(feature, pickedFeatures.providerCoords);\n        rightItem.setTimeFilterFeature(feature, pickedFeatures.providerCoords);\n        this.location = pickedLocation;\n        this._locationPickError = false;\n      } else {\n        this._locationPickError = true;\n      }\n      this._isPickingNewLocation = false;\n    }\n  }, {\n    key: \"unsetDates\",\n    value: function unsetDates() {\n      var _this$props2 = this.props,\n        leftItem = _this$props2.leftItem,\n        rightItem = _this$props2.rightItem;\n      leftItem.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", null);\n      rightItem.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", null);\n      this.hideItem(leftItem);\n      this.hideItem(rightItem);\n    }\n  }, {\n    key: \"generateDiff\",\n    value: function generateDiff() {\n      if (this.leftDate === undefined || this.rightDate === undefined || this.diffStyle === undefined) {\n        return;\n      }\n      var terria = this.props.terria;\n      terria.overlays.remove(this.props.leftItem);\n      terria.overlays.remove(this.props.rightItem);\n      terria.workbench.add(this.diffItem);\n      this.diffItem.setTrait(_CommonStrata[\"default\"].user, \"name\", this.diffItemName);\n      this.diffItem.showDiffImage(this.leftDate, this.rightDate, this.diffStyle);\n\n      // If given, appply additional properties for the diff item\n      var diffItemProperties = this.diffItem.diffItemProperties;\n      if (diffItemProperties) {\n        (0, _updateModelFromJson[\"default\"])(this.diffItem, _CommonStrata[\"default\"].user, diffItemProperties);\n      }\n      terria.showSplitter = false;\n    }\n  }, {\n    key: \"resetTool\",\n    value: function resetTool() {\n      var terria = this.props.terria;\n      this.diffItem.clearDiffImage();\n      setDefaultDiffStyle(this.diffItem);\n      terria.overlays.add(this.props.leftItem);\n      terria.overlays.add(this.props.rightItem);\n      terria.workbench.remove(this.diffItem);\n      this.props.terria.showSplitter = true;\n      this.props.leftItem.setTrait(_CommonStrata[\"default\"].user, \"splitDirection\", _SplitDirection[\"default\"].LEFT);\n      this.props.rightItem.setTrait(_CommonStrata[\"default\"].user, \"splitDirection\", _SplitDirection[\"default\"].RIGHT);\n    }\n  }, {\n    key: \"setLocationFromActiveSearch\",\n    value: function () {\n      var _setLocationFromActiveSearch = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _this6 = this;\n        var markerLocation, sourceItem, part, imageryProvider, promises, someSuccessful;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              // Look for any existing marker like from a search result and filter\n              // imagery at that location\n              markerLocation = (0, _LocationMarkerUtils.getMarkerLocation)(this.props.terria);\n              sourceItem = this.props.sourceItem;\n              if (!(markerLocation && _MappableMixin[\"default\"].isMixedInto(sourceItem))) {\n                _context2.next = 11;\n                break;\n              }\n              part = sourceItem.mapItems.find(function (p) {\n                return _MappableMixin.ImageryParts.is(p);\n              });\n              imageryProvider = part && _MappableMixin.ImageryParts.is(part) && part.imageryProvider;\n              if (!imageryProvider) {\n                _context2.next = 11;\n                break;\n              }\n              promises = [setTimeFilterFromLocation(this.props.leftItem, markerLocation, imageryProvider), setTimeFilterFromLocation(this.props.rightItem, markerLocation, imageryProvider)];\n              _context2.next = 9;\n              return Promise.all(promises);\n            case 9:\n              someSuccessful = _context2.sent.some(function (ok) {\n                return ok;\n              });\n              if (someSuccessful) {\n                (0, _mobx.runInAction)(function () {\n                  return _this6.location = markerLocation;\n                });\n              } else {\n                // If we cannot resolve imagery at the marker location, remove it\n                (0, _LocationMarkerUtils.removeMarker)(this.props.terria);\n              }\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function setLocationFromActiveSearch() {\n        return _setLocationFromActiveSearch.apply(this, arguments);\n      }\n      return setLocationFromActiveSearch;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this7 = this;\n      (0, _mobx.runInAction)(function () {\n        if (_this7.location === undefined) {\n          var _this7$diffItem$timeF = _this7.diffItem.timeFilterCoordinates,\n            latitude = _this7$diffItem$timeF.latitude,\n            longitude = _this7$diffItem$timeF.longitude,\n            height = _this7$diffItem$timeF.height;\n          if (latitude !== undefined && longitude !== undefined) {\n            _this7.location = {\n              latitude: latitude,\n              longitude: longitude,\n              height: height\n            };\n            // remove any active search location marker to avoid showing two markers\n            (0, _LocationMarkerUtils.removeMarker)(_this7.props.terria);\n          } else {\n            _this7.setLocationFromActiveSearch();\n          }\n        }\n      });\n    }\n\n    // i want to restructure the render so that there's 2 distinct \"showing diff\"\n    // or not states, right now intertwining them means way too many conditionals\n    // that confuse the required spacing etc.\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$diffItem$styleS3,\n        _this$diffItem$styleS4,\n        _this$diffItem$styleS5,\n        _this8 = this;\n      var _this$props3 = this.props,\n        terria = _this$props3.terria,\n        viewState = _this$props3.viewState,\n        sourceItem = _this$props3.sourceItem,\n        t = _this$props3.t,\n        theme = _this$props3.theme;\n      var isShowingDiff = this.diffItem.isShowingDiff;\n      var datesSelected = this.leftDate && this.rightDate;\n      var isReadyToGenerateDiff = this.location && datesSelected && this.diffStyle !== undefined;\n      return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Text[\"default\"], {\n        large: true,\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(DiffAccordion, {\n          viewState: viewState,\n          t: t,\n          children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(MainPanel, {\n            isMapFullScreen: viewState.isMapFullScreen,\n            styledMaxHeight: \"calc(100vh - \".concat(viewState.bottomDockHeight, \"px - 150px)\"),\n            children: [isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Box[\"default\"], {\n                centered: true,\n                left: true,\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledBackButton, {\n                  transparentBg: true,\n                  onClick: this.resetTool,\n                  $_css: theme.textLight,\n                  $_css2: theme.textLight,\n                  children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box.BoxSpan, {\n                    centered: true,\n                    children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledStyledIcon, {\n                      light: true,\n                      styledWidth: \"16px\",\n                      glyph: _Icon.GLYPHS.arrowDown\n                    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n                      noFontSize: true,\n                      children: t(\"general.back\")\n                    })]\n                  })\n                })\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 3\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n                medium: true,\n                textLight: true,\n                children: t(\"diffTool.differenceResultsTitle\")\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 2\n              })]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n              textLight: true,\n              children: t(\"diffTool.instructions.paneDescription\")\n            }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n              bottom: 3\n            }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(LocationAndDatesDisplayBox, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_Text[\"default\"], {\n                  medium: true,\n                  children: [t(\"diffTool.labels.area\"), \":\"]\n                }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"div\", {\n                  children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n                    medium: true,\n                    textLightDimmed: !this.location,\n                    children: this.location ? t(\"diffTool.locationDisplay.locationSelected.title\") : t(\"diffTool.locationDisplay.noLocationSelected.title\")\n                  }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n                    light: true,\n                    textLight: true,\n                    small: true,\n                    children: this.location ? t(\"diffTool.locationDisplay.locationSelected.description\") : t(\"diffTool.locationDisplay.noLocationSelected.description\")\n                  })]\n                })]\n              }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_Text[\"default\"], {\n                  medium: true,\n                  children: [t(\"diffTool.labels.dates\"), \":\"]\n                }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n                  column: true,\n                  alignItemsFlexStart: true,\n                  children: [this.leftDate && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Text[\"default\"], {\n                    large: true,\n                    children: [\"(A)\", \" \", (0, _dateformat[\"default\"])(_JulianDate[\"default\"].toDate(this.leftDate), \"dd/mm/yyyy\")]\n                  }), !this.leftDate && /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.RawButton, {\n                    ref: this.openLeftDatePickerButton,\n                    children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n                      isLink: true,\n                      small: true,\n                      children: t(\"diffTool.instructions.setDateA\")\n                    })\n                  }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                    bottom: 1\n                  }), this.rightDate && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_Text[\"default\"], {\n                    large: true,\n                    children: [\"(B)\", \" \", (0, _dateformat[\"default\"])(_JulianDate[\"default\"].toDate(this.rightDate), \"dd/mm/yyyy\")]\n                  }), !this.rightDate && /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.RawButton, {\n                    ref: this.openRightDatePickerButton,\n                    children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n                      isLink: true,\n                      small: true,\n                      children: t(\"diffTool.instructions.setDateB\")\n                    })\n                  }), isShowingDiff === false && this.leftDate && this.rightDate && /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.RawButton, {\n                    onClick: this.unsetDates,\n                    children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n                      isLink: true,\n                      small: true,\n                      children: t(\"diffTool.instructions.changeDates\")\n                    })\n                  })]\n                })]\n              })]\n            }), !isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 4\n              }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(Selector, {\n                viewState: viewState,\n                value: sourceItem.uniqueId,\n                onChange: this.changeSourceItem,\n                label: t(\"diffTool.labels.sourceDataset\"),\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                  disabled: true,\n                  children: \"Select source item\"\n                }), this.diffableItemsInWorkbench.map(function (item) {\n                  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                    value: item.uniqueId,\n                    children: item.name\n                  }, item.uniqueId);\n                })]\n              })]\n            }), !isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 4\n              }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(Selector, {\n                viewState: viewState,\n                spacingBottom: true,\n                value: this.previewStyle,\n                onChange: this.changePreviewStyle,\n                label: t(\"diffTool.labels.previewStyle\"),\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                  disabled: true,\n                  value: \"\",\n                  children: t(\"diffTool.choosePreview\")\n                }), (_this$diffItem$styleS3 = this.diffItem.styleSelectableDimensions) === null || _this$diffItem$styleS3 === void 0 ? void 0 : (_this$diffItem$styleS4 = _this$diffItem$styleS3[0]) === null || _this$diffItem$styleS4 === void 0 ? void 0 : (_this$diffItem$styleS5 = _this$diffItem$styleS4.options) === null || _this$diffItem$styleS5 === void 0 ? void 0 : _this$diffItem$styleS5.map(function (style) {\n                  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                    value: style.id,\n                    children: style.name\n                  }, style.id);\n                })]\n              }), this.previewLegendUrl && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                  bottom: 2\n                }), /*#__PURE__*/(0, _jsxRuntime.jsx)(LegendImage, {\n                  width: \"100%\",\n                  src: this.previewLegendUrl\n                })]\n              })]\n            }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n              bottom: 2\n            }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(Selector, {\n              viewState: viewState,\n              value: this.diffStyle || \"\",\n              onChange: this.changeDiffStyle,\n              label: t(\"diffTool.labels.differenceOutput\"),\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                disabled: true,\n                value: \"\",\n                children: t(\"diffTool.chooseDifference\")\n              }), this.availableDiffStyles.map(function (style) {\n                return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"option\", {\n                  value: style.id,\n                  children: style.name\n                }, style.id);\n              })]\n            }), isShowingDiff && this.diffLegendUrl && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(LegendImage, {\n                width: \"100%\",\n                src: this.diffLegendUrl\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 4\n              })]\n            }), !isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n              children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                bottom: 4\n              }), /*#__PURE__*/(0, _jsxRuntime.jsx)(GenerateButton, {\n                onClick: this.generateDiff,\n                disabled: !isReadyToGenerateDiff,\n                \"aria-describedby\": \"TJSDifferenceDisabledButtonPrompt\",\n                children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n                  large: true,\n                  children: t(\"diffTool.labels.generateDiffButtonText\")\n                })\n              }), !isReadyToGenerateDiff && /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n                children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                  bottom: 3\n                }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n                  small: true,\n                  light: true,\n                  textLight: true,\n                  id: \"TJSDifferenceDisabledButtonPrompt\",\n                  children: t(\"diffTool.labels.disabledButtonPrompt\")\n                }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n                  bottom: 4\n                })]\n              })]\n            })]\n          })\n        }), isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsx)(CloseDifferenceButton, {\n          primary: true,\n          rounded: true,\n          textProps: {\n            semiBold: true,\n            extraLarge: true\n          },\n          theme: theme,\n          activeStyles: true,\n          onClick: this.resetTool,\n          renderIcon: function renderIcon() {\n            return /*#__PURE__*/(0, _jsxRuntime.jsx)(_Icon.StyledIcon, {\n              light: true,\n              styledWidth: \"13px\",\n              glyph: _Icon.GLYPHS.closeLight\n            });\n          },\n          iconProps: {\n            css: \"margin-right: 10px;\"\n          },\n          children: \"Close\"\n        }), !isShowingDiff && /*#__PURE__*/(0, _jsxRuntime.jsx)(_LocationPicker[\"default\"], {\n          terria: terria,\n          location: this.location,\n          onPicking: this.onUserPickingLocation,\n          onPicked: this.onUserPickLocation\n        }), !isShowingDiff && /*#__PURE__*/_reactDom[\"default\"].createPortal(\n        /*#__PURE__*/\n        // Bottom Panel\n        (0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n          centered: true,\n          fullWidth: true,\n          flexWrap: true,\n          backgroundColor: theme.dark,\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_DatePicker[\"default\"], {\n            heading: t(\"diffTool.labels.dateComparisonA\"),\n            item: this.props.leftItem,\n            externalOpenButton: this.openLeftDatePickerButton,\n            onDateSet: function onDateSet() {\n              return _this8.showItem(_this8.props.leftItem);\n            }\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(AreaFilterSelection, {\n            t: t,\n            location: this.location,\n            isPickingNewLocation: this._isPickingNewLocation\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_DatePicker[\"default\"], {\n            heading: t(\"diffTool.labels.dateComparisonB\"),\n            item: this.props.rightItem,\n            externalOpenButton: this.openRightDatePickerButton,\n            onDateSet: function onDateSet() {\n              return _this8.showItem(_this8.props.rightItem);\n            }\n          })]\n        }), document.getElementById(\"TJS-BottomDockLastPortal\"))]\n      });\n    }\n  }]);\n}(_react[\"default\"].Component), _descriptor4 = _applyDecoratedDescriptor(_class4.prototype, \"location\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class4.prototype, \"_locationPickError\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class4.prototype, \"_isPickingNewLocation\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class4.prototype, \"locationPickerMessages\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"locationPickerMessages\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"diffItem\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"diffItem\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"diffItemName\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"diffItemName\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"diffableItemsInWorkbench\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"diffableItemsInWorkbench\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"previewStyle\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"previewStyle\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"diffStyle\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"diffStyle\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"availableDiffStyles\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"availableDiffStyles\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"leftDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"leftDate\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"rightDate\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"rightDate\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"diffLegendUrl\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"diffLegendUrl\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"previewLegendUrl\", [_mobx.computed], Object.getOwnPropertyDescriptor(_class4.prototype, \"previewLegendUrl\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"showItem\", [_mobx.action], Object.getOwnPropertyDescriptor(_class4.prototype, \"showItem\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"hideItem\", [_mobx.action], Object.getOwnPropertyDescriptor(_class4.prototype, \"hideItem\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"changeSourceItem\", [_dec2], Object.getOwnPropertyDescriptor(_class4.prototype, \"changeSourceItem\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"changePreviewStyle\", [_dec3], Object.getOwnPropertyDescriptor(_class4.prototype, \"changePreviewStyle\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"changeDiffStyle\", [_dec4], Object.getOwnPropertyDescriptor(_class4.prototype, \"changeDiffStyle\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"onUserPickingLocation\", [_dec5], Object.getOwnPropertyDescriptor(_class4.prototype, \"onUserPickingLocation\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"onUserPickLocation\", [_dec6], Object.getOwnPropertyDescriptor(_class4.prototype, \"onUserPickLocation\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"unsetDates\", [_dec7], Object.getOwnPropertyDescriptor(_class4.prototype, \"unsetDates\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"generateDiff\", [_dec8], Object.getOwnPropertyDescriptor(_class4.prototype, \"generateDiff\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"resetTool\", [_dec9], Object.getOwnPropertyDescriptor(_class4.prototype, \"resetTool\"), _class4.prototype), _applyDecoratedDescriptor(_class4.prototype, \"setLocationFromActiveSearch\", [_mobx.action], Object.getOwnPropertyDescriptor(_class4.prototype, \"setLocationFromActiveSearch\"), _class4.prototype), _class4)) || _class3);\nvar DiffAccordionToggle = (0, _styledComponents[\"default\"])(_Box[\"default\"]).withConfig({\n  displayName: \"DiffTool__DiffAccordionToggle\",\n  componentId: \"sc-3vyhxu-0\"\n})([\"\", \"\"], function (_ref) {\n  var theme = _ref.theme;\n  return theme.borderRadiusTop(theme.radius40Button);\n});\nvar DiffAccordion = function DiffAccordion(props) {\n  var _useState = (0, _react.useState)(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    showChildren = _useState2[0],\n    setShowChildren = _useState2[1];\n  var t = props.t,\n    viewState = props.viewState;\n  var theme = (0, _styledComponents.useTheme)();\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(DiffAccordionWrapper, {\n    isMapFullScreen: viewState.isMapFullScreen,\n    column: true,\n    children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(DiffAccordionToggle, {\n      paddedVertically: true,\n      paddedHorizontally: 2,\n      centered: true,\n      justifySpaceBetween: true,\n      backgroundColor: theme.colorSecondary,\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n        centered: true,\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Icon.StyledIcon, {\n          styledWidth: \"20px\",\n          light: true,\n          glyph: _Icon.GLYPHS.difference\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n          right: 1\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n          textLight: true,\n          semiBold: true\n          // font-size is non standard with what we have so far in terria,\n          // lineheight as well to hit nonstandard paddings\n          ,\n          styledFontSize: \"17px\",\n          styledLineHeight: \"30px\",\n          children: t(\"diffTool.title\")\n        })]\n      }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(_StyledBox, {\n        centered: true,\n        $_css3: \"margin-right:-5px;\",\n        children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.RawButton, {\n          onClick: function onClick() {\n            return viewState.closeTool();\n          },\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text.TextSpan, {\n            textLight: true,\n            small: true,\n            semiBold: true,\n            uppercase: true,\n            children: t(\"diffTool.exit\")\n          })\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n          right: 4\n        }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Button.RawButton, {\n          onClick: function onClick() {\n            return setShowChildren(!showChildren);\n          },\n          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Box.BoxSpan, {\n            paddedRatio: 1,\n            centered: true,\n            children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Icon.StyledIcon, {\n              styledWidth: \"12px\",\n              light: true,\n              glyph: showChildren ? _Icon.GLYPHS.opened : _Icon.GLYPHS.closed\n            })\n          })\n        })]\n      })]\n    }), showChildren && props.children]\n  });\n};\nvar DiffAccordionWrapper = (0, _styledComponents[\"default\"])(_Box[\"default\"]).attrs({\n  column: true,\n  position: \"absolute\",\n  styledWidth: \"340px\"\n  // charcoalGreyBg: true\n}).withConfig({\n  displayName: \"DiffTool__DiffAccordionWrapper\",\n  componentId: \"sc-3vyhxu-1\"\n})([\"top:70px;left:0px;min-height:220px;margin-left:\", \"px;transition:margin-left 0.25s;\"], function (props) {\n  return props.isMapFullScreen ? 16 : parseInt(props.theme.workbenchWidth, 10) + 40;\n});\nvar MainPanel = (0, _styledComponents[\"default\"])(_Box[\"default\"]).attrs({\n  column: true,\n  overflowY: \"auto\",\n  paddedRatio: 2\n}).withConfig({\n  displayName: \"DiffTool__MainPanel\",\n  componentId: \"sc-3vyhxu-2\"\n})([\"\", \" background-color:\", \";\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.borderRadiusBottom(theme.radius40Button);\n}, function (p) {\n  return p.theme.darkWithOverlay;\n});\nvar BackButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).attrs({\n  secondary: true\n}).withConfig({\n  displayName: \"DiffTool__BackButton\",\n  componentId: \"sc-3vyhxu-3\"\n})([\"\"]);\nvar _StyledBackButton = (0, _styledComponents[\"default\"])(BackButton).withConfig({\n  displayName: \"DiffTool___StyledBackButton\",\n  componentId: \"sc-3vyhxu-4\"\n})([\"color:\", \";border-color:\", \";\"], function (p) {\n  return p.$_css;\n}, function (p) {\n  return p.$_css2;\n});\nvar CloseDifferenceButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).withConfig({\n  displayName: \"DiffTool__CloseDifferenceButton\",\n  componentId: \"sc-3vyhxu-5\"\n})([\"position:absolute;left:50%;transform:translateX(-50%);top:18px;padding:0 20px;\"]);\nvar GenerateButton = (0, _styledComponents[\"default\"])(_Button[\"default\"]).attrs({\n  primary: true,\n  splitter: true,\n  fullWidth: true\n}).withConfig({\n  displayName: \"DiffTool__GenerateButton\",\n  componentId: \"sc-3vyhxu-6\"\n})([\"\"]);\nvar Selector = function Selector(props) {\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_Box[\"default\"], {\n    fullWidth: true,\n    column: true,\n    children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(\"label\", {\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledText, {\n        textLight: true,\n        $_css4: \"p {margin: 0;}\",\n        children: (0, _parseCustomMarkdownToReact.parseCustomMarkdownToReactWithOptions)(\"\".concat(props.label, \":\"), {\n          injectTermsAsTooltips: true,\n          tooltipTerms: props.viewState.terria.configParameters.helpContentTerms\n        })\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n        bottom: 1\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Select[\"default\"], _objectSpread(_objectSpread({}, props), {}, {\n        children: props.children\n      })), props.spacingBottom && /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n        bottom: 2\n      })]\n    })\n  });\n};\nvar AreaFilterSelection = function AreaFilterSelection(props) {\n  var t = props.t,\n    location = props.location,\n    isPickingNewLocation = props.isPickingNewLocation;\n  var locationText = \"-\";\n  if (location) {\n    var _prettifyCoordinates = (0, _prettifyCoordinates2[\"default\"])(location.longitude, location.latitude, {\n        digits: 2\n      }),\n      longitude = _prettifyCoordinates.longitude,\n      latitude = _prettifyCoordinates.latitude;\n    locationText = \"\".concat(longitude, \" \").concat(latitude);\n  }\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_StyledBox2, {\n    column: true,\n    centered: true,\n    styledMinWidth: \"230px\",\n    children: [/*#__PURE__*/(0, _jsxRuntime.jsxs)(_Box[\"default\"], {\n      centered: true,\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(_Icon.StyledIcon, {\n        light: true,\n        styledWidth: \"16px\",\n        glyph: _Icon.GLYPHS.location2\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n        right: 2\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n        textLight: true,\n        extraLarge: true,\n        children: t(\"diffTool.labels.areaFilterSelection\")\n      })]\n    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Spacing[\"default\"], {\n      bottom: 3\n    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_Box[\"default\"], {\n      styledMinHeight: \"40px\",\n      children: isPickingNewLocation ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_StyledText2, {\n        textLight: true,\n        extraExtraLarge: true,\n        bold: true\n        // Using legacy Loader.jsx means we override at a higher level to inherit\n        // this fills tyle\n        ,\n        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Loader[\"default\"], {\n          light: true,\n          message: \"Querying \".concat(location ? \"new\" : \"\", \" position...\")\n        })\n      }) : /*#__PURE__*/(0, _jsxRuntime.jsx)(_Text[\"default\"], {\n        textLight: true,\n        bold: true,\n        heading: true,\n        textAlignCenter: true,\n        children: locationText\n      })\n    })]\n  });\n};\nvar LocationAndDatesDisplayBox = (0, _styledComponents[\"default\"])(_Box[\"default\"]).attrs({\n  column: true,\n  charcoalGreyBg: true\n}).withConfig({\n  displayName: \"DiffTool__LocationAndDatesDisplayBox\",\n  componentId: \"sc-3vyhxu-7\"\n})([\"color:\", \";padding:15px;> \", \":first-child{margin-bottom:13px;}> div > div:first-child{margin-right:5px;min-width:50px;}\"], function (p) {\n  return p.theme.textLight;\n}, _Box[\"default\"]);\nvar LegendImage = function LegendImage(props) {\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"img\", _objectSpread(_objectSpread({}, props), {}, {\n    // Show the legend only if it loads successfully, so we start out hidden\n    style: {\n      display: \"none\",\n      marginTop: \"4px\"\n    },\n    onLoad: function onLoad(e) {\n      return e.currentTarget.style.display = \"block\";\n    },\n    onError: function onError(e) {\n      return e.currentTarget.style.display = \"none\";\n    }\n  }));\n};\nfunction createSplitItem(_x, _x2) {\n  return _createSplitItem.apply(this, arguments);\n}\n/**\n * If the item has only one available diff style, auto-select it\n */\nfunction _createSplitItem() {\n  _createSplitItem = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(sourceItem, splitDirection) {\n    var terria, ref;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          terria = sourceItem.terria;\n          ref = new _SplitItemReference[\"default\"]((0, _createGuid[\"default\"])(), terria);\n          ref.setTrait(_CommonStrata[\"default\"].user, \"splitSourceItemId\", sourceItem.uniqueId);\n          terria.addModel(ref);\n          _context3.next = 6;\n          return ref.loadReference();\n        case 6:\n          return _context3.abrupt(\"return\", (0, _mobx.runInAction)(function () {\n            var _newItem$styleSelecta, _newItem$styleSelecta2, _newItem$styleSelecta3;\n            if (ref.target === undefined) {\n              throw Error(\"failed to split item\");\n            }\n            var newItem = ref.target;\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"show\", true);\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"splitDirection\", splitDirection);\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"currentTime\", null);\n            newItem.setTrait(_CommonStrata[\"default\"].user, \"initialTimeSource\", \"none\");\n            if (hasOpacity(newItem)) {\n              // We want to show the item on the map only after date selection. At the\n              // same time we cannot set `show` to false because if we\n              // do so, date picking which relies on feature picking, will not work. So\n              // we simply set the opacity of the item to 0.\n              newItem.setTrait(_CommonStrata[\"default\"].user, \"opacity\", 0);\n            }\n\n            // Override feature info template as the parent featureInfoTemplate might\n            // not be relevant for the difference item. This has to be done in the user\n            // stratum to override template set in definition stratum.\n            (0, _updateModelFromJson[\"default\"])(newItem, _CommonStrata[\"default\"].user, {\n              featureInfoTemplate: {\n                template: \"\"\n              }\n            });\n            setDefaultDiffStyle(newItem);\n\n            // Set the default style to true color style if it exists\n            var trueColor = (_newItem$styleSelecta = newItem.styleSelectableDimensions) === null || _newItem$styleSelecta === void 0 ? void 0 : (_newItem$styleSelecta2 = _newItem$styleSelecta[0]) === null || _newItem$styleSelecta2 === void 0 ? void 0 : (_newItem$styleSelecta3 = _newItem$styleSelecta2.options) === null || _newItem$styleSelecta3 === void 0 ? void 0 : _newItem$styleSelecta3.find(function (style) {\n              return (0, _isDefined[\"default\"])(style.name) && style.name.search(/true/i) >= 0;\n            });\n            if (trueColor !== null && trueColor !== void 0 && trueColor.id) {\n              var _newItem$styleSelecta4, _newItem$styleSelecta5;\n              (_newItem$styleSelecta4 = newItem.styleSelectableDimensions) === null || _newItem$styleSelecta4 === void 0 ? void 0 : (_newItem$styleSelecta5 = _newItem$styleSelecta4[0]) === null || _newItem$styleSelecta5 === void 0 ? void 0 : _newItem$styleSelecta5.setDimensionValue(_CommonStrata[\"default\"].user, trueColor.id);\n            }\n            terria.overlays.add(newItem);\n            return newItem;\n          }));\n        case 7:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return _createSplitItem.apply(this, arguments);\n}\nfunction setDefaultDiffStyle(item) {\n  if (item.diffStyleId !== undefined) {\n    return;\n  }\n  var availableStyles = (0, _filterOutUndefined[\"default\"])(item.availableDiffStyles.map(function (diffStyleId) {\n    var _item$styleSelectable, _item$styleSelectable2, _item$styleSelectable3;\n    return (_item$styleSelectable = item.styleSelectableDimensions) === null || _item$styleSelectable === void 0 ? void 0 : (_item$styleSelectable2 = _item$styleSelectable[0]) === null || _item$styleSelectable2 === void 0 ? void 0 : (_item$styleSelectable3 = _item$styleSelectable2.options) === null || _item$styleSelectable3 === void 0 ? void 0 : _item$styleSelectable3.find(function (style) {\n      return style.id === diffStyleId;\n    });\n  }));\n  if (availableStyles.length === 1) {\n    item.setTrait(_CommonStrata[\"default\"].user, \"diffStyleId\", availableStyles[0].id);\n  }\n}\nfunction removeSplitItem(item) {\n  var terria = item.terria;\n  terria.overlays.remove(item);\n  if (item.sourceReference && terria.workbench.contains(item) === false) {\n    terria.removeModelReferences(item.sourceReference);\n  }\n}\nfunction doesFeatureBelongToItem(feature, item) {\n  var _feature$imageryLayer;\n  if (!_MappableMixin[\"default\"].isMixedInto(item)) return false;\n  var imageryProvider = (_feature$imageryLayer = feature.imageryLayer) === null || _feature$imageryLayer === void 0 ? void 0 : _feature$imageryLayer.imageryProvider;\n  if (imageryProvider === undefined) return false;\n  return item.mapItems.find(function (m) {\n    return _MappableMixin.ImageryParts.is(m) && m.imageryProvider === imageryProvider;\n  }) !== undefined;\n}\nfunction setTimeFilterFromLocation(item, location, im) {\n  var carto = new _Cartographic[\"default\"](_Math[\"default\"].toRadians(location.longitude), _Math[\"default\"].toRadians(location.latitude));\n  // We just need to set this to a high enough level supported by the service\n  var level = 30;\n  var tile = im.tilingScheme.positionToTileXY(carto, level);\n  return item.setTimeFilterFromLocation({\n    position: {\n      latitude: location.latitude,\n      longitude: location.longitude,\n      height: location.height\n    },\n    tileCoords: {\n      x: tile.x,\n      y: tile.y,\n      level: level\n    }\n  });\n}\nfunction hasOpacity(model) {\n  return (0, _hasTraits[\"default\"])(model, _ImageryProviderTraits[\"default\"], \"opacity\");\n}\nvar _default = exports[\"default\"] = (0, _hoistNonReactStatics[\"default\"])((0, _reactI18next.withTranslation)()((0, _styledComponents.withTheme)(DiffTool)), DiffTool);\nvar _StyledStyledIcon = (0, _styledComponents[\"default\"])(_Icon.StyledIcon).withConfig({\n  displayName: \"DiffTool___StyledStyledIcon\",\n  componentId: \"sc-3vyhxu-8\"\n})([\"transform:rotate(90deg);\"]);\nvar _StyledBox = (0, _styledComponents[\"default\"])(_Box[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledBox\",\n  componentId: \"sc-3vyhxu-9\"\n})([\"\", \"\"], function (p) {\n  return p.$_css3;\n});\nvar _StyledText = (0, _styledComponents[\"default\"])(_Text[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledText\",\n  componentId: \"sc-3vyhxu-10\"\n})([\"\", \"\"], function (p) {\n  return p.$_css4;\n});\nvar _StyledBox2 = (0, _styledComponents[\"default\"])(_Box[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledBox2\",\n  componentId: \"sc-3vyhxu-11\"\n})([\"@media (max-width:\", \"px){width:100%;}\"], function (props) {\n  return props.theme.md;\n});\nvar _StyledText2 = (0, _styledComponents[\"default\"])(_Text[\"default\"]).withConfig({\n  displayName: \"DiffTool___StyledText2\",\n  componentId: \"sc-3vyhxu-12\"\n})([\"fill:\", \";\"], function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.textLight;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdGVycmlhanMvbGliL1JlYWN0Vmlld3MvVG9vbHMvRGlmZlRvb2wvRGlmZlRvb2wudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RlcnJpYWpzL2xpYi9SZWFjdFZpZXdzL1Rvb2xzL0RpZmZUb29sL0RpZmZUb29sLnRzeD81MmRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBob2lzdFN0YXRpY3MgZnJvbSBcImhvaXN0LW5vbi1yZWFjdC1zdGF0aWNzXCI7XG5pbXBvcnQgeyBURnVuY3Rpb24gfSBmcm9tIFwiaTE4bmV4dFwiO1xuaW1wb3J0IHtcbiAgYWN0aW9uLFxuICBjb21wdXRlZCxcbiAgb2JzZXJ2YWJsZSxcbiAgcmVhY3Rpb24sXG4gIHJ1bkluQWN0aW9uLFxuICBtYWtlT2JzZXJ2YWJsZVxufSBmcm9tIFwibW9ieFwiO1xuaW1wb3J0IHsgb2JzZXJ2ZXIgfSBmcm9tIFwibW9ieC1yZWFjdFwiO1xuaW1wb3J0IHsgSURpc3Bvc2VyIH0gZnJvbSBcIm1vYngtdXRpbHNcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB7IFdpdGhUcmFuc2xhdGlvbiwgd2l0aFRyYW5zbGF0aW9uIH0gZnJvbSBcInJlYWN0LWkxOG5leHRcIjtcbmltcG9ydCBzdHlsZWQsIHsgRGVmYXVsdFRoZW1lLCB1c2VUaGVtZSwgd2l0aFRoZW1lIH0gZnJvbSBcInN0eWxlZC1jb21wb25lbnRzXCI7XG5pbXBvcnQgQ2FydG9ncmFwaGljIGZyb20gXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL0NvcmUvQ2FydG9ncmFwaGljXCI7XG5pbXBvcnQgY3JlYXRlR3VpZCBmcm9tIFwidGVycmlhanMtY2VzaXVtL1NvdXJjZS9Db3JlL2NyZWF0ZUd1aWRcIjtcbmltcG9ydCBKdWxpYW5EYXRlIGZyb20gXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL0NvcmUvSnVsaWFuRGF0ZVwiO1xuaW1wb3J0IENlc2l1bU1hdGggZnJvbSBcInRlcnJpYWpzLWNlc2l1bS9Tb3VyY2UvQ29yZS9NYXRoXCI7XG5pbXBvcnQgSW1hZ2VyeVByb3ZpZGVyIGZyb20gXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL1NjZW5lL0ltYWdlcnlQcm92aWRlclwiO1xuaW1wb3J0IFNwbGl0RGlyZWN0aW9uIGZyb20gXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL1NjZW5lL1NwbGl0RGlyZWN0aW9uXCI7XG5pbXBvcnQgZmlsdGVyT3V0VW5kZWZpbmVkIGZyb20gXCIuLi8uLi8uLi9Db3JlL2ZpbHRlck91dFVuZGVmaW5lZFwiO1xuaW1wb3J0IGlzRGVmaW5lZCBmcm9tIFwiLi4vLi4vLi4vQ29yZS9pc0RlZmluZWRcIjtcbmltcG9ydCBMYXRMb25IZWlnaHQgZnJvbSBcIi4uLy4uLy4uL0NvcmUvTGF0TG9uSGVpZ2h0XCI7XG5pbXBvcnQgUGlja2VkRmVhdHVyZXMgZnJvbSBcIi4uLy4uLy4uL01hcC9QaWNrZWRGZWF0dXJlcy9QaWNrZWRGZWF0dXJlc1wiO1xuaW1wb3J0IHByZXR0aWZ5Q29vcmRpbmF0ZXMgZnJvbSBcIi4uLy4uLy4uL01hcC9WZWN0b3IvcHJldHRpZnlDb29yZGluYXRlc1wiO1xuaW1wb3J0IERpZmZhYmxlTWl4aW4gZnJvbSBcIi4uLy4uLy4uL01vZGVsTWl4aW5zL0RpZmZhYmxlTWl4aW5cIjtcbmltcG9ydCBNYXBwYWJsZU1peGluLCB7XG4gIEltYWdlcnlQYXJ0c1xufSBmcm9tIFwiLi4vLi4vLi4vTW9kZWxNaXhpbnMvTWFwcGFibGVNaXhpblwiO1xuaW1wb3J0IENvbW1vblN0cmF0YSBmcm9tIFwiLi4vLi4vLi4vTW9kZWxzL0RlZmluaXRpb24vQ29tbW9uU3RyYXRhXCI7XG5pbXBvcnQgVGVycmlhRmVhdHVyZSBmcm9tIFwiLi4vLi4vLi4vTW9kZWxzL0ZlYXR1cmUvRmVhdHVyZVwiO1xuaW1wb3J0IGhhc1RyYWl0cywgeyBIYXNUcmFpdCB9IGZyb20gXCIuLi8uLi8uLi9Nb2RlbHMvRGVmaW5pdGlvbi9oYXNUcmFpdHNcIjtcbmltcG9ydCB7XG4gIGdldE1hcmtlckxvY2F0aW9uLFxuICByZW1vdmVNYXJrZXJcbn0gZnJvbSBcIi4uLy4uLy4uL01vZGVscy9Mb2NhdGlvbk1hcmtlclV0aWxzXCI7XG5pbXBvcnQgeyBFbnVtRGltZW5zaW9uT3B0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL01vZGVscy9TZWxlY3RhYmxlRGltZW5zaW9ucy9TZWxlY3RhYmxlRGltZW5zaW9uc1wiO1xuaW1wb3J0IFNwbGl0SXRlbVJlZmVyZW5jZSBmcm9tIFwiLi4vLi4vLi4vTW9kZWxzL0NhdGFsb2cvQ2F0YWxvZ1JlZmVyZW5jZXMvU3BsaXRJdGVtUmVmZXJlbmNlXCI7XG5pbXBvcnQgVGVycmlhIGZyb20gXCIuLi8uLi8uLi9Nb2RlbHMvVGVycmlhXCI7XG5pbXBvcnQgVmlld1N0YXRlIGZyb20gXCIuLi8uLi8uLi9SZWFjdFZpZXdNb2RlbHMvVmlld1N0YXRlXCI7XG5pbXBvcnQgQm94LCB7IEJveFNwYW4gfSBmcm9tIFwiLi4vLi4vLi4vU3R5bGVkL0JveFwiO1xuaW1wb3J0IEJ1dHRvbiwgeyBSYXdCdXR0b24gfSBmcm9tIFwiLi4vLi4vLi4vU3R5bGVkL0J1dHRvblwiO1xuaW1wb3J0IFNlbGVjdCBmcm9tIFwiLi4vLi4vLi4vU3R5bGVkL1NlbGVjdFwiO1xuaW1wb3J0IFNwYWNpbmcgZnJvbSBcIi4uLy4uLy4uL1N0eWxlZC9TcGFjaW5nXCI7XG5pbXBvcnQgVGV4dCwgeyBUZXh0U3BhbiB9IGZyb20gXCIuLi8uLi8uLi9TdHlsZWQvVGV4dFwiO1xuaW1wb3J0IEltYWdlcnlQcm92aWRlclRyYWl0cyBmcm9tIFwiLi4vLi4vLi4vVHJhaXRzL1RyYWl0c0NsYXNzZXMvSW1hZ2VyeVByb3ZpZGVyVHJhaXRzXCI7XG5pbXBvcnQgeyBwYXJzZUN1c3RvbU1hcmtkb3duVG9SZWFjdFdpdGhPcHRpb25zIH0gZnJvbSBcIi4uLy4uL0N1c3RvbS9wYXJzZUN1c3RvbU1hcmtkb3duVG9SZWFjdFwiO1xuaW1wb3J0IHsgR0xZUEhTLCBTdHlsZWRJY29uIH0gZnJvbSBcIi4uLy4uLy4uL1N0eWxlZC9JY29uXCI7XG5pbXBvcnQgTG9hZGVyIGZyb20gXCIuLi8uLi9Mb2FkZXJcIjtcbmltcG9ydCBEYXRlUGlja2VyIGZyb20gXCIuL0RhdGVQaWNrZXJcIjtcbmltcG9ydCBMb2NhdGlvblBpY2tlciBmcm9tIFwiLi9Mb2NhdGlvblBpY2tlclwiO1xuaW1wb3J0IHsgQ0xPU0VfVE9PTF9JRCB9IGZyb20gXCIuLi8uLi9NYXAvTWFwTmF2aWdhdGlvbi9yZWdpc3Rlck1hcE5hdmlnYXRpb25zXCI7XG5pbXBvcnQgdXBkYXRlTW9kZWxGcm9tSnNvbiBmcm9tIFwiLi4vLi4vLi4vTW9kZWxzL0RlZmluaXRpb24vdXBkYXRlTW9kZWxGcm9tSnNvblwiO1xuaW1wb3J0IGRhdGVGb3JtYXQgZnJvbSBcImRhdGVmb3JtYXRcIjtcblxudHlwZSBEaWZmYWJsZUl0ZW0gPSBEaWZmYWJsZU1peGluLkluc3RhbmNlO1xuXG5pbnRlcmZhY2UgUHJvcHNUeXBlIGV4dGVuZHMgV2l0aFRyYW5zbGF0aW9uIHtcbiAgdmlld1N0YXRlOiBWaWV3U3RhdGU7XG4gIHNvdXJjZUl0ZW06IERpZmZhYmxlSXRlbTtcbiAgdGhlbWU6IERlZmF1bHRUaGVtZTtcbn1cblxuQG9ic2VydmVyXG5jbGFzcyBEaWZmVG9vbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQcm9wc1R5cGU+IHtcbiAgc3RhdGljIHJlYWRvbmx5IHRvb2xOYW1lID0gXCJJbWFnZSBEaWZmZXJlbmNlXCI7XG5cbiAgQG9ic2VydmFibGUgcHJpdmF0ZSBsZWZ0SXRlbT86IERpZmZhYmxlSXRlbTtcbiAgQG9ic2VydmFibGUgcHJpdmF0ZSByaWdodEl0ZW0/OiBEaWZmYWJsZUl0ZW07XG4gIEBvYnNlcnZhYmxlIHByaXZhdGUgdXNlclNlbGVjdGVkU291cmNlSXRlbT86IERpZmZhYmxlSXRlbTtcblxuICBwcml2YXRlIHNwbGl0dGVySXRlbXNEaXNwb3Nlcj86IElEaXNwb3NlcjtcbiAgcHJpdmF0ZSBvcmlnaW5hbFNldHRpbmdzOiBhbnk7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzVHlwZSkge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICBtYWtlT2JzZXJ2YWJsZSh0aGlzKTtcbiAgfVxuXG4gIEBjb21wdXRlZFxuICBnZXQgc291cmNlSXRlbSgpOiBEaWZmYWJsZUl0ZW0ge1xuICAgIHJldHVybiB0aGlzLnVzZXJTZWxlY3RlZFNvdXJjZUl0ZW0gfHwgdGhpcy5wcm9wcy5zb3VyY2VJdGVtO1xuICB9XG5cbiAgQGFjdGlvbi5ib3VuZFxuICBjaGFuZ2VTb3VyY2VJdGVtKHNvdXJjZUl0ZW06IERpZmZhYmxlSXRlbSkge1xuICAgIHRoaXMudXNlclNlbGVjdGVkU291cmNlSXRlbSA9IHNvdXJjZUl0ZW07XG4gIH1cblxuICBAYWN0aW9uXG4gIGFzeW5jIGNyZWF0ZVNwbGl0dGVySXRlbXMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IFtsZWZ0SXRlbSwgcmlnaHRJdGVtXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgY3JlYXRlU3BsaXRJdGVtKHRoaXMuc291cmNlSXRlbSwgU3BsaXREaXJlY3Rpb24uTEVGVCksXG4gICAgICAgIGNyZWF0ZVNwbGl0SXRlbSh0aGlzLnNvdXJjZUl0ZW0sIFNwbGl0RGlyZWN0aW9uLlJJR0hUKVxuICAgICAgXSk7XG4gICAgICBydW5JbkFjdGlvbigoKSA9PiB7XG4gICAgICAgIHRoaXMubGVmdEl0ZW0gPSBsZWZ0SXRlbTtcbiAgICAgICAgdGhpcy5yaWdodEl0ZW0gPSByaWdodEl0ZW07XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHkgKi9cbiAgICB9XG4gIH1cblxuICBAYWN0aW9uXG4gIHJlbW92ZVNwbGl0dGVySXRlbXMoKSB7XG4gICAgdGhpcy5sZWZ0SXRlbSAmJiByZW1vdmVTcGxpdEl0ZW0odGhpcy5sZWZ0SXRlbSk7XG4gICAgdGhpcy5yaWdodEl0ZW0gJiYgcmVtb3ZlU3BsaXRJdGVtKHRoaXMucmlnaHRJdGVtKTtcbiAgfVxuXG4gIEBhY3Rpb25cbiAgZW50ZXJEaWZmVG9vbCgpIHtcbiAgICAvLyBTdGFydCB0aGUgcmVhY3Rpb24gdGhhdCBzcGxpdHMgdGhlIHNvdXJjZUl0ZW0gaW50byBsZWZ0ICYgcmlnaHQgaXRlbXNcbiAgICB0aGlzLnNwbGl0dGVySXRlbXNEaXNwb3NlciA9IHJlYWN0aW9uKFxuICAgICAgKCkgPT4gdGhpcy5zb3VyY2VJdGVtLFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLnJlbW92ZVNwbGl0dGVySXRlbXMoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVTcGxpdHRlckl0ZW1zKCk7XG4gICAgICB9LFxuICAgICAgeyBmaXJlSW1tZWRpYXRlbHk6IHRydWUgfVxuICAgICk7XG5cbiAgICBjb25zdCB2aWV3U3RhdGUgPSB0aGlzLnByb3BzLnZpZXdTdGF0ZTtcbiAgICBjb25zdCB0ZXJyaWEgPSB2aWV3U3RhdGUudGVycmlhO1xuICAgIHRoaXMub3JpZ2luYWxTZXR0aW5ncyA9IHtcbiAgICAgIHNob3dTcGxpdHRlcjogdGVycmlhLnNob3dTcGxpdHRlcixcbiAgICAgIGlzTWFwRnVsbFNjcmVlbjogdmlld1N0YXRlLmlzTWFwRnVsbFNjcmVlblxuICAgIH07XG4gICAgdGVycmlhLnNob3dTcGxpdHRlciA9IHRydWU7XG4gICAgdmlld1N0YXRlLnNldElzTWFwRnVsbFNjcmVlbih0cnVlKTtcbiAgICB0aGlzLnNvdXJjZUl0ZW0uc2V0VHJhaXQoQ29tbW9uU3RyYXRhLnVzZXIsIFwic2hvd1wiLCBmYWxzZSk7XG4gICAgdGVycmlhLm1hcE5hdmlnYXRpb25Nb2RlbC5zaG93KENMT1NFX1RPT0xfSUQpO1xuICAgIHRlcnJpYS5lbGVtZW50cy5zZXQoXCJ0aW1lbGluZVwiLCB7IHZpc2libGU6IGZhbHNlIH0pO1xuICAgIGNvbnN0IGNsb3NlVG9vbCA9IHRlcnJpYS5tYXBOYXZpZ2F0aW9uTW9kZWwuZmluZEl0ZW0oQ0xPU0VfVE9PTF9JRCk7XG4gICAgaWYgKGNsb3NlVG9vbCkge1xuICAgICAgY2xvc2VUb29sLmNvbnRyb2xsZXIuYWN0aXZhdGUoKTtcbiAgICB9XG4gIH1cblxuICBAYWN0aW9uXG4gIGxlYXZlRGlmZlRvb2woKSB7XG4gICAgY29uc3Qgdmlld1N0YXRlID0gdGhpcy5wcm9wcy52aWV3U3RhdGU7XG4gICAgY29uc3QgdGVycmlhID0gdmlld1N0YXRlLnRlcnJpYTtcbiAgICBjb25zdCBvcmlnaW5hbFNldHRpbmdzID0gdGhpcy5vcmlnaW5hbFNldHRpbmdzO1xuICAgIHRoaXMucmVtb3ZlU3BsaXR0ZXJJdGVtcygpO1xuICAgIHRoaXMuc3BsaXR0ZXJJdGVtc0Rpc3Bvc2VyPy4oKTtcbiAgICB0ZXJyaWEuc2hvd1NwbGl0dGVyID0gb3JpZ2luYWxTZXR0aW5ncy5zaG93U3BsaXR0ZXI7XG4gICAgdmlld1N0YXRlLnNldElzTWFwRnVsbFNjcmVlbihvcmlnaW5hbFNldHRpbmdzLmlzTWFwRnVsbFNjcmVlbik7XG4gICAgdGhpcy5zb3VyY2VJdGVtLnNldFRyYWl0KENvbW1vblN0cmF0YS51c2VyLCBcInNob3dcIiwgdHJ1ZSk7XG4gICAgdGVycmlhLm1hcE5hdmlnYXRpb25Nb2RlbC5oaWRlKENMT1NFX1RPT0xfSUQpO1xuICAgIHRlcnJpYS5lbGVtZW50cy5zZXQoXCJ0aW1lbGluZVwiLCB7IHZpc2libGU6IHRydWUgfSk7XG4gICAgY29uc3QgY2xvc2VUb29sID0gdGVycmlhLm1hcE5hdmlnYXRpb25Nb2RlbC5maW5kSXRlbShDTE9TRV9UT09MX0lEKTtcbiAgICBpZiAoY2xvc2VUb29sKSB7XG4gICAgICBjbG9zZVRvb2wuY29udHJvbGxlci5kZWFjdGl2YXRlKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5lbnRlckRpZmZUb29sKCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLmxlYXZlRGlmZlRvb2woKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5sZWZ0SXRlbSAmJiB0aGlzLnJpZ2h0SXRlbSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1haW5cbiAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgICB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX1cbiAgICAgICAgICB0ZXJyaWE9e3RoaXMucHJvcHMudmlld1N0YXRlLnRlcnJpYX1cbiAgICAgICAgICBzb3VyY2VJdGVtPXt0aGlzLnNvdXJjZUl0ZW19XG4gICAgICAgICAgY2hhbmdlU291cmNlSXRlbT17dGhpcy5jaGFuZ2VTb3VyY2VJdGVtfVxuICAgICAgICAgIGxlZnRJdGVtPXt0aGlzLmxlZnRJdGVtfVxuICAgICAgICAgIHJpZ2h0SXRlbT17dGhpcy5yaWdodEl0ZW19XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH0gZWxzZSByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5pbnRlcmZhY2UgTWFpblByb3BzVHlwZSBleHRlbmRzIFByb3BzVHlwZSB7XG4gIHRlcnJpYTogVGVycmlhO1xuICBsZWZ0SXRlbTogRGlmZmFibGVJdGVtO1xuICByaWdodEl0ZW06IERpZmZhYmxlSXRlbTtcbiAgY2hhbmdlU291cmNlSXRlbTogKG5ld1NvdXJjZUl0ZW06IERpZmZhYmxlSXRlbSkgPT4gdm9pZDtcbn1cblxuQG9ic2VydmVyXG5jbGFzcyBNYWluIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PE1haW5Qcm9wc1R5cGU+IHtcbiAgQG9ic2VydmFibGUgcHJpdmF0ZSBsb2NhdGlvbj86IExhdExvbkhlaWdodDtcbiAgQG9ic2VydmFibGUgcHJpdmF0ZSBfbG9jYXRpb25QaWNrRXJyb3IgPSBmYWxzZTtcbiAgQG9ic2VydmFibGUgcHJpdmF0ZSBfaXNQaWNraW5nTmV3TG9jYXRpb24gPSBmYWxzZTtcblxuICBwcml2YXRlIG9wZW5MZWZ0RGF0ZVBpY2tlckJ1dHRvbjogUmVhY3QuUmVmT2JqZWN0PEhUTUxCdXR0b25FbGVtZW50PiA9XG4gICAgUmVhY3QuY3JlYXRlUmVmKCk7XG4gIHByaXZhdGUgb3BlblJpZ2h0RGF0ZVBpY2tlckJ1dHRvbjogUmVhY3QuUmVmT2JqZWN0PEhUTUxCdXR0b25FbGVtZW50PiA9XG4gICAgUmVhY3QuY3JlYXRlUmVmKCk7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IE1haW5Qcm9wc1R5cGUpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgbWFrZU9ic2VydmFibGUodGhpcyk7XG4gIH1cblxuICBAY29tcHV0ZWRcbiAgZ2V0IGxvY2F0aW9uUGlja2VyTWVzc2FnZXMoKSB7XG4gICAgY29uc3QgdCA9IHRoaXMucHJvcHMudDtcbiAgICBpZiAodGhpcy5fbG9jYXRpb25QaWNrRXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiB0KFwiZGlmZlRvb2wubG9jYXRpb25QaWNrZXIuZXJyb3JNZXNzYWdlcy50aXRsZVwiKSxcbiAgICAgICAgYmVmb3JlUGljazogdChcImRpZmZUb29sLmxvY2F0aW9uUGlja2VyLmVycm9yTWVzc2FnZXMuYmVmb3JlUGlja1wiKSxcbiAgICAgICAgYWZ0ZXJQaWNrOiB0KFwiZGlmZlRvb2wubG9jYXRpb25QaWNrZXIuZXJyb3JNZXNzYWdlcy5hZnRlclBpY2tcIilcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0aGlzLmxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogdChcbiAgICAgICAgICBcImRpZmZUb29sLmxvY2F0aW9uUGlja2VyLm5leHRNZXNzYWdlcy50aXRsZVwiLFxuICAgICAgICAgIHByZXR0aWZ5Q29vcmRpbmF0ZXModGhpcy5sb2NhdGlvbi5sb25naXR1ZGUsIHRoaXMubG9jYXRpb24ubGF0aXR1ZGUsIHtcbiAgICAgICAgICAgIGRpZ2l0czogMlxuICAgICAgICAgIH0pXG4gICAgICAgICksXG4gICAgICAgIGJlZm9yZVBpY2s6IHQoXCJkaWZmVG9vbC5sb2NhdGlvblBpY2tlci5uZXh0TWVzc2FnZXMuYmVmb3JlUGlja1wiKSxcbiAgICAgICAgYWZ0ZXJQaWNrOiB0KFwiZGlmZlRvb2wubG9jYXRpb25QaWNrZXIubmV4dE1lc3NhZ2VzLmFmdGVyUGlja1wiKVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHQoXCJkaWZmVG9vbC5sb2NhdGlvblBpY2tlci5pbml0aWFsTWVzc2FnZXMudGl0bGVcIiksXG4gICAgICAgIGJlZm9yZVBpY2s6IHQoXCJkaWZmVG9vbC5sb2NhdGlvblBpY2tlci5pbml0aWFsTWVzc2FnZXMuYmVmb3JlUGlja1wiKSxcbiAgICAgICAgYWZ0ZXJQaWNrOiB0KFwiZGlmZlRvb2wubG9jYXRpb25QaWNrZXIuaW5pdGlhbE1lc3NhZ2VzLmFmdGVyUGlja1wiKVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBAY29tcHV0ZWRcbiAgZ2V0IGRpZmZJdGVtKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmxlZnRJdGVtO1xuICB9XG5cbiAgQGNvbXB1dGVkXG4gIGdldCBkaWZmSXRlbU5hbWUoKSB7XG4gICAgY29uc3QgbmFtZSA9IHRoaXMucHJvcHMuc291cmNlSXRlbS5uYW1lIHx8IFwiXCI7XG4gICAgY29uc3QgZmlyc3REYXRlID0gdGhpcy5sZWZ0RGF0ZTtcbiAgICBjb25zdCBzZWNvbmREYXRlID0gdGhpcy5yaWdodERhdGU7XG4gICAgY29uc3QgZm9ybWF0ID0gXCJ5eXl5L21tL2RkXCI7XG4gICAgaWYgKCFmaXJzdERhdGUgfHwgIXNlY29uZERhdGUpIHtcbiAgICAgIHJldHVybiBuYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkMSA9IGRhdGVGb3JtYXQoSnVsaWFuRGF0ZS50b0RhdGUoZmlyc3REYXRlKSwgZm9ybWF0KTtcbiAgICAgIGNvbnN0IGQyID0gZGF0ZUZvcm1hdChKdWxpYW5EYXRlLnRvRGF0ZShzZWNvbmREYXRlKSwgZm9ybWF0KTtcbiAgICAgIHJldHVybiBgJHtuYW1lfSAtIGRpZmZlcmVuY2UgZm9yIGRhdGVzICR7ZDF9LCAke2QyfWA7XG4gICAgfVxuICB9XG5cbiAgQGNvbXB1dGVkXG4gIGdldCBkaWZmYWJsZUl0ZW1zSW5Xb3JrYmVuY2goKTogRGlmZmFibGVJdGVtW10ge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnRlcnJpYS53b3JrYmVuY2guaXRlbXMuZmlsdGVyKFxuICAgICAgKGl0ZW0pID0+IERpZmZhYmxlTWl4aW4uaXNNaXhlZEludG8oaXRlbSkgJiYgaXRlbS5jYW5EaWZmSW1hZ2VzXG4gICAgKSBhcyBEaWZmYWJsZUl0ZW1bXTtcbiAgfVxuXG4gIEBjb21wdXRlZFxuICBnZXQgcHJldmlld1N0eWxlKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuZGlmZkl0ZW0uc3R5bGVTZWxlY3RhYmxlRGltZW5zaW9ucz8uWzBdPy5zZWxlY3RlZElkO1xuICB9XG5cbiAgQGNvbXB1dGVkXG4gIGdldCBkaWZmU3R5bGUoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5kaWZmSXRlbS5kaWZmU3R5bGVJZDtcbiAgfVxuXG4gIEBjb21wdXRlZFxuICBnZXQgYXZhaWxhYmxlRGlmZlN0eWxlcygpOiBFbnVtRGltZW5zaW9uT3B0aW9uW10ge1xuICAgIHJldHVybiBmaWx0ZXJPdXRVbmRlZmluZWQoXG4gICAgICB0aGlzLmRpZmZJdGVtLmF2YWlsYWJsZURpZmZTdHlsZXMubWFwKChkaWZmU3R5bGVJZCkgPT5cbiAgICAgICAgdGhpcy5kaWZmSXRlbS5zdHlsZVNlbGVjdGFibGVEaW1lbnNpb25zPy5bMF0/Lm9wdGlvbnM/LmZpbmQoXG4gICAgICAgICAgKHN0eWxlKSA9PiBzdHlsZS5pZCA9PT0gZGlmZlN0eWxlSWRcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBAY29tcHV0ZWRcbiAgZ2V0IGxlZnREYXRlKCk6IEp1bGlhbkRhdGUgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmxlZnRJdGVtLmN1cnJlbnREaXNjcmV0ZUp1bGlhbkRhdGU7XG4gIH1cblxuICBAY29tcHV0ZWRcbiAgZ2V0IHJpZ2h0RGF0ZSgpOiBKdWxpYW5EYXRlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5yaWdodEl0ZW0uY3VycmVudERpc2NyZXRlSnVsaWFuRGF0ZTtcbiAgfVxuXG4gIEBjb21wdXRlZFxuICBnZXQgZGlmZkxlZ2VuZFVybCgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmRpZmZTdHlsZSAmJlxuICAgICAgdGhpcy5sZWZ0RGF0ZSAmJlxuICAgICAgdGhpcy5yaWdodERhdGUgJiZcbiAgICAgIHRoaXMuZGlmZkl0ZW0uZ2V0TGVnZW5kVXJsRm9yU3R5bGUoXG4gICAgICAgIHRoaXMuZGlmZlN0eWxlLFxuICAgICAgICB0aGlzLmxlZnREYXRlLFxuICAgICAgICB0aGlzLnJpZ2h0RGF0ZVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBAY29tcHV0ZWRcbiAgZ2V0IHByZXZpZXdMZWdlbmRVcmwoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5wcmV2aWV3U3R5bGUgJiYgdGhpcy5kaWZmSXRlbS5nZXRMZWdlbmRVcmxGb3JTdHlsZSh0aGlzLnByZXZpZXdTdHlsZSlcbiAgICApO1xuICB9XG5cbiAgQGFjdGlvblxuICBzaG93SXRlbShtb2RlbDogRGlmZmFibGVJdGVtKSB7XG4gICAgLy8gV2UgY2hhbmdlIHRoZSBvcGFjaXR5IGluc3RlYWQgb2Ygc2V0dGluZyBgc2hvd2AgdG8gdHJ1ZS9mYWxzZSwgYmVjYXVzZVxuICAgIC8vIHdlIHdhbnQgdGhlIGl0ZW0gdG8gYmUgb24gdGhlIG1hcCBmb3IgZGF0ZSBzZWxlY3Rpb24gdG8gd29ya1xuICAgIGhhc09wYWNpdHkobW9kZWwpICYmIG1vZGVsLnNldFRyYWl0KENvbW1vblN0cmF0YS51c2VyLCBcIm9wYWNpdHlcIiwgMC44KTtcbiAgfVxuXG4gIEBhY3Rpb25cbiAgaGlkZUl0ZW0obW9kZWw6IERpZmZhYmxlSXRlbSkge1xuICAgIC8vIFdlIGNoYW5nZSB0aGUgb3BhY2l0eSBpbnN0ZWFkIG9mIHNldHRpbmcgYHNob3dgIHRvIHRydWUvZmFsc2UsIGJlY2F1c2VcbiAgICAvLyB3ZSB3YW50IHRoZSBpdGVtIHRvIGJlIG9uIHRoZSBtYXAgZm9yIGRhdGUgc2VsZWN0aW9uIHRvIHdvcmtcbiAgICBoYXNPcGFjaXR5KG1vZGVsKSAmJiBtb2RlbC5zZXRUcmFpdChDb21tb25TdHJhdGEudXNlciwgXCJvcGFjaXR5XCIsIDApO1xuICB9XG5cbiAgQGFjdGlvbi5ib3VuZFxuICBjaGFuZ2VTb3VyY2VJdGVtKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxTZWxlY3RFbGVtZW50Pikge1xuICAgIGNvbnN0IG5ld1NvdXJjZUl0ZW0gPSB0aGlzLmRpZmZhYmxlSXRlbXNJbldvcmtiZW5jaC5maW5kKFxuICAgICAgKGl0ZW0pID0+IGl0ZW0udW5pcXVlSWQgPT09IGUudGFyZ2V0LnZhbHVlXG4gICAgKTtcbiAgICBpZiAobmV3U291cmNlSXRlbSkgdGhpcy5wcm9wcy5jaGFuZ2VTb3VyY2VJdGVtKG5ld1NvdXJjZUl0ZW0pO1xuICB9XG5cbiAgQGFjdGlvbi5ib3VuZFxuICBjaGFuZ2VQcmV2aWV3U3R5bGUoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTFNlbGVjdEVsZW1lbnQ+KSB7XG4gICAgY29uc3Qgc3R5bGVJZCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIHRoaXMucHJvcHMubGVmdEl0ZW0uc3R5bGVTZWxlY3RhYmxlRGltZW5zaW9ucz8uWzBdPy5zZXREaW1lbnNpb25WYWx1ZShcbiAgICAgIENvbW1vblN0cmF0YS51c2VyLFxuICAgICAgc3R5bGVJZFxuICAgICk7XG4gICAgdGhpcy5wcm9wcy5yaWdodEl0ZW0uc3R5bGVTZWxlY3RhYmxlRGltZW5zaW9ucz8uWzBdPy5zZXREaW1lbnNpb25WYWx1ZShcbiAgICAgIENvbW1vblN0cmF0YS51c2VyLFxuICAgICAgc3R5bGVJZFxuICAgICk7XG4gIH1cblxuICBAYWN0aW9uLmJvdW5kXG4gIGNoYW5nZURpZmZTdHlsZShlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MU2VsZWN0RWxlbWVudD4pIHtcbiAgICB0aGlzLmRpZmZJdGVtLnNldFRyYWl0KENvbW1vblN0cmF0YS51c2VyLCBcImRpZmZTdHlsZUlkXCIsIGUudGFyZ2V0LnZhbHVlKTtcbiAgfVxuXG4gIEBhY3Rpb24uYm91bmRcbiAgb25Vc2VyUGlja2luZ0xvY2F0aW9uKF9waWNraW5nTG9jYXRpb246IExhdExvbkhlaWdodCkge1xuICAgIHRoaXMuX2lzUGlja2luZ05ld0xvY2F0aW9uID0gdHJ1ZTtcbiAgfVxuXG4gIEBhY3Rpb24uYm91bmRcbiAgb25Vc2VyUGlja0xvY2F0aW9uKFxuICAgIHBpY2tlZEZlYXR1cmVzOiBQaWNrZWRGZWF0dXJlcyxcbiAgICBwaWNrZWRMb2NhdGlvbjogTGF0TG9uSGVpZ2h0XG4gICkge1xuICAgIGNvbnN0IHsgbGVmdEl0ZW0sIHJpZ2h0SXRlbSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBmZWF0dXJlID0gcGlja2VkRmVhdHVyZXMuZmVhdHVyZXMuZmluZChcbiAgICAgIChmKSA9PlxuICAgICAgICBkb2VzRmVhdHVyZUJlbG9uZ1RvSXRlbShmLCBsZWZ0SXRlbSkgfHxcbiAgICAgICAgZG9lc0ZlYXR1cmVCZWxvbmdUb0l0ZW0oZiwgcmlnaHRJdGVtKVxuICAgICk7XG5cbiAgICBpZiAoZmVhdHVyZSkge1xuICAgICAgbGVmdEl0ZW0uc2V0VGltZUZpbHRlckZlYXR1cmUoZmVhdHVyZSwgcGlja2VkRmVhdHVyZXMucHJvdmlkZXJDb29yZHMpO1xuICAgICAgcmlnaHRJdGVtLnNldFRpbWVGaWx0ZXJGZWF0dXJlKGZlYXR1cmUsIHBpY2tlZEZlYXR1cmVzLnByb3ZpZGVyQ29vcmRzKTtcbiAgICAgIHRoaXMubG9jYXRpb24gPSBwaWNrZWRMb2NhdGlvbjtcbiAgICAgIHRoaXMuX2xvY2F0aW9uUGlja0Vycm9yID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xvY2F0aW9uUGlja0Vycm9yID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5faXNQaWNraW5nTmV3TG9jYXRpb24gPSBmYWxzZTtcbiAgfVxuXG4gIEBhY3Rpb24uYm91bmRcbiAgdW5zZXREYXRlcygpIHtcbiAgICBjb25zdCB7IGxlZnRJdGVtLCByaWdodEl0ZW0gfSA9IHRoaXMucHJvcHM7XG4gICAgbGVmdEl0ZW0uc2V0VHJhaXQoQ29tbW9uU3RyYXRhLnVzZXIsIFwiY3VycmVudFRpbWVcIiwgbnVsbCk7XG4gICAgcmlnaHRJdGVtLnNldFRyYWl0KENvbW1vblN0cmF0YS51c2VyLCBcImN1cnJlbnRUaW1lXCIsIG51bGwpO1xuICAgIHRoaXMuaGlkZUl0ZW0obGVmdEl0ZW0pO1xuICAgIHRoaXMuaGlkZUl0ZW0ocmlnaHRJdGVtKTtcbiAgfVxuXG4gIEBhY3Rpb24uYm91bmRcbiAgZ2VuZXJhdGVEaWZmKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMubGVmdERhdGUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdGhpcy5yaWdodERhdGUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdGhpcy5kaWZmU3R5bGUgPT09IHVuZGVmaW5lZFxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRlcnJpYSA9IHRoaXMucHJvcHMudGVycmlhO1xuICAgIHRlcnJpYS5vdmVybGF5cy5yZW1vdmUodGhpcy5wcm9wcy5sZWZ0SXRlbSk7XG4gICAgdGVycmlhLm92ZXJsYXlzLnJlbW92ZSh0aGlzLnByb3BzLnJpZ2h0SXRlbSk7XG5cbiAgICB0ZXJyaWEud29ya2JlbmNoLmFkZCh0aGlzLmRpZmZJdGVtKTtcblxuICAgIHRoaXMuZGlmZkl0ZW0uc2V0VHJhaXQoQ29tbW9uU3RyYXRhLnVzZXIsIFwibmFtZVwiLCB0aGlzLmRpZmZJdGVtTmFtZSk7XG4gICAgdGhpcy5kaWZmSXRlbS5zaG93RGlmZkltYWdlKHRoaXMubGVmdERhdGUsIHRoaXMucmlnaHREYXRlLCB0aGlzLmRpZmZTdHlsZSk7XG5cbiAgICAvLyBJZiBnaXZlbiwgYXBwcGx5IGFkZGl0aW9uYWwgcHJvcGVydGllcyBmb3IgdGhlIGRpZmYgaXRlbVxuICAgIGNvbnN0IGRpZmZJdGVtUHJvcGVydGllcyA9IHRoaXMuZGlmZkl0ZW0uZGlmZkl0ZW1Qcm9wZXJ0aWVzO1xuICAgIGlmIChkaWZmSXRlbVByb3BlcnRpZXMpIHtcbiAgICAgIHVwZGF0ZU1vZGVsRnJvbUpzb24odGhpcy5kaWZmSXRlbSwgQ29tbW9uU3RyYXRhLnVzZXIsIGRpZmZJdGVtUHJvcGVydGllcyk7XG4gICAgfVxuICAgIHRlcnJpYS5zaG93U3BsaXR0ZXIgPSBmYWxzZTtcbiAgfVxuXG4gIEBhY3Rpb24uYm91bmRcbiAgcmVzZXRUb29sKCkge1xuICAgIGNvbnN0IHRlcnJpYSA9IHRoaXMucHJvcHMudGVycmlhO1xuICAgIHRoaXMuZGlmZkl0ZW0uY2xlYXJEaWZmSW1hZ2UoKTtcbiAgICBzZXREZWZhdWx0RGlmZlN0eWxlKHRoaXMuZGlmZkl0ZW0pO1xuICAgIHRlcnJpYS5vdmVybGF5cy5hZGQodGhpcy5wcm9wcy5sZWZ0SXRlbSk7XG4gICAgdGVycmlhLm92ZXJsYXlzLmFkZCh0aGlzLnByb3BzLnJpZ2h0SXRlbSk7XG4gICAgdGVycmlhLndvcmtiZW5jaC5yZW1vdmUodGhpcy5kaWZmSXRlbSk7XG4gICAgdGhpcy5wcm9wcy50ZXJyaWEuc2hvd1NwbGl0dGVyID0gdHJ1ZTtcbiAgICB0aGlzLnByb3BzLmxlZnRJdGVtLnNldFRyYWl0KFxuICAgICAgQ29tbW9uU3RyYXRhLnVzZXIsXG4gICAgICBcInNwbGl0RGlyZWN0aW9uXCIsXG4gICAgICBTcGxpdERpcmVjdGlvbi5MRUZUXG4gICAgKTtcbiAgICB0aGlzLnByb3BzLnJpZ2h0SXRlbS5zZXRUcmFpdChcbiAgICAgIENvbW1vblN0cmF0YS51c2VyLFxuICAgICAgXCJzcGxpdERpcmVjdGlvblwiLFxuICAgICAgU3BsaXREaXJlY3Rpb24uUklHSFRcbiAgICApO1xuICB9XG5cbiAgQGFjdGlvblxuICBhc3luYyBzZXRMb2NhdGlvbkZyb21BY3RpdmVTZWFyY2goKSB7XG4gICAgLy8gTG9vayBmb3IgYW55IGV4aXN0aW5nIG1hcmtlciBsaWtlIGZyb20gYSBzZWFyY2ggcmVzdWx0IGFuZCBmaWx0ZXJcbiAgICAvLyBpbWFnZXJ5IGF0IHRoYXQgbG9jYXRpb25cbiAgICBjb25zdCBtYXJrZXJMb2NhdGlvbiA9IGdldE1hcmtlckxvY2F0aW9uKHRoaXMucHJvcHMudGVycmlhKTtcbiAgICBjb25zdCBzb3VyY2VJdGVtID0gdGhpcy5wcm9wcy5zb3VyY2VJdGVtO1xuICAgIGlmIChtYXJrZXJMb2NhdGlvbiAmJiBNYXBwYWJsZU1peGluLmlzTWl4ZWRJbnRvKHNvdXJjZUl0ZW0pKSB7XG4gICAgICBjb25zdCBwYXJ0ID0gc291cmNlSXRlbS5tYXBJdGVtcy5maW5kKChwKSA9PiBJbWFnZXJ5UGFydHMuaXMocCkpO1xuICAgICAgY29uc3QgaW1hZ2VyeVByb3ZpZGVyID1cbiAgICAgICAgcGFydCAmJiBJbWFnZXJ5UGFydHMuaXMocGFydCkgJiYgcGFydC5pbWFnZXJ5UHJvdmlkZXI7XG4gICAgICBpZiAoaW1hZ2VyeVByb3ZpZGVyKSB7XG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gW1xuICAgICAgICAgIHNldFRpbWVGaWx0ZXJGcm9tTG9jYXRpb24oXG4gICAgICAgICAgICB0aGlzLnByb3BzLmxlZnRJdGVtLFxuICAgICAgICAgICAgbWFya2VyTG9jYXRpb24sXG4gICAgICAgICAgICBpbWFnZXJ5UHJvdmlkZXJcbiAgICAgICAgICApLFxuICAgICAgICAgIHNldFRpbWVGaWx0ZXJGcm9tTG9jYXRpb24oXG4gICAgICAgICAgICB0aGlzLnByb3BzLnJpZ2h0SXRlbSxcbiAgICAgICAgICAgIG1hcmtlckxvY2F0aW9uLFxuICAgICAgICAgICAgaW1hZ2VyeVByb3ZpZGVyXG4gICAgICAgICAgKVxuICAgICAgICBdO1xuICAgICAgICBjb25zdCBzb21lU3VjY2Vzc2Z1bCA9IChhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcykpLnNvbWUoKG9rKSA9PiBvayk7XG4gICAgICAgIGlmIChzb21lU3VjY2Vzc2Z1bCkge1xuICAgICAgICAgIHJ1bkluQWN0aW9uKCgpID0+ICh0aGlzLmxvY2F0aW9uID0gbWFya2VyTG9jYXRpb24pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJZiB3ZSBjYW5ub3QgcmVzb2x2ZSBpbWFnZXJ5IGF0IHRoZSBtYXJrZXIgbG9jYXRpb24sIHJlbW92ZSBpdFxuICAgICAgICAgIHJlbW92ZU1hcmtlcih0aGlzLnByb3BzLnRlcnJpYSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBydW5JbkFjdGlvbigoKSA9PiB7XG4gICAgICBpZiAodGhpcy5sb2NhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHsgbGF0aXR1ZGUsIGxvbmdpdHVkZSwgaGVpZ2h0IH0gPVxuICAgICAgICAgIHRoaXMuZGlmZkl0ZW0udGltZUZpbHRlckNvb3JkaW5hdGVzO1xuICAgICAgICBpZiAobGF0aXR1ZGUgIT09IHVuZGVmaW5lZCAmJiBsb25naXR1ZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMubG9jYXRpb24gPSB7XG4gICAgICAgICAgICBsYXRpdHVkZSxcbiAgICAgICAgICAgIGxvbmdpdHVkZSxcbiAgICAgICAgICAgIGhlaWdodFxuICAgICAgICAgIH07XG4gICAgICAgICAgLy8gcmVtb3ZlIGFueSBhY3RpdmUgc2VhcmNoIGxvY2F0aW9uIG1hcmtlciB0byBhdm9pZCBzaG93aW5nIHR3byBtYXJrZXJzXG4gICAgICAgICAgcmVtb3ZlTWFya2VyKHRoaXMucHJvcHMudGVycmlhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldExvY2F0aW9uRnJvbUFjdGl2ZVNlYXJjaCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBpIHdhbnQgdG8gcmVzdHJ1Y3R1cmUgdGhlIHJlbmRlciBzbyB0aGF0IHRoZXJlJ3MgMiBkaXN0aW5jdCBcInNob3dpbmcgZGlmZlwiXG4gIC8vIG9yIG5vdCBzdGF0ZXMsIHJpZ2h0IG5vdyBpbnRlcnR3aW5pbmcgdGhlbSBtZWFucyB3YXkgdG9vIG1hbnkgY29uZGl0aW9uYWxzXG4gIC8vIHRoYXQgY29uZnVzZSB0aGUgcmVxdWlyZWQgc3BhY2luZyBldGMuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHRlcnJpYSwgdmlld1N0YXRlLCBzb3VyY2VJdGVtLCB0LCB0aGVtZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpc1Nob3dpbmdEaWZmID0gdGhpcy5kaWZmSXRlbS5pc1Nob3dpbmdEaWZmO1xuICAgIGNvbnN0IGRhdGVzU2VsZWN0ZWQgPSB0aGlzLmxlZnREYXRlICYmIHRoaXMucmlnaHREYXRlO1xuICAgIGNvbnN0IGlzUmVhZHlUb0dlbmVyYXRlRGlmZiA9XG4gICAgICB0aGlzLmxvY2F0aW9uICYmIGRhdGVzU2VsZWN0ZWQgJiYgdGhpcy5kaWZmU3R5bGUgIT09IHVuZGVmaW5lZDtcblxuICAgIHJldHVybiAoXG4gICAgICA8VGV4dCBsYXJnZT5cbiAgICAgICAgPERpZmZBY2NvcmRpb24gdmlld1N0YXRlPXt2aWV3U3RhdGV9IHQ9e3R9PlxuICAgICAgICAgIDxNYWluUGFuZWxcbiAgICAgICAgICAgIGlzTWFwRnVsbFNjcmVlbj17dmlld1N0YXRlLmlzTWFwRnVsbFNjcmVlbn1cbiAgICAgICAgICAgIHN0eWxlZE1heEhlaWdodD17YGNhbGMoMTAwdmggLSAke3ZpZXdTdGF0ZS5ib3R0b21Eb2NrSGVpZ2h0fXB4IC0gMTUwcHgpYH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aXNTaG93aW5nRGlmZiAmJiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPEJveCBjZW50ZXJlZCBsZWZ0PlxuICAgICAgICAgICAgICAgICAgPEJhY2tCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgY3NzPXtgXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICR7dGhlbWUudGV4dExpZ2h0fTtcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6ICR7dGhlbWUudGV4dExpZ2h0fTtcbiAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRCZ1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnJlc2V0VG9vbH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEJveFNwYW4gY2VudGVyZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgPFN0eWxlZEljb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNzcz1cInRyYW5zZm9ybTpyb3RhdGUoOTBkZWcpO1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBsaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVkV2lkdGg9XCIxNnB4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdseXBoPXtHTFlQSFMuYXJyb3dEb3dufVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPFRleHRTcGFuIG5vRm9udFNpemU+e3QoXCJnZW5lcmFsLmJhY2tcIil9PC9UZXh0U3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9Cb3hTcGFuPlxuICAgICAgICAgICAgICAgICAgPC9CYWNrQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgIDxTcGFjaW5nIGJvdHRvbT17M30gLz5cbiAgICAgICAgICAgICAgICA8VGV4dCBtZWRpdW0gdGV4dExpZ2h0PlxuICAgICAgICAgICAgICAgICAge3QoXCJkaWZmVG9vbC5kaWZmZXJlbmNlUmVzdWx0c1RpdGxlXCIpfVxuICAgICAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICAgICAgICA8U3BhY2luZyBib3R0b209ezJ9IC8+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxUZXh0IHRleHRMaWdodD57dChcImRpZmZUb29sLmluc3RydWN0aW9ucy5wYW5lRGVzY3JpcHRpb25cIil9PC9UZXh0PlxuICAgICAgICAgICAgPFNwYWNpbmcgYm90dG9tPXszfSAvPlxuICAgICAgICAgICAgPExvY2F0aW9uQW5kRGF0ZXNEaXNwbGF5Qm94PlxuICAgICAgICAgICAgICA8Qm94PlxuICAgICAgICAgICAgICAgIDxUZXh0IG1lZGl1bT57dChcImRpZmZUb29sLmxhYmVscy5hcmVhXCIpfTo8L1RleHQ+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxUZXh0IG1lZGl1bSB0ZXh0TGlnaHREaW1tZWQ9eyF0aGlzLmxvY2F0aW9ufT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMubG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICA/IHQoXCJkaWZmVG9vbC5sb2NhdGlvbkRpc3BsYXkubG9jYXRpb25TZWxlY3RlZC50aXRsZVwiKVxuICAgICAgICAgICAgICAgICAgICAgIDogdChcImRpZmZUb29sLmxvY2F0aW9uRGlzcGxheS5ub0xvY2F0aW9uU2VsZWN0ZWQudGl0bGVcIil9XG4gICAgICAgICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgICAgICAgICA8VGV4dCBsaWdodCB0ZXh0TGlnaHQgc21hbGw+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgPyB0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpZmZUb29sLmxvY2F0aW9uRGlzcGxheS5sb2NhdGlvblNlbGVjdGVkLmRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICA6IHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGlmZlRvb2wubG9jYXRpb25EaXNwbGF5Lm5vTG9jYXRpb25TZWxlY3RlZC5kZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgPEJveD5cbiAgICAgICAgICAgICAgICA8VGV4dCBtZWRpdW0+e3QoXCJkaWZmVG9vbC5sYWJlbHMuZGF0ZXNcIil9OjwvVGV4dD5cbiAgICAgICAgICAgICAgICA8Qm94IGNvbHVtbiBhbGlnbkl0ZW1zRmxleFN0YXJ0PlxuICAgICAgICAgICAgICAgICAge3RoaXMubGVmdERhdGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8VGV4dCBsYXJnZT5cbiAgICAgICAgICAgICAgICAgICAgICAoQSl7XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAge2RhdGVGb3JtYXQoXG4gICAgICAgICAgICAgICAgICAgICAgICBKdWxpYW5EYXRlLnRvRGF0ZSh0aGlzLmxlZnREYXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGQvbW0veXl5eVwiXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIHshdGhpcy5sZWZ0RGF0ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxSYXdCdXR0b24gcmVmPXt0aGlzLm9wZW5MZWZ0RGF0ZVBpY2tlckJ1dHRvbn0+XG4gICAgICAgICAgICAgICAgICAgICAgPFRleHRTcGFuIGlzTGluayBzbWFsbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt0KFwiZGlmZlRvb2wuaW5zdHJ1Y3Rpb25zLnNldERhdGVBXCIpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvVGV4dFNwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvUmF3QnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDxTcGFjaW5nIGJvdHRvbT17MX0gLz5cbiAgICAgICAgICAgICAgICAgIHt0aGlzLnJpZ2h0RGF0ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxUZXh0IGxhcmdlPlxuICAgICAgICAgICAgICAgICAgICAgIChCKXtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICB7ZGF0ZUZvcm1hdChcbiAgICAgICAgICAgICAgICAgICAgICAgIEp1bGlhbkRhdGUudG9EYXRlKHRoaXMucmlnaHREYXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGQvbW0veXl5eVwiXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIHshdGhpcy5yaWdodERhdGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8UmF3QnV0dG9uIHJlZj17dGhpcy5vcGVuUmlnaHREYXRlUGlja2VyQnV0dG9ufT5cbiAgICAgICAgICAgICAgICAgICAgICA8VGV4dFNwYW4gaXNMaW5rIHNtYWxsPlxuICAgICAgICAgICAgICAgICAgICAgICAge3QoXCJkaWZmVG9vbC5pbnN0cnVjdGlvbnMuc2V0RGF0ZUJcIil9XG4gICAgICAgICAgICAgICAgICAgICAgPC9UZXh0U3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9SYXdCdXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAge2lzU2hvd2luZ0RpZmYgPT09IGZhbHNlICYmIHRoaXMubGVmdERhdGUgJiYgdGhpcy5yaWdodERhdGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8UmF3QnV0dG9uIG9uQ2xpY2s9e3RoaXMudW5zZXREYXRlc30+XG4gICAgICAgICAgICAgICAgICAgICAgPFRleHRTcGFuIGlzTGluayBzbWFsbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt0KFwiZGlmZlRvb2wuaW5zdHJ1Y3Rpb25zLmNoYW5nZURhdGVzXCIpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvVGV4dFNwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvUmF3QnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICA8L0xvY2F0aW9uQW5kRGF0ZXNEaXNwbGF5Qm94PlxuICAgICAgICAgICAgeyFpc1Nob3dpbmdEaWZmICYmIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8U3BhY2luZyBib3R0b209ezR9IC8+XG4gICAgICAgICAgICAgICAgPFNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICB2aWV3U3RhdGU9e3ZpZXdTdGF0ZX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtzb3VyY2VJdGVtLnVuaXF1ZUlkfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuY2hhbmdlU291cmNlSXRlbX1cbiAgICAgICAgICAgICAgICAgIGxhYmVsPXt0KFwiZGlmZlRvb2wubGFiZWxzLnNvdXJjZURhdGFzZXRcIil9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiBkaXNhYmxlZD5TZWxlY3Qgc291cmNlIGl0ZW08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIHt0aGlzLmRpZmZhYmxlSXRlbXNJbldvcmtiZW5jaC5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2l0ZW0udW5pcXVlSWR9IHZhbHVlPXtpdGVtLnVuaXF1ZUlkfT5cbiAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvU2VsZWN0b3I+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHshaXNTaG93aW5nRGlmZiAmJiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPFNwYWNpbmcgYm90dG9tPXs0fSAvPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RvclxuICAgICAgICAgICAgICAgICAgdmlld1N0YXRlPXt2aWV3U3RhdGV9XG4gICAgICAgICAgICAgICAgICBzcGFjaW5nQm90dG9tXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5wcmV2aWV3U3R5bGV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5jaGFuZ2VQcmV2aWV3U3R5bGV9XG4gICAgICAgICAgICAgICAgICBsYWJlbD17dChcImRpZmZUb29sLmxhYmVscy5wcmV2aWV3U3R5bGVcIil9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiBkaXNhYmxlZCB2YWx1ZT1cIlwiPlxuICAgICAgICAgICAgICAgICAgICB7dChcImRpZmZUb29sLmNob29zZVByZXZpZXdcIil9XG4gICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIHt0aGlzLmRpZmZJdGVtLnN0eWxlU2VsZWN0YWJsZURpbWVuc2lvbnM/LlswXT8ub3B0aW9ucz8ubWFwKFxuICAgICAgICAgICAgICAgICAgICAoc3R5bGUpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17c3R5bGUuaWR9IHZhbHVlPXtzdHlsZS5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c3R5bGUubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L1NlbGVjdG9yPlxuICAgICAgICAgICAgICAgIHt0aGlzLnByZXZpZXdMZWdlbmRVcmwgJiYgKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPFNwYWNpbmcgYm90dG9tPXsyfSAvPlxuICAgICAgICAgICAgICAgICAgICA8TGVnZW5kSW1hZ2Ugd2lkdGg9XCIxMDAlXCIgc3JjPXt0aGlzLnByZXZpZXdMZWdlbmRVcmx9IC8+XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8U3BhY2luZyBib3R0b209ezJ9IC8+XG4gICAgICAgICAgICA8U2VsZWN0b3JcbiAgICAgICAgICAgICAgdmlld1N0YXRlPXt2aWV3U3RhdGV9XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLmRpZmZTdHlsZSB8fCBcIlwifVxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5jaGFuZ2VEaWZmU3R5bGV9XG4gICAgICAgICAgICAgIGxhYmVsPXt0KFwiZGlmZlRvb2wubGFiZWxzLmRpZmZlcmVuY2VPdXRwdXRcIil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxvcHRpb24gZGlzYWJsZWQgdmFsdWU9XCJcIj5cbiAgICAgICAgICAgICAgICB7dChcImRpZmZUb29sLmNob29zZURpZmZlcmVuY2VcIil9XG4gICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICB7dGhpcy5hdmFpbGFibGVEaWZmU3R5bGVzLm1hcCgoc3R5bGUpID0+IChcbiAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17c3R5bGUuaWR9IHZhbHVlPXtzdHlsZS5pZH0+XG4gICAgICAgICAgICAgICAgICB7c3R5bGUubmFtZX1cbiAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L1NlbGVjdG9yPlxuICAgICAgICAgICAge2lzU2hvd2luZ0RpZmYgJiYgdGhpcy5kaWZmTGVnZW5kVXJsICYmIChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8TGVnZW5kSW1hZ2Ugd2lkdGg9XCIxMDAlXCIgc3JjPXt0aGlzLmRpZmZMZWdlbmRVcmx9IC8+XG4gICAgICAgICAgICAgICAgPFNwYWNpbmcgYm90dG9tPXs0fSAvPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7IWlzU2hvd2luZ0RpZmYgJiYgKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxTcGFjaW5nIGJvdHRvbT17NH0gLz5cbiAgICAgICAgICAgICAgICA8R2VuZXJhdGVCdXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZ2VuZXJhdGVEaWZmfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFpc1JlYWR5VG9HZW5lcmF0ZURpZmZ9XG4gICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiVEpTRGlmZmVyZW5jZURpc2FibGVkQnV0dG9uUHJvbXB0XCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8VGV4dFNwYW4gbGFyZ2U+XG4gICAgICAgICAgICAgICAgICAgIHt0KFwiZGlmZlRvb2wubGFiZWxzLmdlbmVyYXRlRGlmZkJ1dHRvblRleHRcIil9XG4gICAgICAgICAgICAgICAgICA8L1RleHRTcGFuPlxuICAgICAgICAgICAgICAgIDwvR2VuZXJhdGVCdXR0b24+XG5cbiAgICAgICAgICAgICAgICB7IWlzUmVhZHlUb0dlbmVyYXRlRGlmZiAmJiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8U3BhY2luZyBib3R0b209ezN9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgc21hbGxcbiAgICAgICAgICAgICAgICAgICAgICBsaWdodFxuICAgICAgICAgICAgICAgICAgICAgIHRleHRMaWdodFxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwiVEpTRGlmZmVyZW5jZURpc2FibGVkQnV0dG9uUHJvbXB0XCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHt0KFwiZGlmZlRvb2wubGFiZWxzLmRpc2FibGVkQnV0dG9uUHJvbXB0XCIpfVxuICAgICAgICAgICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgIDxTcGFjaW5nIGJvdHRvbT17NH0gLz5cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L01haW5QYW5lbD5cbiAgICAgICAgPC9EaWZmQWNjb3JkaW9uPlxuICAgICAgICB7aXNTaG93aW5nRGlmZiAmJiAoXG4gICAgICAgICAgPENsb3NlRGlmZmVyZW5jZUJ1dHRvblxuICAgICAgICAgICAgcHJpbWFyeVxuICAgICAgICAgICAgcm91bmRlZFxuICAgICAgICAgICAgdGV4dFByb3BzPXt7XG4gICAgICAgICAgICAgIHNlbWlCb2xkOiB0cnVlLFxuICAgICAgICAgICAgICBleHRyYUxhcmdlOiB0cnVlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgdGhlbWU9e3RoZW1lfVxuICAgICAgICAgICAgYWN0aXZlU3R5bGVzXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnJlc2V0VG9vbH1cbiAgICAgICAgICAgIHJlbmRlckljb249eygpID0+IChcbiAgICAgICAgICAgICAgPFN0eWxlZEljb24gbGlnaHQgc3R5bGVkV2lkdGg9XCIxM3B4XCIgZ2x5cGg9e0dMWVBIUy5jbG9zZUxpZ2h0fSAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIGljb25Qcm9wcz17e1xuICAgICAgICAgICAgICBjc3M6IGBtYXJnaW4tcmlnaHQ6IDEwcHg7YFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBDbG9zZVxuICAgICAgICAgIDwvQ2xvc2VEaWZmZXJlbmNlQnV0dG9uPlxuICAgICAgICApfVxuICAgICAgICB7IWlzU2hvd2luZ0RpZmYgJiYgKFxuICAgICAgICAgIDxMb2NhdGlvblBpY2tlclxuICAgICAgICAgICAgdGVycmlhPXt0ZXJyaWF9XG4gICAgICAgICAgICBsb2NhdGlvbj17dGhpcy5sb2NhdGlvbn1cbiAgICAgICAgICAgIG9uUGlja2luZz17dGhpcy5vblVzZXJQaWNraW5nTG9jYXRpb259XG4gICAgICAgICAgICBvblBpY2tlZD17dGhpcy5vblVzZXJQaWNrTG9jYXRpb259XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAgeyFpc1Nob3dpbmdEaWZmICYmXG4gICAgICAgICAgUmVhY3RET00uY3JlYXRlUG9ydGFsKFxuICAgICAgICAgICAgLy8gQm90dG9tIFBhbmVsXG4gICAgICAgICAgICA8Qm94IGNlbnRlcmVkIGZ1bGxXaWR0aCBmbGV4V3JhcCBiYWNrZ3JvdW5kQ29sb3I9e3RoZW1lLmRhcmt9PlxuICAgICAgICAgICAgICA8RGF0ZVBpY2tlclxuICAgICAgICAgICAgICAgIGhlYWRpbmc9e3QoXCJkaWZmVG9vbC5sYWJlbHMuZGF0ZUNvbXBhcmlzb25BXCIpfVxuICAgICAgICAgICAgICAgIGl0ZW09e3RoaXMucHJvcHMubGVmdEl0ZW19XG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxPcGVuQnV0dG9uPXt0aGlzLm9wZW5MZWZ0RGF0ZVBpY2tlckJ1dHRvbn1cbiAgICAgICAgICAgICAgICBvbkRhdGVTZXQ9eygpID0+IHRoaXMuc2hvd0l0ZW0odGhpcy5wcm9wcy5sZWZ0SXRlbSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxBcmVhRmlsdGVyU2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgdD17dH1cbiAgICAgICAgICAgICAgICBsb2NhdGlvbj17dGhpcy5sb2NhdGlvbn1cbiAgICAgICAgICAgICAgICBpc1BpY2tpbmdOZXdMb2NhdGlvbj17dGhpcy5faXNQaWNraW5nTmV3TG9jYXRpb259XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxEYXRlUGlja2VyXG4gICAgICAgICAgICAgICAgaGVhZGluZz17dChcImRpZmZUb29sLmxhYmVscy5kYXRlQ29tcGFyaXNvbkJcIil9XG4gICAgICAgICAgICAgICAgaXRlbT17dGhpcy5wcm9wcy5yaWdodEl0ZW19XG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxPcGVuQnV0dG9uPXt0aGlzLm9wZW5SaWdodERhdGVQaWNrZXJCdXR0b259XG4gICAgICAgICAgICAgICAgb25EYXRlU2V0PXsoKSA9PiB0aGlzLnNob3dJdGVtKHRoaXMucHJvcHMucmlnaHRJdGVtKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvQm94PixcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiVEpTLUJvdHRvbURvY2tMYXN0UG9ydGFsXCIpIVxuICAgICAgICAgICl9XG4gICAgICA8L1RleHQ+XG4gICAgKTtcbiAgfVxufVxuXG5pbnRlcmZhY2UgRGlmZkFjY29yZGlvblByb3BzIHtcbiAgdmlld1N0YXRlOiBWaWV3U3RhdGU7XG4gIHQ6IFRGdW5jdGlvbjtcbn1cblxuY29uc3QgRGlmZkFjY29yZGlvblRvZ2dsZSA9IHN0eWxlZChCb3gpYFxuICAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmJvcmRlclJhZGl1c1RvcCh0aGVtZS5yYWRpdXM0MEJ1dHRvbil9XG5gO1xuXG5jb25zdCBEaWZmQWNjb3JkaW9uOiBSZWFjdC5GQzxEaWZmQWNjb3JkaW9uUHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IFtzaG93Q2hpbGRyZW4sIHNldFNob3dDaGlsZHJlbl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgeyB0LCB2aWV3U3RhdGUgfSA9IHByb3BzO1xuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gIHJldHVybiAoXG4gICAgPERpZmZBY2NvcmRpb25XcmFwcGVyIGlzTWFwRnVsbFNjcmVlbj17dmlld1N0YXRlLmlzTWFwRnVsbFNjcmVlbn0gY29sdW1uPlxuICAgICAgey8qIERpZmYgaGVhZGVyICovfVxuICAgICAgPERpZmZBY2NvcmRpb25Ub2dnbGVcbiAgICAgICAgcGFkZGVkVmVydGljYWxseVxuICAgICAgICBwYWRkZWRIb3Jpem9udGFsbHk9ezJ9XG4gICAgICAgIGNlbnRlcmVkXG4gICAgICAgIGp1c3RpZnlTcGFjZUJldHdlZW5cbiAgICAgICAgYmFja2dyb3VuZENvbG9yPXt0aGVtZS5jb2xvclNlY29uZGFyeX1cbiAgICAgID5cbiAgICAgICAgPEJveCBjZW50ZXJlZD5cbiAgICAgICAgICA8U3R5bGVkSWNvbiBzdHlsZWRXaWR0aD1cIjIwcHhcIiBsaWdodCBnbHlwaD17R0xZUEhTLmRpZmZlcmVuY2V9IC8+XG4gICAgICAgICAgPFNwYWNpbmcgcmlnaHQ9ezF9IC8+XG4gICAgICAgICAgPFRleHRcbiAgICAgICAgICAgIHRleHRMaWdodFxuICAgICAgICAgICAgc2VtaUJvbGRcbiAgICAgICAgICAgIC8vIGZvbnQtc2l6ZSBpcyBub24gc3RhbmRhcmQgd2l0aCB3aGF0IHdlIGhhdmUgc28gZmFyIGluIHRlcnJpYSxcbiAgICAgICAgICAgIC8vIGxpbmVoZWlnaHQgYXMgd2VsbCB0byBoaXQgbm9uc3RhbmRhcmQgcGFkZGluZ3NcbiAgICAgICAgICAgIHN0eWxlZEZvbnRTaXplPVwiMTdweFwiXG4gICAgICAgICAgICBzdHlsZWRMaW5lSGVpZ2h0PVwiMzBweFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3QoXCJkaWZmVG9vbC50aXRsZVwiKX1cbiAgICAgICAgICA8L1RleHQ+XG4gICAgICAgIDwvQm94PlxuICAgICAgICB7LyogbWFyZ2luLXJpZ2h0IDVweCBmb3IgdGhlIHBhZGRlZCBidXR0b24gb2Zmc2V0IC0gbGFyZ2VyIGNsaWNrIGFyZWFcbiAgICAgICAgICAgIGJ1dCB2aXNpYmxlIHNob3VsZCBiZSBpbmxpbmUgd2l0aCByZXN0IG9mIGJveCAqL31cbiAgICAgICAgPEJveCBjZW50ZXJlZCBjc3M9e1wibWFyZ2luLXJpZ2h0Oi01cHg7XCJ9PlxuICAgICAgICAgIDxSYXdCdXR0b24gb25DbGljaz17KCkgPT4gdmlld1N0YXRlLmNsb3NlVG9vbCgpfT5cbiAgICAgICAgICAgIDxUZXh0U3BhbiB0ZXh0TGlnaHQgc21hbGwgc2VtaUJvbGQgdXBwZXJjYXNlPlxuICAgICAgICAgICAgICB7dChcImRpZmZUb29sLmV4aXRcIil9XG4gICAgICAgICAgICA8L1RleHRTcGFuPlxuICAgICAgICAgIDwvUmF3QnV0dG9uPlxuICAgICAgICAgIDxTcGFjaW5nIHJpZ2h0PXs0fSAvPlxuICAgICAgICAgIDxSYXdCdXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd0NoaWxkcmVuKCFzaG93Q2hpbGRyZW4pfT5cbiAgICAgICAgICAgIDxCb3hTcGFuIHBhZGRlZFJhdGlvPXsxfSBjZW50ZXJlZD5cbiAgICAgICAgICAgICAgPFN0eWxlZEljb25cbiAgICAgICAgICAgICAgICBzdHlsZWRXaWR0aD1cIjEycHhcIlxuICAgICAgICAgICAgICAgIGxpZ2h0XG4gICAgICAgICAgICAgICAgZ2x5cGg9e3Nob3dDaGlsZHJlbiA/IEdMWVBIUy5vcGVuZWQgOiBHTFlQSFMuY2xvc2VkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Cb3hTcGFuPlxuICAgICAgICAgIDwvUmF3QnV0dG9uPlxuICAgICAgICA8L0JveD5cbiAgICAgIDwvRGlmZkFjY29yZGlvblRvZ2dsZT5cbiAgICAgIHtzaG93Q2hpbGRyZW4gJiYgcHJvcHMuY2hpbGRyZW59XG4gICAgPC9EaWZmQWNjb3JkaW9uV3JhcHBlcj5cbiAgKTtcbn07XG5cbmNvbnN0IERpZmZBY2NvcmRpb25XcmFwcGVyID0gc3R5bGVkKEJveCkuYXR0cnMoe1xuICBjb2x1bW46IHRydWUsXG4gIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gIHN0eWxlZFdpZHRoOiBcIjM0MHB4XCJcbiAgLy8gY2hhcmNvYWxHcmV5Qmc6IHRydWVcbn0pPHsgaXNNYXBGdWxsU2NyZWVuOiBib29sZWFuIH0+YFxuICB0b3A6IDcwcHg7XG4gIGxlZnQ6IDBweDtcbiAgbWluLWhlaWdodDogMjIwcHg7XG4gIC8vIGJhY2tncm91bmQ6ICR7KHApID0+IHAudGhlbWUuZGFya307XG4gIG1hcmdpbi1sZWZ0OiAkeyhwcm9wcykgPT5cbiAgICBwcm9wcy5pc01hcEZ1bGxTY3JlZW5cbiAgICAgID8gMTZcbiAgICAgIDogcGFyc2VJbnQocHJvcHMudGhlbWUud29ya2JlbmNoV2lkdGgsIDEwKSArIDQwfXB4O1xuICB0cmFuc2l0aW9uOiBtYXJnaW4tbGVmdCAwLjI1cztcbmA7XG5cbmNvbnN0IE1haW5QYW5lbCA9IHN0eWxlZChCb3gpLmF0dHJzKHtcbiAgY29sdW1uOiB0cnVlLFxuICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICBwYWRkZWRSYXRpbzogMlxufSk8eyBpc01hcEZ1bGxTY3JlZW46IGJvb2xlYW4gfT5gXG4gICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuYm9yZGVyUmFkaXVzQm90dG9tKHRoZW1lLnJhZGl1czQwQnV0dG9uKX1cbiAgYmFja2dyb3VuZC1jb2xvcjogJHsocCkgPT4gcC50aGVtZS5kYXJrV2l0aE92ZXJsYXl9O1xuYDtcblxuY29uc3QgQmFja0J1dHRvbiA9IHN0eWxlZChCdXR0b24pLmF0dHJzKHtcbiAgc2Vjb25kYXJ5OiB0cnVlXG59KWBgO1xuXG5jb25zdCBDbG9zZURpZmZlcmVuY2VCdXR0b24gPSBzdHlsZWQoQnV0dG9uKWBcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiA1MCU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgdG9wOiAxOHB4O1xuICBwYWRkaW5nOiAwIDIwcHg7XG5gO1xuXG5jb25zdCBHZW5lcmF0ZUJ1dHRvbiA9IHN0eWxlZChCdXR0b24pLmF0dHJzKHtcbiAgcHJpbWFyeTogdHJ1ZSxcbiAgc3BsaXR0ZXI6IHRydWUsXG4gIGZ1bGxXaWR0aDogdHJ1ZVxufSlgYDtcblxuY29uc3QgU2VsZWN0b3IgPSAocHJvcHM6IGFueSkgPT4gKFxuICA8Qm94IGZ1bGxXaWR0aCBjb2x1bW4+XG4gICAgPGxhYmVsPlxuICAgICAgey8qIDxUZXh0IHRleHRMaWdodD57cHJvcHMubGFiZWx9OjwvVGV4dD4gKi99XG4gICAgICA8VGV4dCB0ZXh0TGlnaHQgY3NzPXtcInAge21hcmdpbjogMDt9XCJ9PlxuICAgICAgICB7cGFyc2VDdXN0b21NYXJrZG93blRvUmVhY3RXaXRoT3B0aW9ucyhgJHtwcm9wcy5sYWJlbH06YCwge1xuICAgICAgICAgIGluamVjdFRlcm1zQXNUb29sdGlwczogdHJ1ZSxcbiAgICAgICAgICB0b29sdGlwVGVybXM6IHByb3BzLnZpZXdTdGF0ZS50ZXJyaWEuY29uZmlnUGFyYW1ldGVycy5oZWxwQ29udGVudFRlcm1zXG4gICAgICAgIH0pfVxuICAgICAgPC9UZXh0PlxuICAgICAgPFNwYWNpbmcgYm90dG9tPXsxfSAvPlxuICAgICAgPFNlbGVjdCB7Li4ucHJvcHN9Pntwcm9wcy5jaGlsZHJlbn08L1NlbGVjdD5cbiAgICAgIHtwcm9wcy5zcGFjaW5nQm90dG9tICYmIDxTcGFjaW5nIGJvdHRvbT17Mn0gLz59XG4gICAgPC9sYWJlbD5cbiAgPC9Cb3g+XG4pO1xuXG5jb25zdCBBcmVhRmlsdGVyU2VsZWN0aW9uID0gKHByb3BzOiB7XG4gIHQ6IFRGdW5jdGlvbjtcbiAgbG9jYXRpb24/OiBMYXRMb25IZWlnaHQ7XG4gIGlzUGlja2luZ05ld0xvY2F0aW9uOiBib29sZWFuO1xuICB0aGVtZT86IGFueTtcbn0pID0+IHtcbiAgY29uc3QgeyB0LCBsb2NhdGlvbiwgaXNQaWNraW5nTmV3TG9jYXRpb24gfSA9IHByb3BzO1xuICBsZXQgbG9jYXRpb25UZXh0ID0gXCItXCI7XG4gIGlmIChsb2NhdGlvbikge1xuICAgIGNvbnN0IHsgbG9uZ2l0dWRlLCBsYXRpdHVkZSB9ID0gcHJldHRpZnlDb29yZGluYXRlcyhcbiAgICAgIGxvY2F0aW9uLmxvbmdpdHVkZSxcbiAgICAgIGxvY2F0aW9uLmxhdGl0dWRlLFxuICAgICAge1xuICAgICAgICBkaWdpdHM6IDJcbiAgICAgIH1cbiAgICApO1xuICAgIGxvY2F0aW9uVGV4dCA9IGAke2xvbmdpdHVkZX0gJHtsYXRpdHVkZX1gO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Qm94XG4gICAgICBjb2x1bW5cbiAgICAgIGNlbnRlcmVkXG4gICAgICBzdHlsZWRNaW5XaWR0aD1cIjIzMHB4XCJcbiAgICAgIGNzcz17YFxuICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogJHsocHJvcHM6IGFueSkgPT4gcHJvcHMudGhlbWUubWR9cHgpIHtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgfVxuICAgICAgYH1cbiAgICA+XG4gICAgICA8Qm94IGNlbnRlcmVkPlxuICAgICAgICA8U3R5bGVkSWNvbiBsaWdodCBzdHlsZWRXaWR0aD1cIjE2cHhcIiBnbHlwaD17R0xZUEhTLmxvY2F0aW9uMn0gLz5cbiAgICAgICAgPFNwYWNpbmcgcmlnaHQ9ezJ9IC8+XG4gICAgICAgIDxUZXh0IHRleHRMaWdodCBleHRyYUxhcmdlPlxuICAgICAgICAgIHt0KFwiZGlmZlRvb2wubGFiZWxzLmFyZWFGaWx0ZXJTZWxlY3Rpb25cIil9XG4gICAgICAgIDwvVGV4dD5cbiAgICAgIDwvQm94PlxuICAgICAgPFNwYWNpbmcgYm90dG9tPXszfSAvPlxuICAgICAgPEJveCBzdHlsZWRNaW5IZWlnaHQ9XCI0MHB4XCI+XG4gICAgICAgIHtpc1BpY2tpbmdOZXdMb2NhdGlvbiA/IChcbiAgICAgICAgICA8VGV4dFxuICAgICAgICAgICAgdGV4dExpZ2h0XG4gICAgICAgICAgICBleHRyYUV4dHJhTGFyZ2VcbiAgICAgICAgICAgIGJvbGRcbiAgICAgICAgICAgIC8vIFVzaW5nIGxlZ2FjeSBMb2FkZXIuanN4IG1lYW5zIHdlIG92ZXJyaWRlIGF0IGEgaGlnaGVyIGxldmVsIHRvIGluaGVyaXRcbiAgICAgICAgICAgIC8vIHRoaXMgZmlsbHMgdHlsZVxuICAgICAgICAgICAgY3NzPXtgXG4gICAgICAgICAgICAgIGZpbGw6ICR7KHsgdGhlbWUgfTogYW55KSA9PiB0aGVtZS50ZXh0TGlnaHR9O1xuICAgICAgICAgICAgYH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8TG9hZGVyXG4gICAgICAgICAgICAgIGxpZ2h0XG4gICAgICAgICAgICAgIG1lc3NhZ2U9e2BRdWVyeWluZyAke2xvY2F0aW9uID8gXCJuZXdcIiA6IFwiXCJ9IHBvc2l0aW9uLi4uYH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9UZXh0PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxUZXh0IHRleHRMaWdodCBib2xkIGhlYWRpbmcgdGV4dEFsaWduQ2VudGVyPlxuICAgICAgICAgICAge2xvY2F0aW9uVGV4dH1cbiAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICl9XG4gICAgICA8L0JveD5cbiAgICA8L0JveD5cbiAgKTtcbn07XG5cbmNvbnN0IExvY2F0aW9uQW5kRGF0ZXNEaXNwbGF5Qm94ID0gc3R5bGVkKEJveCkuYXR0cnMoe1xuICBjb2x1bW46IHRydWUsXG4gIGNoYXJjb2FsR3JleUJnOiB0cnVlXG59KWBcbiAgY29sb3I6ICR7KHApID0+IHAudGhlbWUudGV4dExpZ2h0fTtcbiAgcGFkZGluZzogMTVweDtcbiAgPiAke0JveH06Zmlyc3QtY2hpbGQge1xuICAgIG1hcmdpbi1ib3R0b206IDEzcHg7XG4gIH1cbiAgPiBkaXYgPiBkaXY6Zmlyc3QtY2hpbGQge1xuICAgIC8qIFRoZSBsYWJlbHMgKi9cbiAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICBtaW4td2lkdGg6IDUwcHg7XG4gIH1cbmA7XG5cbmNvbnN0IExlZ2VuZEltYWdlID0gZnVuY3Rpb24gKHByb3BzOiBhbnkpIHtcbiAgcmV0dXJuIChcbiAgICA8aW1nXG4gICAgICB7Li4ucHJvcHN9XG4gICAgICAvLyBTaG93IHRoZSBsZWdlbmQgb25seSBpZiBpdCBsb2FkcyBzdWNjZXNzZnVsbHksIHNvIHdlIHN0YXJ0IG91dCBoaWRkZW5cbiAgICAgIHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiLCBtYXJnaW5Ub3A6IFwiNHB4XCIgfX1cbiAgICAgIG9uTG9hZD17KGUpID0+IChlLmN1cnJlbnRUYXJnZXQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIil9XG4gICAgICBvbkVycm9yPXsoZSkgPT4gKGUuY3VycmVudFRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCIpfVxuICAgIC8+XG4gICk7XG59O1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTcGxpdEl0ZW0oXG4gIHNvdXJjZUl0ZW06IERpZmZhYmxlSXRlbSxcbiAgc3BsaXREaXJlY3Rpb246IFNwbGl0RGlyZWN0aW9uXG4pOiBQcm9taXNlPERpZmZhYmxlSXRlbT4ge1xuICBjb25zdCB0ZXJyaWEgPSBzb3VyY2VJdGVtLnRlcnJpYTtcbiAgY29uc3QgcmVmID0gbmV3IFNwbGl0SXRlbVJlZmVyZW5jZShjcmVhdGVHdWlkKCksIHRlcnJpYSk7XG4gIHJlZi5zZXRUcmFpdChDb21tb25TdHJhdGEudXNlciwgXCJzcGxpdFNvdXJjZUl0ZW1JZFwiLCBzb3VyY2VJdGVtLnVuaXF1ZUlkKTtcbiAgdGVycmlhLmFkZE1vZGVsKHJlZik7XG4gIGF3YWl0IHJlZi5sb2FkUmVmZXJlbmNlKCk7XG4gIHJldHVybiBydW5JbkFjdGlvbigoKSA9PiB7XG4gICAgaWYgKHJlZi50YXJnZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJmYWlsZWQgdG8gc3BsaXQgaXRlbVwiKTtcbiAgICB9XG4gICAgY29uc3QgbmV3SXRlbSA9IHJlZi50YXJnZXQgYXMgRGlmZmFibGVJdGVtO1xuICAgIG5ld0l0ZW0uc2V0VHJhaXQoQ29tbW9uU3RyYXRhLnVzZXIsIFwic2hvd1wiLCB0cnVlKTtcbiAgICBuZXdJdGVtLnNldFRyYWl0KENvbW1vblN0cmF0YS51c2VyLCBcInNwbGl0RGlyZWN0aW9uXCIsIHNwbGl0RGlyZWN0aW9uKTtcbiAgICBuZXdJdGVtLnNldFRyYWl0KENvbW1vblN0cmF0YS51c2VyLCBcImN1cnJlbnRUaW1lXCIsIG51bGwpO1xuICAgIG5ld0l0ZW0uc2V0VHJhaXQoQ29tbW9uU3RyYXRhLnVzZXIsIFwiaW5pdGlhbFRpbWVTb3VyY2VcIiwgXCJub25lXCIpO1xuICAgIGlmIChoYXNPcGFjaXR5KG5ld0l0ZW0pKSB7XG4gICAgICAvLyBXZSB3YW50IHRvIHNob3cgdGhlIGl0ZW0gb24gdGhlIG1hcCBvbmx5IGFmdGVyIGRhdGUgc2VsZWN0aW9uLiBBdCB0aGVcbiAgICAgIC8vIHNhbWUgdGltZSB3ZSBjYW5ub3Qgc2V0IGBzaG93YCB0byBmYWxzZSBiZWNhdXNlIGlmIHdlXG4gICAgICAvLyBkbyBzbywgZGF0ZSBwaWNraW5nIHdoaWNoIHJlbGllcyBvbiBmZWF0dXJlIHBpY2tpbmcsIHdpbGwgbm90IHdvcmsuIFNvXG4gICAgICAvLyB3ZSBzaW1wbHkgc2V0IHRoZSBvcGFjaXR5IG9mIHRoZSBpdGVtIHRvIDAuXG4gICAgICBuZXdJdGVtLnNldFRyYWl0KENvbW1vblN0cmF0YS51c2VyLCBcIm9wYWNpdHlcIiwgMCk7XG4gICAgfVxuXG4gICAgLy8gT3ZlcnJpZGUgZmVhdHVyZSBpbmZvIHRlbXBsYXRlIGFzIHRoZSBwYXJlbnQgZmVhdHVyZUluZm9UZW1wbGF0ZSBtaWdodFxuICAgIC8vIG5vdCBiZSByZWxldmFudCBmb3IgdGhlIGRpZmZlcmVuY2UgaXRlbS4gVGhpcyBoYXMgdG8gYmUgZG9uZSBpbiB0aGUgdXNlclxuICAgIC8vIHN0cmF0dW0gdG8gb3ZlcnJpZGUgdGVtcGxhdGUgc2V0IGluIGRlZmluaXRpb24gc3RyYXR1bS5cbiAgICB1cGRhdGVNb2RlbEZyb21Kc29uKG5ld0l0ZW0sIENvbW1vblN0cmF0YS51c2VyLCB7XG4gICAgICBmZWF0dXJlSW5mb1RlbXBsYXRlOiB7IHRlbXBsYXRlOiBcIlwiIH1cbiAgICB9KTtcblxuICAgIHNldERlZmF1bHREaWZmU3R5bGUobmV3SXRlbSk7XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHQgc3R5bGUgdG8gdHJ1ZSBjb2xvciBzdHlsZSBpZiBpdCBleGlzdHNcbiAgICBjb25zdCB0cnVlQ29sb3IgPSBuZXdJdGVtLnN0eWxlU2VsZWN0YWJsZURpbWVuc2lvbnM/LlswXT8ub3B0aW9ucz8uZmluZChcbiAgICAgIChzdHlsZSkgPT4gaXNEZWZpbmVkKHN0eWxlLm5hbWUpICYmIHN0eWxlLm5hbWUuc2VhcmNoKC90cnVlL2kpID49IDBcbiAgICApO1xuICAgIGlmICh0cnVlQ29sb3I/LmlkKSB7XG4gICAgICBuZXdJdGVtLnN0eWxlU2VsZWN0YWJsZURpbWVuc2lvbnM/LlswXT8uc2V0RGltZW5zaW9uVmFsdWUoXG4gICAgICAgIENvbW1vblN0cmF0YS51c2VyLFxuICAgICAgICB0cnVlQ29sb3IuaWRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGVycmlhLm92ZXJsYXlzLmFkZChuZXdJdGVtKTtcbiAgICByZXR1cm4gbmV3SXRlbTtcbiAgfSk7XG59XG5cbi8qKlxuICogSWYgdGhlIGl0ZW0gaGFzIG9ubHkgb25lIGF2YWlsYWJsZSBkaWZmIHN0eWxlLCBhdXRvLXNlbGVjdCBpdFxuICovXG5mdW5jdGlvbiBzZXREZWZhdWx0RGlmZlN0eWxlKGl0ZW06IERpZmZhYmxlSXRlbSkge1xuICBpZiAoaXRlbS5kaWZmU3R5bGVJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgYXZhaWxhYmxlU3R5bGVzID0gZmlsdGVyT3V0VW5kZWZpbmVkKFxuICAgIGl0ZW0uYXZhaWxhYmxlRGlmZlN0eWxlcy5tYXAoKGRpZmZTdHlsZUlkKSA9PlxuICAgICAgaXRlbS5zdHlsZVNlbGVjdGFibGVEaW1lbnNpb25zPy5bMF0/Lm9wdGlvbnM/LmZpbmQoXG4gICAgICAgIChzdHlsZSkgPT4gc3R5bGUuaWQgPT09IGRpZmZTdHlsZUlkXG4gICAgICApXG4gICAgKVxuICApO1xuXG4gIGlmIChhdmFpbGFibGVTdHlsZXMubGVuZ3RoID09PSAxKSB7XG4gICAgaXRlbS5zZXRUcmFpdChDb21tb25TdHJhdGEudXNlciwgXCJkaWZmU3R5bGVJZFwiLCBhdmFpbGFibGVTdHlsZXNbMF0uaWQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVNwbGl0SXRlbShpdGVtOiBEaWZmYWJsZUl0ZW0pIHtcbiAgY29uc3QgdGVycmlhID0gaXRlbS50ZXJyaWE7XG4gIHRlcnJpYS5vdmVybGF5cy5yZW1vdmUoaXRlbSk7XG4gIGlmIChpdGVtLnNvdXJjZVJlZmVyZW5jZSAmJiB0ZXJyaWEud29ya2JlbmNoLmNvbnRhaW5zKGl0ZW0pID09PSBmYWxzZSkge1xuICAgIHRlcnJpYS5yZW1vdmVNb2RlbFJlZmVyZW5jZXMoaXRlbS5zb3VyY2VSZWZlcmVuY2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRvZXNGZWF0dXJlQmVsb25nVG9JdGVtKFxuICBmZWF0dXJlOiBUZXJyaWFGZWF0dXJlLFxuICBpdGVtOiBEaWZmYWJsZUl0ZW1cbik6IGJvb2xlYW4ge1xuICBpZiAoIU1hcHBhYmxlTWl4aW4uaXNNaXhlZEludG8oaXRlbSkpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgaW1hZ2VyeVByb3ZpZGVyID0gZmVhdHVyZS5pbWFnZXJ5TGF5ZXI/LmltYWdlcnlQcm92aWRlcjtcbiAgaWYgKGltYWdlcnlQcm92aWRlciA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAoXG4gICAgaXRlbS5tYXBJdGVtcy5maW5kKFxuICAgICAgKG0pID0+IEltYWdlcnlQYXJ0cy5pcyhtKSAmJiBtLmltYWdlcnlQcm92aWRlciA9PT0gaW1hZ2VyeVByb3ZpZGVyXG4gICAgKSAhPT0gdW5kZWZpbmVkXG4gICk7XG59XG5cbmZ1bmN0aW9uIHNldFRpbWVGaWx0ZXJGcm9tTG9jYXRpb24oXG4gIGl0ZW06IERpZmZhYmxlSXRlbSxcbiAgbG9jYXRpb246IExhdExvbkhlaWdodCxcbiAgaW06IEltYWdlcnlQcm92aWRlclxuKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGNvbnN0IGNhcnRvID0gbmV3IENhcnRvZ3JhcGhpYyhcbiAgICBDZXNpdW1NYXRoLnRvUmFkaWFucyhsb2NhdGlvbi5sb25naXR1ZGUpLFxuICAgIENlc2l1bU1hdGgudG9SYWRpYW5zKGxvY2F0aW9uLmxhdGl0dWRlKVxuICApO1xuICAvLyBXZSBqdXN0IG5lZWQgdG8gc2V0IHRoaXMgdG8gYSBoaWdoIGVub3VnaCBsZXZlbCBzdXBwb3J0ZWQgYnkgdGhlIHNlcnZpY2VcbiAgY29uc3QgbGV2ZWwgPSAzMDtcbiAgY29uc3QgdGlsZSA9IGltLnRpbGluZ1NjaGVtZS5wb3NpdGlvblRvVGlsZVhZKGNhcnRvLCBsZXZlbCk7XG4gIHJldHVybiBpdGVtLnNldFRpbWVGaWx0ZXJGcm9tTG9jYXRpb24oe1xuICAgIHBvc2l0aW9uOiB7XG4gICAgICBsYXRpdHVkZTogbG9jYXRpb24ubGF0aXR1ZGUsXG4gICAgICBsb25naXR1ZGU6IGxvY2F0aW9uLmxvbmdpdHVkZSxcbiAgICAgIGhlaWdodDogbG9jYXRpb24uaGVpZ2h0XG4gICAgfSxcbiAgICB0aWxlQ29vcmRzOiB7XG4gICAgICB4OiB0aWxlLngsXG4gICAgICB5OiB0aWxlLnksXG4gICAgICBsZXZlbFxuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhc09wYWNpdHkoXG4gIG1vZGVsOiBhbnlcbik6IG1vZGVsIGlzIEhhc1RyYWl0PEltYWdlcnlQcm92aWRlclRyYWl0cywgXCJvcGFjaXR5XCI+IHtcbiAgcmV0dXJuIGhhc1RyYWl0cyhtb2RlbCwgSW1hZ2VyeVByb3ZpZGVyVHJhaXRzLCBcIm9wYWNpdHlcIik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0U3RhdGljcyh3aXRoVHJhbnNsYXRpb24oKSh3aXRoVGhlbWUoRGlmZlRvb2wpKSwgRGlmZlRvb2wpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFlQTtBQWZBO0FBRUE7QUFRQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBS0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXREQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQTJFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTUE7QUFBQTtBQUFBO0FBSEE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBYkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFpQkE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBakhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXVFQTtBQTZEQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTEE7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFVQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFXQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUEvQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFpQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBTUE7QUFDQTtBQUFBO0FBSkE7QUFDQTtBQUtBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBS0E7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFFQTtBQUFBO0FBS0E7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUdBO0FBQUE7QUFBQTtBQTFqQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFna0JBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBTEE7QUFBQTtBQU9BO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBT0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFZQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUVBO0FBQUE7QUFtREE7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQWpEQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFHQTtBQUVBO0FBS0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWxNQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFzQkE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/terriajs/lib/ReactViews/Tools/DiffTool/DiffTool.tsx\n");

/***/ }),

/***/ "./node_modules/terriajs/lib/ReactViews/Tools/DiffTool/LocationPicker.tsx":
/*!********************************************************************************!*\
  !*** ./node_modules/terriajs/lib/ReactViews/Tools/DiffTool/LocationPicker.tsx ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"./node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"./node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"./node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"./node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"./node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"./node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"./node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"./node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.reverse.js */ \"./node_modules/core-js/modules/es.array.reverse.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"./node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"./node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"./node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"./node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"./node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"./node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"./node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"./node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"./node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"./node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"./node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"./node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"./node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"./node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"./node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"./node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"./node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"./node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"./node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"./node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\nvar _mobx = __webpack_require__(/*! mobx */ \"./node_modules/mobx/dist/mobx.esm.js\");\nvar _mobxReact = __webpack_require__(/*! mobx-react */ \"./node_modules/mobx-react/dist/mobxreact.esm.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"./node_modules/react/index.js\"));\nvar _Ellipsoid = _interopRequireDefault(__webpack_require__(/*! terriajs-cesium/Source/Core/Ellipsoid */ \"./node_modules/terriajs-cesium/Source/Core/Ellipsoid.js\"));\nvar _Math = _interopRequireDefault(__webpack_require__(/*! terriajs-cesium/Source/Core/Math */ \"./node_modules/terriajs-cesium/Source/Core/Math.js\"));\nvar _LocationMarkerUtils = __webpack_require__(/*! ../../../Models/LocationMarkerUtils */ \"./node_modules/terriajs/lib/Models/LocationMarkerUtils.ts\");\nvar _MapInteractionMode = _interopRequireWildcard(__webpack_require__(/*! ../../../Models/MapInteractionMode */ \"./node_modules/terriajs/lib/Models/MapInteractionMode.ts\"));\nvar _Loader = _interopRequireDefault(__webpack_require__(/*! ../../Loader */ \"./node_modules/terriajs/lib/ReactViews/Loader.tsx\"));\nvar _jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nvar _class, _class2, _descriptor, _descriptor2, _descriptor3;\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { \"default\": e }; }\nfunction _initializerDefineProperty(e, i, r, l) { r && Object.defineProperty(e, i, { enumerable: r.enumerable, configurable: r.configurable, writable: r.writable, value: r.initializer ? r.initializer.call(l) : void 0 }); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _applyDecoratedDescriptor(i, e, r, n, l) { var a = {}; return Object.keys(n).forEach(function (i) { a[i] = n[i]; }), a.enumerable = !!a.enumerable, a.configurable = !!a.configurable, (\"value\" in a || a.initializer) && (a.writable = !0), a = r.slice().reverse().reduce(function (r, n) { return n(i, e, r) || r; }, a), l && void 0 !== a.initializer && (a.value = a.initializer ? a.initializer.call(l) : void 0, a.initializer = void 0), void 0 === a.initializer ? (Object.defineProperty(i, e, a), null) : a; }\nfunction _initializerWarningHelper(r, e) { throw Error(\"Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.\"); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nvar LocationPicker = exports[\"default\"] = (0, _mobxReact.observer)(_class = (_class2 = /*#__PURE__*/function (_React$Component) {\n  function LocationPicker(props) {\n    var _this;\n    _classCallCheck(this, LocationPicker);\n    _this = _callSuper(this, LocationPicker, [props]);\n    _initializerDefineProperty(_this, \"pickMode\", _descriptor, _this);\n    _initializerDefineProperty(_this, \"currentPick\", _descriptor2, _this);\n    _initializerDefineProperty(_this, \"pickDisposer\", _descriptor3, _this);\n    (0, _mobx.makeObservable)(_this);\n    return _this;\n  }\n  _inherits(LocationPicker, _React$Component);\n  return _createClass(LocationPicker, [{\n    key: \"setupPicker\",\n    value: function setupPicker() {\n      var _this2 = this;\n      var _this$props = this.props,\n        terria = _this$props.terria,\n        location = _this$props.location,\n        onPicking = _this$props.onPicking,\n        onPicked = _this$props.onPicked;\n      this.pickMode = new _MapInteractionMode[\"default\"]({\n        message: \"\",\n        messageAsNode: /*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", {}),\n        uiMode: _MapInteractionMode.UIMode.Difference\n      });\n      addInteractionModeToMap(terria, this.pickMode);\n      if (location) showMarker(terria, location);\n      this.pickDisposer = (0, _mobx.reaction)(function () {\n        return _this2.pickMode.pickedFeatures;\n      }, (0, _mobx.action)(function (newPick) {\n        var _newPick$allFeaturesA;\n        if (newPick === undefined || newPick.pickPosition === undefined) {\n          return;\n        }\n        _this2.pickMode.customUi = function () {\n          return /*#__PURE__*/(0, _jsxRuntime.jsx)(_Loader[\"default\"], {\n            message: \"Querying \".concat(location ? \"new\" : \"\", \" position...\")\n          });\n        };\n        var position = cartesianToDegrees(newPick.pickPosition);\n        showMarker(_this2.props.terria, position);\n        _this2.currentPick = newPick;\n        onPicking(position);\n        (_newPick$allFeaturesA = newPick.allFeaturesAvailablePromise) === null || _newPick$allFeaturesA === void 0 ? void 0 : _newPick$allFeaturesA.then(function () {\n          if (newPick === _this2.currentPick) {\n            onPicked(newPick, position);\n          }\n        });\n      }));\n    }\n  }, {\n    key: \"destroyPicker\",\n    value: function destroyPicker() {\n      var _this$pickDisposer;\n      var terria = this.props.terria;\n      if (this.pickMode) {\n        removeInteractionModeFromMap(terria, this.pickMode);\n      }\n      (0, _LocationMarkerUtils.removeMarker)(terria);\n      this.pickMode = undefined;\n      this.currentPick = undefined;\n      (_this$pickDisposer = this.pickDisposer) === null || _this$pickDisposer === void 0 ? void 0 : _this$pickDisposer.call(this);\n      this.pickDisposer = undefined;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setupPicker();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.destroyPicker();\n      this.setupPicker();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyPicker();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n}(_react[\"default\"].Component), _descriptor = _applyDecoratedDescriptor(_class2.prototype, \"pickMode\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"currentPick\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"pickDisposer\", [_mobx.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class2.prototype, \"setupPicker\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"setupPicker\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"destroyPicker\", [_mobx.action], Object.getOwnPropertyDescriptor(_class2.prototype, \"destroyPicker\"), _class2.prototype), _class2)) || _class;\nfunction addInteractionModeToMap(terria, mode) {\n  terria.mapInteractionModeStack.push(mode);\n}\nfunction removeInteractionModeFromMap(terria, mode) {\n  var _terria$mapInteractio = terria.mapInteractionModeStack.slice(-1),\n    _terria$mapInteractio2 = _slicedToArray(_terria$mapInteractio, 1),\n    currentMode = _terria$mapInteractio2[0];\n  if (currentMode === mode) {\n    terria.mapInteractionModeStack.pop();\n  }\n}\nfunction showMarker(terria, location) {\n  (0, _LocationMarkerUtils.addMarker)(terria, {\n    name: \"User selection\",\n    location: location,\n    customMarkerIcon: __webpack_require__(/*! ../../../../wwwroot/images/difference-pin.png */ \"./node_modules/terriajs/wwwroot/images/difference-pin.png\")\n  });\n}\nfunction cartesianToDegrees(cartesian) {\n  var carto = _Ellipsoid[\"default\"].WGS84.cartesianToCartographic(cartesian);\n  return {\n    longitude: _Math[\"default\"].toDegrees(carto.longitude),\n    latitude: _Math[\"default\"].toDegrees(carto.latitude)\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdGVycmlhanMvbGliL1JlYWN0Vmlld3MvVG9vbHMvRGlmZlRvb2wvTG9jYXRpb25QaWNrZXIudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RlcnJpYWpzL2xpYi9SZWFjdFZpZXdzL1Rvb2xzL0RpZmZUb29sL0xvY2F0aW9uUGlja2VyLnRzeD9iOTllIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFjdGlvbiwgb2JzZXJ2YWJsZSwgcmVhY3Rpb24sIG1ha2VPYnNlcnZhYmxlIH0gZnJvbSBcIm1vYnhcIjtcbmltcG9ydCB7IG9ic2VydmVyIH0gZnJvbSBcIm1vYngtcmVhY3RcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBDYXJ0ZXNpYW4zIGZyb20gXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL0NvcmUvQ2FydGVzaWFuM1wiO1xuaW1wb3J0IEVsbGlwc29pZCBmcm9tIFwidGVycmlhanMtY2VzaXVtL1NvdXJjZS9Db3JlL0VsbGlwc29pZFwiO1xuaW1wb3J0IENlc2l1bU1hdGggZnJvbSBcInRlcnJpYWpzLWNlc2l1bS9Tb3VyY2UvQ29yZS9NYXRoXCI7XG5pbXBvcnQgTGF0TG9uSGVpZ2h0IGZyb20gXCIuLi8uLi8uLi9Db3JlL0xhdExvbkhlaWdodFwiO1xuaW1wb3J0IFBpY2tlZEZlYXR1cmVzIGZyb20gXCIuLi8uLi8uLi9NYXAvUGlja2VkRmVhdHVyZXMvUGlja2VkRmVhdHVyZXNcIjtcbmltcG9ydCB7IGFkZE1hcmtlciwgcmVtb3ZlTWFya2VyIH0gZnJvbSBcIi4uLy4uLy4uL01vZGVscy9Mb2NhdGlvbk1hcmtlclV0aWxzXCI7XG5pbXBvcnQgTWFwSW50ZXJhY3Rpb25Nb2RlLCB7IFVJTW9kZSB9IGZyb20gXCIuLi8uLi8uLi9Nb2RlbHMvTWFwSW50ZXJhY3Rpb25Nb2RlXCI7XG5pbXBvcnQgVGVycmlhIGZyb20gXCIuLi8uLi8uLi9Nb2RlbHMvVGVycmlhXCI7XG5pbXBvcnQgTG9hZGVyIGZyb20gXCIuLi8uLi9Mb2FkZXJcIjtcblxuaW50ZXJmYWNlIFByb3BzVHlwZSB7XG4gIHRlcnJpYTogVGVycmlhO1xuICBsb2NhdGlvbj86IExhdExvbkhlaWdodDtcbiAgb25QaWNraW5nOiAocGlja2luZ0xvY2F0aW9uOiBMYXRMb25IZWlnaHQpID0+IHZvaWQ7XG4gIG9uUGlja2VkOiAoXG4gICAgcGlja2VkRmVhdHVyZXM6IFBpY2tlZEZlYXR1cmVzLFxuICAgIHBpY2tlZExvY2F0aW9uOiBMYXRMb25IZWlnaHRcbiAgKSA9PiB2b2lkO1xufVxuXG5Ab2JzZXJ2ZXJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvY2F0aW9uUGlja2VyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BzVHlwZT4ge1xuICBAb2JzZXJ2YWJsZSBwcml2YXRlIHBpY2tNb2RlPzogTWFwSW50ZXJhY3Rpb25Nb2RlO1xuICBAb2JzZXJ2YWJsZSBwcml2YXRlIGN1cnJlbnRQaWNrPzogUGlja2VkRmVhdHVyZXM7XG4gIEBvYnNlcnZhYmxlIHByaXZhdGUgcGlja0Rpc3Bvc2VyPzogKCkgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHNUeXBlKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIG1ha2VPYnNlcnZhYmxlKHRoaXMpO1xuICB9XG5cbiAgQGFjdGlvblxuICBzZXR1cFBpY2tlcigpIHtcbiAgICBjb25zdCB7IHRlcnJpYSwgbG9jYXRpb24sIG9uUGlja2luZywgb25QaWNrZWQgfSA9IHRoaXMucHJvcHM7XG4gICAgdGhpcy5waWNrTW9kZSA9IG5ldyBNYXBJbnRlcmFjdGlvbk1vZGUoe1xuICAgICAgbWVzc2FnZTogXCJcIixcbiAgICAgIG1lc3NhZ2VBc05vZGU6IDxkaXYgLz4sXG4gICAgICB1aU1vZGU6IFVJTW9kZS5EaWZmZXJlbmNlXG4gICAgfSk7XG4gICAgYWRkSW50ZXJhY3Rpb25Nb2RlVG9NYXAodGVycmlhLCB0aGlzLnBpY2tNb2RlKTtcbiAgICBpZiAobG9jYXRpb24pIHNob3dNYXJrZXIodGVycmlhLCBsb2NhdGlvbik7XG5cbiAgICB0aGlzLnBpY2tEaXNwb3NlciA9IHJlYWN0aW9uKFxuICAgICAgKCkgPT4gdGhpcy5waWNrTW9kZSEucGlja2VkRmVhdHVyZXMsXG4gICAgICBhY3Rpb24oKG5ld1BpY2s6IFBpY2tlZEZlYXR1cmVzIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgICAgIGlmIChuZXdQaWNrID09PSB1bmRlZmluZWQgfHwgbmV3UGljay5waWNrUG9zaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGlja01vZGUhLmN1c3RvbVVpID0gKCkgPT4gKFxuICAgICAgICAgIDxMb2FkZXIgbWVzc2FnZT17YFF1ZXJ5aW5nICR7bG9jYXRpb24gPyBcIm5ld1wiIDogXCJcIn0gcG9zaXRpb24uLi5gfSAvPlxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gY2FydGVzaWFuVG9EZWdyZWVzKG5ld1BpY2sucGlja1Bvc2l0aW9uKTtcbiAgICAgICAgc2hvd01hcmtlcih0aGlzLnByb3BzLnRlcnJpYSwgcG9zaXRpb24pO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFBpY2sgPSBuZXdQaWNrO1xuICAgICAgICBvblBpY2tpbmcocG9zaXRpb24pO1xuICAgICAgICBuZXdQaWNrLmFsbEZlYXR1cmVzQXZhaWxhYmxlUHJvbWlzZT8udGhlbigoKSA9PiB7XG4gICAgICAgICAgaWYgKG5ld1BpY2sgPT09IHRoaXMuY3VycmVudFBpY2spIHtcbiAgICAgICAgICAgIG9uUGlja2VkKG5ld1BpY2ssIHBvc2l0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgQGFjdGlvblxuICBkZXN0cm95UGlja2VyKCkge1xuICAgIGNvbnN0IHsgdGVycmlhIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICh0aGlzLnBpY2tNb2RlKSB7XG4gICAgICByZW1vdmVJbnRlcmFjdGlvbk1vZGVGcm9tTWFwKHRlcnJpYSwgdGhpcy5waWNrTW9kZSk7XG4gICAgfVxuICAgIHJlbW92ZU1hcmtlcih0ZXJyaWEpO1xuICAgIHRoaXMucGlja01vZGUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5jdXJyZW50UGljayA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnBpY2tEaXNwb3Nlcj8uKCk7XG4gICAgdGhpcy5waWNrRGlzcG9zZXIgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNldHVwUGlja2VyKCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5kZXN0cm95UGlja2VyKCk7XG4gICAgdGhpcy5zZXR1cFBpY2tlcigpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5kZXN0cm95UGlja2VyKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkSW50ZXJhY3Rpb25Nb2RlVG9NYXAodGVycmlhOiBUZXJyaWEsIG1vZGU6IE1hcEludGVyYWN0aW9uTW9kZSkge1xuICB0ZXJyaWEubWFwSW50ZXJhY3Rpb25Nb2RlU3RhY2sucHVzaChtb2RlKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlSW50ZXJhY3Rpb25Nb2RlRnJvbU1hcChcbiAgdGVycmlhOiBUZXJyaWEsXG4gIG1vZGU6IE1hcEludGVyYWN0aW9uTW9kZVxuKSB7XG4gIGNvbnN0IFtjdXJyZW50TW9kZV0gPSB0ZXJyaWEubWFwSW50ZXJhY3Rpb25Nb2RlU3RhY2suc2xpY2UoLTEpO1xuICBpZiAoY3VycmVudE1vZGUgPT09IG1vZGUpIHtcbiAgICB0ZXJyaWEubWFwSW50ZXJhY3Rpb25Nb2RlU3RhY2sucG9wKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2hvd01hcmtlcih0ZXJyaWE6IFRlcnJpYSwgbG9jYXRpb246IExhdExvbkhlaWdodCkge1xuICBhZGRNYXJrZXIodGVycmlhLCB7XG4gICAgbmFtZTogXCJVc2VyIHNlbGVjdGlvblwiLFxuICAgIGxvY2F0aW9uLFxuICAgIGN1c3RvbU1hcmtlckljb246IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi93d3dyb290L2ltYWdlcy9kaWZmZXJlbmNlLXBpbi5wbmdcIilcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNhcnRlc2lhblRvRGVncmVlcyhjYXJ0ZXNpYW46IENhcnRlc2lhbjMpIHtcbiAgY29uc3QgY2FydG8gPSBFbGxpcHNvaWQuV0dTODQuY2FydGVzaWFuVG9DYXJ0b2dyYXBoaWMoY2FydGVzaWFuKTtcbiAgcmV0dXJuIHtcbiAgICBsb25naXR1ZGU6IENlc2l1bU1hdGgudG9EZWdyZWVzKGNhcnRvLmxvbmdpdHVkZSksXG4gICAgbGF0aXR1ZGU6IENlc2l1bU1hdGgudG9EZWdyZWVzKGNhcnRvLmxhdGl0dWRlKVxuICB9O1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBa0JBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQXpFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUEwRUE7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/terriajs/lib/ReactViews/Tools/DiffTool/LocationPicker.tsx\n");

/***/ }),

/***/ "./node_modules/terriajs/wwwroot/images/difference-pin.png":
/*!*****************************************************************!*\
  !*** ./node_modules/terriajs/wwwroot/images/difference-pin.png ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAA2CAYAAAAyEzKAAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGaADAAQAAAABAAAANgAAAAAbYi+LAAADOUlEQVRYCe1YPWgUQRT+3pEoqEWilSRBjSGNWKhga7DwBwTRKgqChXVM0igKGhRMFCXRQhsbFWOlIAhBm5ythRaCmCBGBAmIwRSx0EjW783tbnb3Zvbn7gqLe7A3M9977/tm3s7OLidIMW8QuyE4ihW2wA5em3it5/WL+A94+IAS3rJ9LhNsHSZJ3POYPoSTxC8xuTfpd44Fs/RdwTgmRZgZsZiIN4QOup/x2huJKdYVvOE0j8s4vgWJoQgFdpJ8ildH4Ky5FQoIDlPovXIYEW8EG7CIdxToqZk4mSj4hDbskhEslYxvETcbKqCkOmHlpQnLtJHAPK81CjTUBH9Yq80tJO3PJSD4wthH3LKz3NK6604xbytbt+nEBf0tDDzkjgo9L1jfE1rfAOF9vIGfeMLxkQCztuTXe9Jlda6CC1iH01EBdZkxcXYXdJxiXSrSmRKgrrKM2ol8vJyR36kieky4TfDd7aQny0/+Eu/Jx1QSYE9dfvLrSqZSSXjEcJsfs8UYPPsImtLnpIdbUg+38IipIhSeusA5dOO+DOC3dwdr8RlniF1nJdLK7XHL91aOlUFMM7ivirwaWCb0ldPZwnh9xrJsWm5jv5ZLj4C7WdG+v5Xt9pwCmnJPfyoi7XjK2c0o0DBTPuWlGRE+WCuc3bWGCSgR+QxvIGLI2zHJds706/+Z4yqUz1ilXOxS9S9LdtnH62vIY/h8llDEjNvwmELmbVaziuYrT8RiIqaGJZyP+It3mW94IpnWB5CfQmXeuH2RuHxdwWt+GvUlg2MriTiHWbaVyDi7W4kftgVaRfwPtYe2BCfm4YHrA88q4hNdYBu+CZ3kFccSV37RFeMU4azmmTjmSozhJYya+Bi4OnCKmJBuftIIz9s0U/823EoLSRXRY50i1psZktJv4kKgumPdwskwbumX3NIHkjgn8IplOliFJ4DUlYSxHgbY13dJ1JYprHim5RLhi2eG5/VEjI1jg8dA+yCXiEltxdUYRXIcc8YHue5JkOKdZYF84ypy5+ZfScBeQ9sUKVS0Zrma5SpUgULBzd3VLFehChQK/g93l/7roxa0OddTbCWe+f9qiS9h8z9WTg38A1O1vXOERmoNAAAAAElFTkSuQmCC\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdGVycmlhanMvd3d3cm9vdC9pbWFnZXMvZGlmZmVyZW5jZS1waW4ucG5nLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RlcnJpYWpzL3d3d3Jvb3QvaW1hZ2VzL2RpZmZlcmVuY2UtcGluLnBuZz82YjNmIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJrQUFBQTJDQVlBQUFBeUV6S0FBQUFBQVhOU1IwSUFyczRjNlFBQUFFUmxXRWxtVFUwQUtnQUFBQWdBQVlkcEFBUUFBQUFCQUFBQUdnQUFBQUFBQTZBQkFBTUFBQUFCQUFFQUFLQUNBQVFBQUFBQkFBQUFHYUFEQUFRQUFBQUJBQUFBTmdBQUFBQWJZaStMQUFBRE9VbEVRVlJZQ2UxWVBXZ1VRUlQrM3BFb3FFV2lsU1JCalNHTldLaGdhN0R3QndUUktncUNoWFZNMGlnS0doUk1GQ1hSUWhzYkZXT2xJQWhCbTV5dGhSYUNtQ0JHQkFtSXdSU3gwRWpXNzgzdGJuYjNadmJuN2dxTGU3QTNNOTk3Ny90bTNzN09MaWRJTVc4UXV5RTRpaFcyd0E1ZW0zaXQ1L1dMK0E5NCtJQVMzcko5TGhOc0hTWkozUE9ZUG9TVHhDOHh1VGZwZDQ0RnMvUmR3VGdtUlpnWnNaaUlONFFPdXAveDJodUpLZFlWdk9FMGo4czR2Z1dKb1FnRmRwSjhpbGRINEt5NUZRb0lEbFBvdlhJWUVXOEVHN0NJZHhUb3FaazRtU2o0aERic2toRXNsWXh2RVRjYktxQ2tPbUhscFFuTHRKSEFQSzgxQ2pUVUJIOVlxODB0Sk8zUEpTRDR3dGhIM0xLejNOSzY2MDR4Ynl0YnQrbkVCZjB0RER6a2pnbzlMMWpmRTFyZkFPRjl2SUdmZU1MeGtRQ3p0dVRYZTlKbGRhNkNDMWlIMDFFQmRaa3hjWFlYZEp4aVhTclNtUktncnJLTTJvbDh2SnlSMzZraWVreTRUZkRkN2FRbnkwLytFdS9KeDFRU1lFOWRmdkxyU3FaU1NYakVjSnNmczhVWVBQc0ltdExucElkYlVnKzM4SWlwSWhTZXVzQTVkT08rRE9DM2R3ZHI4UmxuaUYxbkpkTEs3WEhMOTFhT2xVRk1NN2l2aXJ3YVdDYjBsZFBad25oOXhySnNXbTVqdjVaTGo0QzdXZEcrdjVYdDlwd0NtbkpQZnlvaTdYaksyYzBvMERCVFB1V2xHUkUrV0N1YzNiV0dDU2dSK1F4dklHTEkyekhKZHM3MDYvK1o0eXFVejFpbFhPeFM5UzlMZHRuSDYydklZL2g4bGxERWpOdndtRUxtYlZheml1WXJUOFJpSXFhR0paeVArSXQzbVc5NElwbldCNUNmUW1YZXVIMlJ1SHhkd1d0K0d2VWxnMk1yaVRpSFdiYVZ5RGk3VzRrZnRnVmFSZndQdFllMkJDZm00WUhyQTg4cTRoTmRZQnUrQ1oza0ZjY1NWMzdSRmVNVTRhem1tVGptU296aEpZeWErQmk0T25DS21KQnVmdElJejlzMFUvODIzRW9MU1JYUlk1MGkxcHNaa3RKdjRrS2d1bVBkd3Nrd2J1bVgzTklIa2pnbjhJcGxPbGlGSjREVWxZU3hIZ2JZMTNkSjFKWXBySGltNVJMaGkyZUc1L1ZFakkxamc4ZEEreUNYaUVsdHhkVVlSWEljYzhZSHVlNUprT0tkWllGODR5cHk1K1pmU2NCZVE5c1VLVlMwWnJtYTVTcFVnVUxCemQzVkxGZWhDaFFLL2c5M2wvN3JveGEwT2RkVGJDV2UrZjlxaVM5aDh6OVdUZzM4QTFPMXZYT0VSbW9OQUFBQUFFbEZUa1N1UW1DQ1wiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/terriajs/wwwroot/images/difference-pin.png\n");

/***/ })

}]);