"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
((self || window)["webpackChunkterriajs_map"] = (self || window)["webpackChunkterriajs_map"] || []).push([["vendors-node_modules_terriajs_plugin-scene-editor_dist_SceneEditor-6b185560_js"],{

/***/ "./node_modules/@terriajs/plugin-scene-editor/dist/SceneEditor-6b185560.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@terriajs/plugin-scene-editor/dist/SceneEditor-6b185560.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ oo)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! mobx-react */ \"./node_modules/mobx-react/dist/mobxreact.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! styled-components */ \"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* harmony import */ var terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! terriajs-plugin-api */ \"./node_modules/terriajs-plugin-api/dist/index.js\");\n/* harmony import */ var terriajs_cesium_Source_Core_ScreenSpaceEventHandler__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! terriajs-cesium/Source/Core/ScreenSpaceEventHandler */ \"./node_modules/terriajs-cesium/Source/Core/ScreenSpaceEventHandler.js\");\n/* harmony import */ var _index_9f86d295_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index-9f86d295.js */ \"./node_modules/@terriajs/plugin-scene-editor/dist/index-9f86d295.js\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! mobx */ \"./node_modules/mobx/dist/mobx.esm.js\");\n/* harmony import */ var terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! terriajs-cesium/Source/Core/Cartesian3 */ \"./node_modules/terriajs-cesium/Source/Core/Cartesian3.js\");\n/* harmony import */ var terriajs_cesium_Source_Core_Cartographic__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! terriajs-cesium/Source/Core/Cartographic */ \"./node_modules/terriajs-cesium/Source/Core/Cartographic.js\");\n/* harmony import */ var terriajs_cesium_Source_Core_createGuid__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! terriajs-cesium/Source/Core/createGuid */ \"./node_modules/terriajs-cesium/Source/Core/createGuid.js\");\n/* harmony import */ var terriajs_cesium_Source_Core_sampleTerrainMostDetailed__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! terriajs-cesium/Source/Core/sampleTerrainMostDetailed */ \"./node_modules/terriajs-cesium/Source/Core/sampleTerrainMostDetailed.js\");\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash-es/debounce */ \"./node_modules/lodash-es/debounce.js\");\n/* harmony import */ var terriajs_cesium_Source_Core_Ellipsoid__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! terriajs-cesium/Source/Core/Ellipsoid */ \"./node_modules/terriajs-cesium/Source/Core/Ellipsoid.js\");\n/* harmony import */ var terriajs_cesium_Source_Core_HeadingPitchRoll__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! terriajs-cesium/Source/Core/HeadingPitchRoll */ \"./node_modules/terriajs-cesium/Source/Core/HeadingPitchRoll.js\");\n/* harmony import */ var terriajs_cesium_Source_Core_Math__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! terriajs-cesium/Source/Core/Math */ \"./node_modules/terriajs-cesium/Source/Core/Math.js\");\n/* harmony import */ var terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! terriajs-cesium/Source/Core/Matrix4 */ \"./node_modules/terriajs-cesium/Source/Core/Matrix4.js\");\n/* harmony import */ var terriajs_cesium_Source_Core_Quaternion__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! terriajs-cesium/Source/Core/Quaternion */ \"./node_modules/terriajs-cesium/Source/Core/Quaternion.js\");\n/* harmony import */ var terriajs_cesium_Source_Core_Transforms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! terriajs-cesium/Source/Core/Transforms */ \"./node_modules/terriajs-cesium/Source/Core/Transforms.js\");\n/* harmony import */ var terriajs_cesium_Source_DataSources_ConstantPositionProperty__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! terriajs-cesium/Source/DataSources/ConstantPositionProperty */ \"./node_modules/terriajs-cesium/Source/DataSources/ConstantPositionProperty.js\");\n/* harmony import */ var terriajs_cesium_Source_DataSources_ConstantProperty__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! terriajs-cesium/Source/DataSources/ConstantProperty */ \"./node_modules/terriajs-cesium/Source/DataSources/ConstantProperty.js\");\n/* harmony import */ var terriajs_cesium_Source_Scene_Model_Model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! terriajs-cesium/Source/Scene/Model/Model */ \"./node_modules/terriajs-cesium/Source/Scene/Model/Model.js\");\n/* harmony import */ var terriajs_cesium_Source_Core_Resource__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! terriajs-cesium/Source/Core/Resource */ \"./node_modules/terriajs-cesium/Source/Core/Resource.js\");\n/* harmony import */ var terriajs_cesium_Source_Core_TaskProcessor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! terriajs-cesium/Source/Core/TaskProcessor */ \"./node_modules/terriajs-cesium/Source/Core/TaskProcessor.js\");\n/* harmony import */ var terriajs_cesium_Source_Scene_Axis__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! terriajs-cesium/Source/Scene/Axis */ \"./node_modules/terriajs-cesium/Source/Scene/Axis.js\");\n/* harmony import */ var lodash_es_isEqual__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! lodash-es/isEqual */ \"./node_modules/lodash-es/isEqual.js\");\n/* harmony import */ var terriajs_cesium_Source_Core_ScreenSpaceEventType__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! terriajs-cesium/Source/Core/ScreenSpaceEventType */ \"./node_modules/terriajs-cesium/Source/Core/ScreenSpaceEventType.js\");\n/* harmony import */ var terriajs_cesium_Source_DataSources_Entity__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! terriajs-cesium/Source/DataSources/Entity */ \"./node_modules/terriajs-cesium/Source/DataSources/Entity.js\");\n/* harmony import */ var terriajs_cesium_Source_Scene_Cesium3DTileFeature__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! terriajs-cesium/Source/Scene/Cesium3DTileFeature */ \"./node_modules/terriajs-cesium/Source/Scene/Cesium3DTileFeature.js\");\nvar be=__webpack_require__(/*! @terriajs/plugin-scene-editor/assets/icons/add-model.svg */ \"./node_modules/@terriajs/plugin-scene-editor/assets/icons/add-model.svg\"),Me=__webpack_require__(/*! @terriajs/plugin-scene-editor/assets/icons/redo.svg */ \"./node_modules/@terriajs/plugin-scene-editor/assets/icons/redo.svg\"),Te=__webpack_require__(/*! @terriajs/plugin-scene-editor/assets/icons/reset.svg */ \"./node_modules/@terriajs/plugin-scene-editor/assets/icons/reset.svg\"),Ie=__webpack_require__(/*! @terriajs/plugin-scene-editor/assets/icons/undo.svg */ \"./node_modules/@terriajs/plugin-scene-editor/assets/icons/undo.svg\");const Pe=({onAddModel:t,onCancel:o,terria:i})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_index_9f86d295_js__WEBPACK_IMPORTED_MODULE_3__.F,{onClose:o,onFiles:e=>{const n=e.find((e=>terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.GltfMixin.isMixedInto(e)&&e.uniqueId));n?t((function(){return i.modelIds.includes(n.uniqueId)||i.addModel(n),n.setTrait(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CommonStrata.user,\"zoomOnAddToWorkbench\",!1),i.workbench.add(n),n}),(function(){i.removeModelReferences(n)})):o()}});var ke=__webpack_require__(/*! @terriajs/plugin-scene-editor/assets/icons/duplicate.svg */ \"./node_modules/@terriajs/plugin-scene-editor/assets/icons/duplicate.svg\");function Ae(e){if(void 0===e)return;const t=parseFloat(e);return isNaN(t)?void 0:t}function De(e,t){const o=Math.pow(10,t);return Math.floor(e*o)/o}function Ee(e,t){return isNaN(e)||null===e?\"\":De(e,t).toString()}const Re=e=>Ee(e,2),_e=e=>Ee(e,3),je=e=>Ee(e,7);var Ge=void 0;function Be(e,t,o){const i=e.scenes[e.scene],n=(t,o)=>{t.forEach((t=>{const i=e.nodes[t];Array.isArray(i.children)&&n(i.children,o),o(t)}))},r=[];return n(i.nodes,(i=>{const n=e.nodes[i],s=\"number\"==typeof n.mesh?e.meshes[n.mesh]:void 0,a=t._loader?._gltfJsonLoader;void 0!==s&&void 0!==a&&s.primitives.forEach(((s,d)=>{const l=new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"];r.push(async function(e,t,o){const i=\"number\"==typeof e.attributes.POSITION?t.accessors[e.attributes?.POSITION]:void 0;if(void 0===i)return;const n=3,r=i.count*n,s=e.extensions?.KHR_draco_mesh_compression;if(s){const e=await async function(e,t,o){return async function(){if(Ge)return Ge;const e=Math.max((navigator.hardwareConcurrency??3)-1,1),t=new terriajs_cesium_Source_Core_TaskProcessor__WEBPACK_IMPORTED_MODULE_5__[\"default\"](\"decodeDraco\",e);return Ge=t.initWebAssemblyModule({modulePath:\"ThirdParty/Workers/draco_decoder_nodejs.js\",wasmBinaryFile:\"ThirdParty/draco_decoder.wasm\"}).then((()=>t))}().then((async i=>{const n=t.bufferViews[e.bufferView],r=o._resourceCache,s={gltf:o.gltf,bufferViewId:e.bufferView,gltfResource:o._gltfResource,baseResource:o._baseResource},a=r.getBufferViewLoader(s);await a.load();const d=a.typedArray?.slice();if(!d)return;const l={array:d,bufferView:n,compressedAttributes:{POSITION:e.attributes.POSITION},dequantizeInShader:!1};return i.scheduleTask(l,[l.array.buffer])?.then((e=>{if(!e)return;const t=e.attributeData.POSITION.array;return{typedArray:t,stride:e.attributeData.POSITION.data.byteStride/t.BYTES_PER_ELEMENT}}))}))}(s,t,o);if(!e)return;return{...e,count:r}}if(void 0!==i.bufferView){const e=t.bufferViews[i.bufferView];let s=o?._bufferLoaders?.[e.buffer]?.typedArray;if(!s){const t=o?.gltf?.buffers?.[e.buffer],i=t?.uri;if(t&&i){let e=t._tjs_arrayLoaderPromise;e||(e=t._tjs_arrayLoaderPromise=new Promise(((e,t)=>{new terriajs_cesium_Source_Core_Resource__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({url:i}).fetchArrayBuffer().then((t=>{e(new Uint8Array(t))})).catch(t)}))),s=await e}}if(!s)return;const a=s.buffer,d=s.byteOffset+(i.byteOffset??0)+e.byteOffset,l=function(e,t,o,i){if(5126===t)return new Float32Array(e,o,i);throw new Error(`Unhandled componentType: ${t}`)}(a,i.componentType,d,r);return{typedArray:l,stride:(e.byteStride??l.BYTES_PER_ELEMENT*n)/l.BYTES_PER_ELEMENT,count:r}}}(s,e,a).then((e=>{if(!e)return;const r=t.sceneGraph._runtimeNodes[i].computedTransform;for(let t=0;t<e.count;t+=e.stride){const s=terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"].fromElements(e.typedArray[t],e.typedArray[t+1],e.typedArray[t+2],l);o(s,{nodeId:i,meshId:n.mesh,primitiveId:d,toSceneTransform:r})}})))}))})),Promise.all(r).catch((e=>console.error(e)))}function Le(e,t,o){return new Promise((i=>{const n=Date.now()+o.timeout,r=()=>{const s=(()=>{const o=t.scene.primitives;for(let t=0;t<o.length;t++){const i=o.get(t);if(i instanceof terriajs_cesium_Source_Scene_Model_Model__WEBPACK_IMPORTED_MODULE_7__[\"default\"]&&i.id===e)return i}})();return s?i(s):Date.now()>n?i(void 0):void window.setTimeout(r,o.interval)};r()}))}const Ne=new WeakMap,Oe=new terriajs_cesium_Source_Core_Cartographic__WEBPACK_IMPORTED_MODULE_8__[\"default\"],Fe=terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].IDENTITY.clone(),qe=new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"],He=new terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"],Ue=new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"],Ve=new terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"],ze=new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"],$e=new terriajs_cesium_Source_Core_HeadingPitchRoll__WEBPACK_IMPORTED_MODULE_10__[\"default\"],Je=new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"],We=new terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"],Ye=new terriajs_cesium_Source_Core_Quaternion__WEBPACK_IMPORTED_MODULE_11__[\"default\"];class Ze extends((0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.MappableMixin)((0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CreateModel)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.MappableTraits))){gltfItem;cesium;onTransformationChange;ready=!1;boxDrawing;modelBoundingBox={minPoint:new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"],maxPoint:new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"]};previousSavedTransformationJson;destroyModelUpdatesSubscription;destroyBoxDrawingUpdateReaction;destroyReadyChange;_isModelClampedToGround=!1;debouncedUpdateModelFromJson;updateModelEntity=Xe();constructor(e,t,o,i){super(void 0,o),this.gltfItem=e,this.cesium=t,this.onTransformationChange=i,(0,mobx__WEBPACK_IMPORTED_MODULE_12__.makeObservable)(this),this.boxDrawing=terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.BoxDrawing.fromTransform(t,terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].IDENTITY,{drawNonUniformScaleGrips:!1}),this.debouncedUpdateModelFromJson=(0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])((e=>{(0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.updateModelFromJson)(this.gltfItem,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CommonStrata.user,e)}),250,{maxWait:250}),(0,mobx__WEBPACK_IMPORTED_MODULE_12__.onBecomeObserved)(this,\"mapItems\",(()=>this.setup())),(0,mobx__WEBPACK_IMPORTED_MODULE_12__.onBecomeUnobserved)(this,\"mapItems\",(()=>this.destroy()))}setup(){this.destroyBoxDrawingUpdateReaction=(0,mobx__WEBPACK_IMPORTED_MODULE_12__.reaction)((()=>[this.ready,this.modelMatrix,this.modelToBoxDrawingTransform]),(()=>this.updateBoxDrawingOnTraitsChange())),this.destroyReadyChange=(0,mobx__WEBPACK_IMPORTED_MODULE_12__.when)((()=>this.ready),(()=>{this.boxDrawing.onChange=e=>this.updateTraitsOnBoxDrawingChange(e),this.subscribeModelUpdates((e=>this.updateOnClampedPositionChange(e)))}))}destroy(){this.destroyBoxDrawingUpdateReaction?.(),this.destroyModelUpdatesSubscription?.(),this.destroyReadyChange?.(),this.destroyBoxDrawingUpdateReaction=void 0,this.destroyModelUpdatesSubscription=void 0,this.destroyReadyChange=void 0,this.boxDrawing.onChange=void 0}get isModelClampedToGround(){return this._isModelClampedToGround}set isModelClampedToGround(e){this._isModelClampedToGround=!0,this.boxDrawing.disableVerticalMovement=e,this.boxDrawing.keepHeightSteadyWhenMovingLaterally=!e}async forceLoadMapItems(){const e=await this.computeModelBoundingBox();e&&(0,mobx__WEBPACK_IMPORTED_MODULE_12__.runInAction)((()=>{this.modelBoundingBox=e,this.ready=!0}))}get mapItems(){if(!this.ready)return[];const e=this.boxDrawing.dataSource;return e.show=this.show,[e]}subscribeModelUpdates(e){const t=o=>{const i=o.update;this.destroyModelUpdatesSubscription=()=>{o.update=i},o.update=(...n)=>{if(o!==this.getCesiumModel()){const e=this.getCesiumModel();e&&(this.destroyModelUpdatesSubscription?.(),t(e))}i.apply(o,n),e(o)}},o=this.getCesiumModel();o&&t(o)}getCesiumModel(){const e=this.cesium.scene.primitives,t=this.gltfItem.modelEntity;for(let o=0;o<e.length;o++){const i=e.get(o);if(i instanceof terriajs_cesium_Source_Scene_Model_Model__WEBPACK_IMPORTED_MODULE_7__[\"default\"]&&i.id===t)return i}}updateBoxDrawingOnTraitsChange(){if(!this.ready)return;const e=this.computeBoxDrawingTransform(this.modelMatrix,Fe);this.boxDrawing.setTransform(e)}updateTraitsOnBoxDrawingChange(e){let{modelMatrix:t,isFinished:o}=e;const i=terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].multiply(t,(0,mobx__WEBPACK_IMPORTED_MODULE_12__.runInAction)((()=>this.inverseModelToBoxDrawingTransform)),Ve),n=terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].getTranslation(i,ze),r=terriajs_cesium_Source_Core_Transforms__WEBPACK_IMPORTED_MODULE_14__[\"default\"].fixedFrameToHeadingPitchRoll(i,terriajs_cesium_Source_Core_Ellipsoid__WEBPACK_IMPORTED_MODULE_15__[\"default\"].WGS84,terriajs_cesium_Source_Core_Transforms__WEBPACK_IMPORTED_MODULE_14__[\"default\"].eastNorthUpToFixedFrame,$e),s=terriajs_cesium_Source_Core_Quaternion__WEBPACK_IMPORTED_MODULE_11__[\"default\"].fromRotationMatrix(terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].getRotation(i,We),Ye),a=terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"].maximumComponent(terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].getScale(i,Je)),d=function(e,t,o){const i=terriajs_cesium_Source_Core_Cartographic__WEBPACK_IMPORTED_MODULE_8__[\"default\"].fromCartesian(e,void 0,Oe),n=De(terriajs_cesium_Source_Core_Math__WEBPACK_IMPORTED_MODULE_16__[\"default\"].toDegrees(i.latitude),12),r=De(terriajs_cesium_Source_Core_Math__WEBPACK_IMPORTED_MODULE_16__[\"default\"].toDegrees(i.longitude),12),s=De(i.height,12),a=De(terriajs_cesium_Source_Core_Math__WEBPACK_IMPORTED_MODULE_16__[\"default\"].toDegrees(t.heading),12),d=De(terriajs_cesium_Source_Core_Math__WEBPACK_IMPORTED_MODULE_16__[\"default\"].toDegrees(t.pitch),12),l=De(terriajs_cesium_Source_Core_Math__WEBPACK_IMPORTED_MODULE_16__[\"default\"].toDegrees(t.roll),12);return{origin:{latitude:n,longitude:r,height:s},rotation:{heading:a,pitch:d,roll:l},scale:De(o,12)}}(n,r,a);this.previousSavedTransformationJson||(this.previousSavedTransformationJson=this.gltfItem.transformationJson),this.updateModelEntity(this.gltfItem.modelEntity,n,s,a),this.debouncedUpdateModelFromJson(d),o&&(this.onTransformationChange(d,this.previousSavedTransformationJson),this.previousSavedTransformationJson=void 0)}updateOnClampedPositionChange(e){const t=e._clampedModelMatrix;if(!t)return;const o=terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].getTranslation(t,qe);if(terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"].equalsEpsilon(this.gltfItem.cesiumPosition,o,terriajs_cesium_Source_Core_Math__WEBPACK_IMPORTED_MODULE_16__[\"default\"].EPSILON9))return;const i=terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].multiplyByUniformScale(t,e.scale,He),n=this.computeBoxDrawingTransform(i,Fe);this.boxDrawing.setTransform(n),this.updateTraitsOnBoxDrawingChange({modelMatrix:n,isFinished:!1})}get modelMatrix(){const e=this.gltfItem.scale??1,t=Ue;return t.x=e,t.y=e,t.z=e,terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].fromTranslationQuaternionRotationScale(this.gltfItem.cesiumPosition,this.gltfItem.cesiumRotation,t,He)}get modelToBoxDrawingTransform(){const e=this.computeBoundingBoxTransform(this.modelBoundingBox,new terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"]);return terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].multiply(this.axisCorrectionMatrix,terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].multiply(e,this.inverseAxisCorrectionMatrix,new terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"]),new terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"])}get inverseModelToBoxDrawingTransform(){return terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].inverse(this.modelToBoxDrawingTransform,new terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"])}get axisCorrectionMatrix(){return e=this.gltfItem.cesiumUpAxis,t=this.gltfItem.cesiumForwardAxis,o=new terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"],o=terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].clone(terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].IDENTITY,o),e===terriajs_cesium_Source_Scene_Axis__WEBPACK_IMPORTED_MODULE_17__[\"default\"].Y?o=terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].clone(terriajs_cesium_Source_Scene_Axis__WEBPACK_IMPORTED_MODULE_17__[\"default\"].Y_UP_TO_Z_UP,o):e===terriajs_cesium_Source_Scene_Axis__WEBPACK_IMPORTED_MODULE_17__[\"default\"].X&&(o=terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].clone(terriajs_cesium_Source_Scene_Axis__WEBPACK_IMPORTED_MODULE_17__[\"default\"].X_UP_TO_Z_UP,o)),t===terriajs_cesium_Source_Scene_Axis__WEBPACK_IMPORTED_MODULE_17__[\"default\"].Z&&(o=terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].multiplyTransformation(o,terriajs_cesium_Source_Scene_Axis__WEBPACK_IMPORTED_MODULE_17__[\"default\"].Z_UP_TO_X_UP,o)),o;var e,t,o}get inverseAxisCorrectionMatrix(){return terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].inverse(this.axisCorrectionMatrix,new terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"])}computeBoxDrawingTransform(e,t){return terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].multiply(e,this.modelToBoxDrawingTransform,t)}async computeModelBoundingBox(){this.cesium.notifyRepaintRequired();const e=await Le(this.gltfItem.modelEntity,this.cesium,{interval:10,timeout:1e3});if(!e)return void console.error(\"Failed to find the Cesium model for the glTF catalog item.\");const t=Ne.get(e)??await async function(e){const t=function(e){const t=e.loader?.gltfJson;return void 0!==t?.asset?t:void 0}(e);if(!t)return;const o=terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"].fromElements(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),i=terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"].fromElements(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE,new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);let n=!1;return await Be(t,e,((e,t)=>{n=!0,terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].multiplyByPoint(t.toSceneTransform,e,e),terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"].minimumByComponent(e,o,o),terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"].maximumByComponent(e,i,i)})),n?{minPoint:o,maxPoint:i}:void 0}(e);return t&&Ne.set(e,t),t}computeBoundingBoxTransform(e,t){const o=terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"].subtract(e.maxPoint,e.minPoint,new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),i=terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"].add(e.minPoint,terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"].multiplyByScalar(o,.5,new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);return terriajs_cesium_Source_Core_Matrix4__WEBPACK_IMPORTED_MODULE_9__[\"default\"].fromTranslationQuaternionRotationScale(i,terriajs_cesium_Source_Core_Quaternion__WEBPACK_IMPORTED_MODULE_11__[\"default\"].IDENTITY,o,t)}}(0,tslib__WEBPACK_IMPORTED_MODULE_18__.__decorate)([mobx__WEBPACK_IMPORTED_MODULE_12__.observable],Ze.prototype,\"ready\",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_18__.__decorate)([mobx__WEBPACK_IMPORTED_MODULE_12__.observable],Ze.prototype,\"modelBoundingBox\",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_18__.__decorate)([mobx__WEBPACK_IMPORTED_MODULE_12__.computed],Ze.prototype,\"mapItems\",null),(0,tslib__WEBPACK_IMPORTED_MODULE_18__.__decorate)([mobx__WEBPACK_IMPORTED_MODULE_12__.computed],Ze.prototype,\"modelToBoxDrawingTransform\",null),(0,tslib__WEBPACK_IMPORTED_MODULE_18__.__decorate)([mobx__WEBPACK_IMPORTED_MODULE_12__.computed],Ze.prototype,\"inverseModelToBoxDrawingTransform\",null),(0,tslib__WEBPACK_IMPORTED_MODULE_18__.__decorate)([mobx__WEBPACK_IMPORTED_MODULE_12__.computed],Ze.prototype,\"axisCorrectionMatrix\",null),(0,tslib__WEBPACK_IMPORTED_MODULE_18__.__decorate)([mobx__WEBPACK_IMPORTED_MODULE_12__.computed],Ze.prototype,\"inverseAxisCorrectionMatrix\",null);const Xe=()=>{const e=new terriajs_cesium_Source_DataSources_ConstantPositionProperty__WEBPACK_IMPORTED_MODULE_19__[\"default\"],t=new terriajs_cesium_Source_DataSources_ConstantProperty__WEBPACK_IMPORTED_MODULE_20__[\"default\"],o=new terriajs_cesium_Source_DataSources_ConstantProperty__WEBPACK_IMPORTED_MODULE_20__[\"default\"],i=new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"],n=new terriajs_cesium_Source_Core_Quaternion__WEBPACK_IMPORTED_MODULE_11__[\"default\"];return function(r,s,a,d){e.setValue(terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"].clone(s,i)),t.setValue(terriajs_cesium_Source_Core_Quaternion__WEBPACK_IMPORTED_MODULE_11__[\"default\"].clone(a,n)),r.position=e,r.orientation=t,r.model&&(o.setValue(d),r.model.scale=o)}},Ke=({model:t,onChange:o,terria:i})=>{const[n,s]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),a=e=>{const t=(0,terriajs_cesium_Source_Core_createGuid__WEBPACK_IMPORTED_MODULE_21__[\"default\"])();let n;s(!0),o((async()=>{const o=await async function(e,t,o){const i=await tt(e,t,o);if(!i)return;return i.setTrait(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CommonStrata.user,\"name\",function(e,t){const o=[],i=e.name?.replace(/ \\(copy [0-9]+\\)$/,\"\");i&&t.items.forEach((e=>{terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CatalogMemberMixin.isMixedInto(e)&&e.name&&e.name.startsWith(i)&&o.push(e.name)}));const n=o.length;return`${i} (copy ${n})`}(e,o.workbench)),await o.workbench.add(i),i}(e,t,i);if(o)return n||(n=await async function(e,t,o){const i=t.cesium;if(!i)return;const n=e.cesiumPosition,r=i.scene.camera,s=t.overlays.items.find((e=>e instanceof Ze)),a=(s&&s.boxDrawing?.trs.scale)??new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"](e.scale,e.scale,e.scale),d=terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"].add(terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"].multiplyComponents(r.right,a,Qe),n,Qe),l=terriajs_cesium_Source_Core_Cartographic__WEBPACK_IMPORTED_MODULE_8__[\"default\"].fromCartesian(d,void 0,et);return await (0,terriajs_cesium_Source_Core_sampleTerrainMostDetailed__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(i.scene.terrainProvider,[l]).catch(console.error),terriajs_cesium_Source_Core_Cartographic__WEBPACK_IMPORTED_MODULE_8__[\"default\"].toCartesian(l,void 0,o),o}(e,i,new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"])??terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.LatLonHeightTraits.toCartesian(e.origin,new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"])),n&&terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.LatLonHeightTraits.setFromCartesian(o.origin,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CommonStrata.user,n),o}),(()=>function(e,t){const o=t.getModelById(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.BaseModel,e);o&&t.removeModelReferences(o)}(t,i))).finally((()=>s(!1)))};return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.ActionButton,{title:\"Duplicate selected model\",onClick:()=>t&&a(t),disabled:void 0===t||n,showProcessingIcon:n,icon:ke})};const Qe=new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"],et=new terriajs_cesium_Source_Core_Cartographic__WEBPACK_IMPORTED_MODULE_8__[\"default\"];const tt=(0,mobx__WEBPACK_IMPORTED_MODULE_12__.action)((async(e,t,o)=>{const i=new terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.SplitItemReference(t,o),n=terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.ReferenceMixin.isMixedInto(e)?e.nestedTarget:e;if(!n)return;const r=n.uniqueId;return i.setTrait(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CommonStrata.user,\"splitSourceItemId\",r),o.addModel(i),await i.loadReference(),(0,mobx__WEBPACK_IMPORTED_MODULE_12__.runInAction)((async()=>{if(void 0===i.target)return;const t=i.target;return terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.HasLocalData.is(e)&&terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.HasLocalData.is(t)&&(t.hasLocalData=e.hasLocalData),t}))}));const ot=(0,styled_components__WEBPACK_IMPORTED_MODULE_23__[\"default\"])((0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Box)).attrs({fullWidth:!0,column:!0,styledMargin:\"15px 0\"})``,it=(0,styled_components__WEBPACK_IMPORTED_MODULE_23__[\"default\"])((0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Text)).attrs({position:\"relative\",bold:!0,textLight:!0,as:\"label\"})`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n`,nt=({details:t})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ut,{\"data-tooltip\":t,\"aria-label\":t,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.StyledIcon,{fillColor:\"#ccc\",styledWidth:\"16px\",styledHeight:\"16px\",glyph:terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Icon.GLYPHS.info})}),rt=(0,styled_components__WEBPACK_IMPORTED_MODULE_23__[\"default\"])((0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Select))`\n  border-radius: 6px;\n  margin-top: 7px;\n`,st=(0,styled_components__WEBPACK_IMPORTED_MODULE_23__[\"default\"])((0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Input))`\n  margin-top: 7px;\n  border-radius: 6px;\n  ${e=>e.error&&\"border: 2px solid red;\"}\n  ${e=>e.disabled&&\"{cursor: not-allowed;}\"}\n`,at=(0,styled_components__WEBPACK_IMPORTED_MODULE_23__[\"default\"])((0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Button))`\n  border-radius: 4px;\n  margin-top: 10px;\n`,dt=({title:o,children:i,isOpenInitially:n=!0,className:s,titleRightComponent:a})=>{const[d,l]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(n);return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\",{className:s,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(lt,{onClick:()=>l((e=>!e)),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.StyledIcon,{glyph:d?terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Icon.GLYPHS.accordionClose:terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Icon.GLYPHS.accordionOpen,styledWidth:\"14px\",styledHeight:\"14px\",light:!0,style:{marginRight:\"5px\",marginLeft:\"-12px\"}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Text,{textLight:!0,medium:!0,bold:!0,children:o}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\",{style:{marginLeft:\"auto\"},children:a&&a()})]}),d&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\",{children:i})]})},lt=styled_components__WEBPACK_IMPORTED_MODULE_23__[\"default\"].div`\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n`,ct=react__WEBPACK_IMPORTED_MODULE_1___default().memo((({onValueChange:t,...o})=>{const[i,n]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),s=i?\"\":o.value??\"\";return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(st,{...o,value:s,onChange:e=>{const o=e.target.value.trim();\"\"===o?(n(!0),t(void 0)):(n(!1),t(o))},title:o.disabled&&o.disabledTitle?o.disabledTitle:o.title})})),ut=styled_components__WEBPACK_IMPORTED_MODULE_23__[\"default\"].div`\n  margin-left: 5px;\n  cursor: pointer;\n\n  &:hover::after {\n    content: attr(data-tooltip);\n    position: absolute;\n    top: 20px;\n    left: 20px;\n    padding: 7px 8px;\n    border: 1px solid #666;\n    border-radius: 7px;\n    background-color: rgba(86, 86, 86, 1);\n    box-shadow: 7px 7px rgba(0, 0, 0, 0.2);\n    font-size: 15px;\n    font-weight: normal;\n    color: white;\n    z-index: 10;\n  }\n`;function mt(e){return terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.ReferenceMixin.isMixedInto(e)?e.nestedTarget:e}function ht(e,t,o){const i=o.workbench.items.find((t=>t.uniqueId===e&&terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.GltfMixin.isMixedInto(mt(t))));return i&&(0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.updateModelFromJson)(i,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CommonStrata.user,t),i}const pt=(0,mobx_react__WEBPACK_IMPORTED_MODULE_24__.observer)((({item:e,isModelClampedToGround:t,cesium:o,terria:i,onChange:n})=>{const[s,d]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){const t=new Ze(e,o,i,n);return i.overlays.add(t),d(t),()=>{d(void 0),i.overlays.remove(t)}}),[e,n,o,i]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){s&&(s.isModelClampedToGround=t)}),[s,t]),null}));class gt{geoid;async getOrLoadGeoid(){if(this.geoid)return this.geoid;const e=await (0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.loadBlob)(\"https://storage.googleapis.com/terria-datasets-public/scene-editor/AUSGeoid09.tif\"),t=await(await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_geotiff_dist-module_geotiff_js\"), __webpack_require__.e(\"_cdec-_753a-_4e4d-_662e1\")]).then(__webpack_require__.bind(__webpack_require__, /*! geotiff */ \"./node_modules/geotiff/dist-module/geotiff.js\"))).fromBlob(e),o=await t.getImage(),i=(await t.readRasters())[0],n=o.getTiePoints()[0],r=o.getFileDirectory().ModelPixelScale;return this.geoid={image:o,raster:i,tiePoint:n,pixelScale:r},this.geoid}async getHeight(e,t){const o=await this.getOrLoadGeoid(),i=(t-o.tiePoint.x)/o.pixelScale[0],n=(e-o.tiePoint.y)/(-1*o.pixelScale[1]);if(i<0||i>=o.image.getWidth())return 0;if(n<0||n>=o.image.getHeight())return 0;const r=Math.floor(i),s=Math.floor(n),a=[];for(let e=s-1,t=0;e<=s+2;e++,t++)for(let i=r-1,n=0;i<=r+2;i++,n++)a[n]||(a[n]=[]),a[t][n]=o.raster[i+e*o.image.getWidth()];return yt.apply(void 0,[{x:i-r,y:n-s},...a[0],...a[1],...a[2],...a[3]])}}function ft(e,t,o,i,n,r){return(((-e*o+(2-e)*i+(e-2)*n+e*r)*t+(2*e*o+(e-3)*i+(3-2*e)*n-e*r))*t+(-e*o+e*n))*t+i}function yt(e,t,o,i,n,r,s,a,d,l,c,u,m,h,p,g,f){let y=.5;return ft(y,e.x,ft(y,e.y,t,o,i,n),ft(y,e.y,r,s,a,d),ft(y,e.y,l,c,u,m),ft(y,e.y,h,p,g,f))}const vt=e=>({is:\"ok\",value:e}),wt=e=>({is:\"error\",error:e});class xt{longitude;latitude;height;constructor(e=0,t=0,o=0){this.longitude=e,this.latitude=t,this.height=o}static parse(e){const t=function(e){const t=Ae(e),o=e?.match(/E/)?t:e?.match(/W/)&&void 0!==t?-1*t:t;if(void 0!==o)return Math.abs(o)>=0&&Math.abs(o)<=180?o:void 0}(e.longitude),o=function(e){const t=Ae(e),o=e?.match(/N/)?t:e?.match(/S/)&&void 0!==t?-1*t:t;if(void 0!==o)return Math.abs(o)>=0&&Math.abs(o)<=90?o:void 0}(e.latitude),i=Ae(e.height);return void 0===t||void 0===o||void 0===i?wt({longitude:void 0===t,latitude:void 0===o,height:void 0===i}):vt(new xt(t,o,i))}stringifyValues(){return{longitude:je(this.longitude),latitude:je(this.latitude),height:Re(this.height)}}}const Ct=(__webpack_require__(/*! proj4 */ \"./node_modules/proj4/lib/index.js\")[\"default\"]);var St={gda94:new Ct.Proj(\"+proj=longlat +ellps=GRS80 +no_defs +type=crs\"),gda2020:new Ct.Proj(\"+proj=longlat +ellps=GRS80 +towgs84=-0.06155,0.01087,0.04019,-0.0394924,-0.0327221,-0.03289790,0.009994 +no_defs\"),28349:new Ct.Proj(\"+proj=utm +zone=49 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs +type=crs\"),28350:new Ct.Proj(\"+proj=utm +zone=50 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs +type=crs\"),28351:new Ct.Proj(\"+proj=utm +zone=51 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs +type=crs\"),28352:new Ct.Proj(\"+proj=utm +zone=52 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs +type=crs\"),28353:new Ct.Proj(\"+proj=utm +zone=53 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs +type=crs\"),28354:new Ct.Proj(\"+proj=utm +zone=54 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs +type=crs\"),28355:new Ct.Proj(\"+proj=utm +zone=55 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs +type=crs\"),28356:new Ct.Proj(\"+proj=utm +zone=56 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs +type=crs\")};class bt{x;y;z;constructor(e=0,t=0,o=0){this.x=e,this.y=t,this.z=o}static parse(e){const t=Ae(e.x),o=Ae(e.y),i=Ae(e.z);return void 0===t||void 0===o||void 0===i?wt({x:void 0===t,y:void 0===o,z:void 0===i}):vt(new bt(t,o,i))}stringifyValues(){return{x:Re(this.x),y:Re(this.y),z:Re(this.z)}}}const Mt=(__webpack_require__(/*! proj4 */ \"./node_modules/proj4/lib/index.js\")[\"default\"]);class Tt{ausGeoid09=new gt;nativeSrs=Pt;availableSrs=[It(49,\"GDA94 MGA Zone 49 + AHD\",this.ausGeoid09),It(50,\"GDA94 MGA Zone 50 + AHD\",this.ausGeoid09),It(51,\"GDA94 MGA Zone 51 + AHD\",this.ausGeoid09),It(52,\"GDA94 MGA Zone 52 + AHD\",this.ausGeoid09),It(53,\"GDA94 MGA Zone 53 + AHD\",this.ausGeoid09),It(54,\"GDA94 MGA Zone 54 + AHD\",this.ausGeoid09),It(55,\"GDA94 MGA Zone 55 + AHD\",this.ausGeoid09),It(56,\"GDA94 MGA Zone 56 + AHD\",this.ausGeoid09)];findSrsByName(e){return this.nativeSrs.name===e?this.nativeSrs:this.availableSrs.find((t=>t.name===e))}}function It(e,t,o){return{name:t,type:\"projected\",Point:bt,fields:{x:{name:\"X (metres)\"},y:{name:\"Y (metres)\"},z:{name:\"AHD Height (metres)\",details:\"AHD (Australian Height Datum) height in metres. Note that the input AHD height is converted to ellipsoidal height by interpolating height values looked up from AusGeoid09 grid. This can result in errors up to tens of centimetres.\"}},fromNativeToSrsPoint:async function(t){const i=Mt.transform(St.gda2020,St.gda94,[t.longitude,t.latitude,t.height]),n=await o.getHeight(i.y,i.x),r=i.z-n;i.z=r;const s=Mt.transform(St.gda94,St[`283${e}`],i);return new bt(s.x,s.y,s.z)},fromSrsToNativePoint:async t=>{const i=Mt.transform(St[`283${e}`],St.gda94,[t.x,t.y,t.z]),n=await o.getHeight(i.y,i.x),r=i.z+n;i.z=r;const s=Mt.transform(St.gda94,St.gda2020,i);return new xt(s.x,s.y,s.z)}}}const Pt={name:\"GDA2020\",type:\"geographic\",Point:xt,fields:{longitude:{name:\"Longitude (degrees)\"},latitude:{name:\"Latitude (degrees)\"},height:{name:\"Height (metres from the ellipsoid)\",details:\"Height in metres from the GDA2020 ellipsoid\"}},fromNativeToSrsPoint:async e=>e,fromSrsToNativePoint:async e=>e};function kt(e,t){switch(e.type){case\"geographic\":return\"height\"===t;case\"projected\":return\"z\"===t}}const At=(0,mobx_react__WEBPACK_IMPORTED_MODULE_24__.observer)((({item:i,origin:n,disableHeightEdits:s,onSavePosition:d})=>{const[l]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Tt),[c,u]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[h,p]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(l.nativeSrs),[g,f]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}),[v,w]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}),[x,C]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[S,b]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),M=l.nativeSrs,T=\"CLAMP_TO_GROUND\"===i.heightReference,P=async()=>{b(!0);const e=await h.fromNativeToSrsPoint(new xt(n.longitude??0,n.latitude??0,n.height??0)).finally((()=>b(!1)));f(e.stringifyValues()),w({}),C(!1)};(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{P()}),[h,n.longitude,n.latitude,n.height]);const k=e=>{\"Enter\"===e.key&&A(),\"Escape\"===e.key&&D()},A=async()=>{const e=h.Point.parse(g);if(\"error\"===e.is)return void w(e.error);b(!0);const t=e.value,o=await h.fromSrsToNativePoint(t).finally((()=>b(!1)));(0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.updateModelFromJson)(i.origin,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CommonStrata.user,{longitude:o.longitude,latitude:o.latitude,height:o.height}),C(!1),w({}),d()},D=P;return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(dt,{title:\"Position\",isOpenInitially:!0,titleRightComponent:()=>S&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.AnimatedSpinnerIcon,{light:!0,styledWidth:\"20px\",styledHeight:\"20px\"}),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ot,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(it,{children:[\"Spatial reference system:Â \",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(nt,{details:`Choose an SRS for the position input. The input in your chosen SRS will be converted to ${l.nativeSrs.name}, which is the app default.`})]}),!c&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Text,{large:!0,textLight:!0,children:[h.name,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Et,{onClick:()=>u((e=>!e)),children:\"(Change SRS)\"})]}),c&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(rt,{value:h.name,onChange:e=>{const t=l.findSrsByName(e.target.value);t&&p(t)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\",{value:M.name,children:M.name}),l.availableSrs.map((t=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\",{value:t.name,children:t.name},t.name)))]})]}),Object.entries(h.fields).map((([o,i])=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ot,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(it,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\",{children:i.name}),i.details&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(nt,{details:i.details})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ct,{disabled:s&&kt(h,o),disabledTitle:\"Changing height is disabled when clamping is on.\",value:g[o],placeholder:g[o],error:v[o],onValueChange:e=>((e,t)=>{f((o=>({...o,[e]:t}))),C(!0)})(o,e),onKeyDown:k})]},o))),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ot,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Checkbox,{isChecked:T,onChange:()=>i.setTrait(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CommonStrata.user,\"heightReference\",\"CLAMP_TO_GROUND\"===i.heightReference?\"NONE\":\"CLAMP_TO_GROUND\"),textProps:{textLight:!0},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\",{children:\"Clamp model to ground\"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(nt,{details:\"Enable clamping to keep the model grounded as you move it on the map. Note that height changes are disabled when clamping is on.\"})]})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Dt,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(at,{primary:!0,disabled:!1===x||S,onClick:A,children:\"Save edited Position\"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(at,{secondary:!0,disabled:!1===x||S,onClick:D,children:\"Reset\"})]})]})})),Dt=styled_components__WEBPACK_IMPORTED_MODULE_23__[\"default\"].div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  & ${at}:first-child {\n    flex-grow: 1;\n  }\n\n  & ${at}:last-child {\n    margin-left: 10px;\n  }\n`,Et=(0,styled_components__WEBPACK_IMPORTED_MODULE_23__[\"default\"])(at)`\n  display: inline;\n  margin: 0 4px;\n  padding: 0;\n  border: 0;\n  background: transparent;\n  text-decoration: underline;\n  color: white;\n`,Rt=(0,mobx_react__WEBPACK_IMPORTED_MODULE_24__.observer)((({item:o,onEdit:i,cesium:n,terria:l})=>{const[c,u]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(o.transformationJson),h=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(o.transformationJson),p=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((0,lodash_es__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(u,250,{maxWait:250}),[]);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{p(o.transformationJson)}),[o,o.transformationJson]);const g=o.uniqueId,f=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((()=>{const e=o.transformationJson,t=h.current;(0,lodash_es_isEqual__WEBPACK_IMPORTED_MODULE_25__[\"default\"])(e,t)||(i((()=>ht(g,e,l)),(()=>ht(g,t,l))),h.current=e)}),[g,o,i,l]),y=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e=>{const t=Ae(e);o.rotation.setTrait(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CommonStrata.user,\"heading\",t),n.notifyRepaintRequired()}),[o,n]),v=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e=>{const t=Ae(e),i=void 0===t?void 0:Math.max(terriajs_cesium_Source_Core_Math__WEBPACK_IMPORTED_MODULE_16__[\"default\"].EPSILON6,t);o.setTrait(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CommonStrata.user,\"scale\",i),n.notifyRepaintRequired()}),[o,n]);(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e=>{const t=e.target.value;o.setTrait(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CommonStrata.user,\"upAxis\",t),async function(e,t){const o=await Le(e.modelEntity,t,{interval:10,timeout:1e3});o&&(o._updateModelMatrix=!0,t.notifyRepaintRequired())}(o,n)}),[o,n]);const w=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(((e,t)=>{const r=o.uniqueId;i((function(){ht(r,e,l),n.notifyRepaintRequired()}),(function(){ht(r,t,l),n.notifyRepaintRequired()}))}),[o.uniqueId,i,n,l]),x=_e(o.rotation.heading),C=_e(o.scale),S=\"NONE\"!==o.heightReference;return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_t,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(pt,{item:o,isModelClampedToGround:S,onChange:w,cesium:n,terria:l}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(At,{item:o,origin:c.origin,disableHeightEdits:S,onSavePosition:f}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(jt,{title:\"Advanced options\",isOpenInitially:!1,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ot,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(it,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\",{children:\"Rotation (heading in degrees)\"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ct,{name:\"heading\",type:\"number\",value:x,placeholder:x||\"0\",onValueChange:y,onBlur:f})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ot,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(it,{children:\"Scale\"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ct,{name:\"scale\",type:\"number\",value:C,placeholder:C||\"1\",min:0,step:\"0.1\",onValueChange:v,onBlur:f})]}),!1]})]})})),_t=styled_components__WEBPACK_IMPORTED_MODULE_23__[\"default\"].div`\n  margin-top: 30px;\n`,jt=(0,styled_components__WEBPACK_IMPORTED_MODULE_23__[\"default\"])(dt)`\n  margin-top: 30px;\n`,Gt=({tileFeature:e,cesium:t})=>((0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((0,mobx__WEBPACK_IMPORTED_MODULE_12__.action)((()=>{const{item:o,featureSelector:i}=e,n=`color('${o.highlightColor}')`;return o.applyColorExpression({condition:i,value:n}),t.notifyRepaintRequired(),()=>{o.removeColorExpression(i),t.notifyRepaintRequired()}})),[e,t]),null),Bt=({tileFeature:i,cesium:n})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Gt,{tileFeature:i,cesium:n}),Object.entries(i.properties).map((([o,i])=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ot,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(it,{children:o}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Text,{small:!0,textLight:!0,children:i})]},o)))]}),Lt=({selectedModel:o,onSelect:i,workbench:n})=>{const r=n.items.filter((e=>terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.GltfMixin.isMixedInto(e)&&e.show&&e.uniqueId)),s=\"--choose-a-model--\";return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(rt,{value:o?.uniqueId??s,onChange:e=>{const t=e.target.value,o=n.items.find((e=>terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.GltfMixin.isMixedInto(e)&&e.uniqueId===t));o&&i(o)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\",{value:s,disabled:!0,children:\"Choose a model\"},s),r.map((t=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\",{value:t.uniqueId,children:t.name},t.uniqueId)))]})},Nt=(0,mobx_react__WEBPACK_IMPORTED_MODULE_24__.observer)((({sceneItem:i,onEdit:n,onClose:r,onChangeSelectedModel:s,cesium:d,terria:l})=>{const u=(0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.useViewState)(),m=\"gltfModel\"===i?.is?i.item:void 0,h=\"tileFeature\"===i?.is?\"Feature properties\":\"Edit model transform\",p=u.terria.depthTestAgainstTerrainEnabled,g=(0,mobx__WEBPACK_IMPORTED_MODULE_12__.action)((e=>{u.terria.depthTestAgainstTerrainEnabled=e})),f=(0,mobx__WEBPACK_IMPORTED_MODULE_12__.action)((()=>{u.terria.depthTestAgainstTerrainEnabled=!u.terria.depthTestAgainstTerrainEnabled}));return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){const e=u.terria.depthTestAgainstTerrainEnabled;return g(!0),()=>g(e)}),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.WorkflowPanel,{viewState:u,title:h,icon:_index_9f86d295_js__WEBPACK_IMPORTED_MODULE_3__.i,onClose:r,closeButtonText:\"Close\",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Ot,{children:[(void 0===i||\"gltfModel\"===i.is)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ot,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(it,{children:\"Model\"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Lt,{selectedModel:m,onSelect:s,workbench:l.workbench})]}),\"gltfModel\"===i?.is&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ot,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Checkbox,{isChecked:p,textProps:{textLight:!0,bold:!0},onChange:f,children:\"Hide features below ground\"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ot,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(at,{secondary:!0,onClick:()=>\"gltfModel\"===i?.is&&d.zoomTo(i?.item),textProps:{textDarker:!0},renderIcon:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.StyledIcon,{glyph:terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Icon.GLYPHS.search,styledWidth:\"16px\",styledHeight:\"16px\"}),children:\"Zoom to Model\"})})]}),void 0===i&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Text,{large:!0,textLight:!0,children:\"No model selected!\"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Text,{textLight:!0,children:\"Add or select any model on the map to edit its transform.\"})]}),\"gltfModel\"===i?.is&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Rt,{item:i.item,onEdit:n,cesium:d,terria:l}),\"tileFeature\"===i?.is&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Bt,{tileFeature:i,cesium:d})]})})})),Ot=styled_components__WEBPACK_IMPORTED_MODULE_23__[\"default\"].div`\n  padding: 24px 20px;\n`,Ft=({onPick:e,eventHandler:t,cesium:o,terria:i})=>((0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>(t.setInputAction((({position:t})=>{e(qt(t,o,i))}),terriajs_cesium_Source_Core_ScreenSpaceEventType__WEBPACK_IMPORTED_MODULE_26__[\"default\"].LEFT_CLICK),()=>{t.removeInputAction(terriajs_cesium_Source_Core_ScreenSpaceEventType__WEBPACK_IMPORTED_MODULE_26__[\"default\"].LEFT_CLICK)})),[o,t,e]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>(o.isFeaturePickingPaused=!0,()=>{o.isFeaturePickingPaused=!1})),[]),null),qt=(0,mobx__WEBPACK_IMPORTED_MODULE_12__.action)((function(e,t,o){const i=t.scene.drillPick(e);for(let e=0;e<i.length;e++){const t=i[e],n=Ht(t,o)??Ut(t);if(n)return n}}));function Ht(e,t){const o=e.id instanceof terriajs_cesium_Source_DataSources_Entity__WEBPACK_IMPORTED_MODULE_27__[\"default\"]?e.id:void 0;if(!o)return;const i=t.workbench.items.find((e=>terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.GltfMixin.isMixedInto(e)&&e.modelEntity===o&&e.uniqueId));return i?{is:\"gltfModel\",item:i}:void 0}function Ut(e){const t=e instanceof terriajs_cesium_Source_Scene_Cesium3DTileFeature__WEBPACK_IMPORTED_MODULE_28__[\"default\"]&&e.primitive._catalogItem.uniqueId&&terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Cesium3dTilesMixin.isMixedInto(mt(e.primitive._catalogItem))?e.primitive._catalogItem:void 0,o=e,i=t?.getSelectorForFeature(e);if(!t||!t.uniqueId||!i)return;return{is:\"tileFeature\",item:t,featureSelector:i,properties:Object.fromEntries(o.getPropertyIds().map((e=>{const t=o.getProperty(e);return null===t?void 0:[e,t]})).filter((e=>void 0!==e)))}}const Vt=({model:t,onClick:o})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.ActionButton,{title:\"Pick a new position for the selected model\",icon:_index_9f86d295_js__WEBPACK_IMPORTED_MODULE_3__.a,onClick:()=>t&&o(t),disabled:void 0===t});function zt(e,t){const o=Math.pow(10,t);return Math.floor(e*o)/o}const $t=new terriajs_cesium_Source_Core_Cartesian3__WEBPACK_IMPORTED_MODULE_4__[\"default\"],Jt=new terriajs_cesium_Source_Core_Cartographic__WEBPACK_IMPORTED_MODULE_8__[\"default\"],Wt=(0,mobx_react__WEBPACK_IMPORTED_MODULE_24__.observer)((({model:o,mouseCoordinates:i,eventHandler:n,onPlonk:s,onCancelPlonk:d,cesium:l,terria:c})=>{const[u,h]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(o.transformationJson),[p,g]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({cursorCoordinates:{x:i?.clientX??-1e3,y:i?.clientY??-1e3}}),f=()=>{u&&(0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.updateModelFromJson)(o,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CommonStrata.user,u),d()};(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((0,mobx__WEBPACK_IMPORTED_MODULE_12__.action)((function(){const e=l.scene,t=e.canvas;let i,r=!1,a=!1;const d=o.transformationJson;h(d);const u=e=>{\"Escape\"===e.key&&(a=!0,(0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.updateModelFromJson)(o,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CommonStrata.user,d),f())};return t.style.cursor=\"move\",l.isFeaturePickingPaused=!0,n.setInputAction((()=>{const t=i;if(a||!t)return;const n=terriajs_cesium_Source_Core_Cartographic__WEBPACK_IMPORTED_MODULE_8__[\"default\"].fromCartesian(t,e.globe.ellipsoid,Jt);(0,terriajs_cesium_Source_Core_sampleTerrainMostDetailed__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(l.terrainProvider,[n]).catch((()=>{n.height=0})).finally((()=>{r=!0;const e=o.uniqueId,t={...o.transformationJson,origin:{latitude:terriajs_cesium_Source_Core_Math__WEBPACK_IMPORTED_MODULE_16__[\"default\"].toDegrees(n.latitude),longitude:terriajs_cesium_Source_Core_Math__WEBPACK_IMPORTED_MODULE_16__[\"default\"].toDegrees(n.longitude),height:n.height}};s((()=>ht(e,t,c)),(()=>ht(e,d,c)))}))}),terriajs_cesium_Source_Core_ScreenSpaceEventType__WEBPACK_IMPORTED_MODULE_26__[\"default\"].LEFT_CLICK),n.setInputAction((n=>{if(r||a)return;const s=n.endPosition;if(i=function(e,t,o){const i=t.camera.getPickRay(e);return i?t.globe.pick(i,t,o):void 0}(s,e,$t),i){terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.LatLonHeightTraits.setFromCartesian(o.origin,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.CommonStrata.user,i),l.notifyRepaintRequired();const{left:n,top:r}=t.getBoundingClientRect(),a=terriajs_cesium_Source_Core_Cartographic__WEBPACK_IMPORTED_MODULE_8__[\"default\"].fromCartesian(i,e.globe.ellipsoid,Jt);g({positionDegrees:Zt(a),cursorCoordinates:{x:n+s.x,y:r+s.y}})}}),terriajs_cesium_Source_Core_ScreenSpaceEventType__WEBPACK_IMPORTED_MODULE_26__[\"default\"].MOUSE_MOVE),document.addEventListener(\"keydown\",u),()=>{t.style.cursor=\"auto\",l.isFeaturePickingPaused=!1,n.removeInputAction(terriajs_cesium_Source_Core_ScreenSpaceEventType__WEBPACK_IMPORTED_MODULE_26__[\"default\"].LEFT_CLICK),n.removeInputAction(terriajs_cesium_Source_Core_ScreenSpaceEventType__WEBPACK_IMPORTED_MODULE_26__[\"default\"].MOUSE_MOVE),document.removeEventListener(\"keydown\",u)}})),[o,n]);const{cursorCoordinates:v,positionDegrees:w}=p,x=w?`at: ${w.latitude} ${w.longitude}`:\"here\";return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Yt,{coords:v,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Text,{medium:!0,children:[\"Click to place model \",x]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Text,{small:!0,children:\"(Esc to cancel)\"})]})})),Yt=styled_components__WEBPACK_IMPORTED_MODULE_23__[\"default\"].div.attrs((({coords:e})=>({style:{left:e.x+10,top:e.y+10}})))`\n  font-weight: bold;\n  position: absolute;\n  overflow: visible;\n  white-space: nowrap;\n  max-width: 500px;\n  background-color: rgba(255, 165, 0, 0.7);\n  padding: 7px;\n  border: 1px solid white;\n`;function Zt(e){const t=zt(terriajs_cesium_Source_Core_Math__WEBPACK_IMPORTED_MODULE_16__[\"default\"].toDegrees(e.latitude),4),o=zt(terriajs_cesium_Source_Core_Math__WEBPACK_IMPORTED_MODULE_16__[\"default\"].toDegrees(e.longitude),4);return{latitude:`${Math.abs(t)}Â° ${t<0?\"S\":\"N\"}`,longitude:`${Math.abs(o)}Â° ${o<0?\"W\":\"E\"}`}}var Xt=__webpack_require__(/*! @terriajs/plugin-scene-editor/assets/icons/remove.svg */ \"./node_modules/@terriajs/plugin-scene-editor/assets/icons/remove.svg\");const Kt=({sceneItem:t,onChange:o,terria:i})=>{const n=e=>{o((()=>function(e,t){t.removeModelReferences(e.item)}(e,i)),(()=>function(e,t){const o=e.item.uniqueId;o&&!(0,mobx__WEBPACK_IMPORTED_MODULE_12__.runInAction)((()=>t.modelIds.includes(o)))&&t.addModel(e.item);t.workbench.add(e.item)}(e,i)))},r=e=>{const t=e.item.uniqueId,n=e.featureSelector;o((()=>function(e,t,o){const i=Qt(e,o.workbench);i?.setVisibilityForMatchingFeature(t,!1)}(t,n,i)),(()=>function(e,t,o){const i=Qt(e,o.workbench);i?.setVisibilityForMatchingFeature(t,!0)}(t,n,i)))};return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.ActionButton,{title:\"Remove selected model\",icon:Xt,onClick:()=>t&&(e=>{\"gltfModel\"===e.is&&n(e),\"tileFeature\"===e.is&&r(e)})(t),disabled:void 0===t})};function Qt(e,t){return t.items.find((t=>t.uniqueId===e&&terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.Cesium3dTilesMixin.isMixedInto(mt(t))))}const eo={is:\"pickSceneItem\"},to={is:\"addModel\"},oo=(0,mobx_react__WEBPACK_IMPORTED_MODULE_24__.observer)((({toolId:i,mode:n})=>{const[d,l]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(n??eo),{performChange:m,...h}=function(){const[e,t]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({undoStack:[],redoStack:[]}),o=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(((e,o)=>{const i={redo:e,undo:o};t((({undoStack:e})=>({undoStack:[...e,i],redoStack:[]})))}),[]),i=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(((e,t)=>{const i=e();return o(e,t),i}),[]),n=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((()=>{t((({undoStack:e,redoStack:t})=>{const o=e.at(-1);return o?.undo(),{undoStack:e.slice(0,-1),redoStack:o?[...t,o]:t}}))}),[]),a=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((()=>{t((({undoStack:e,redoStack:t})=>(e.reverse(),e.forEach((e=>e.undo())),{undoStack:[],redoStack:[...t,...e]})))}),[]),d=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((()=>{t((({undoStack:e,redoStack:t})=>{const o=t.at(-1);return o?.redo(),{undoStack:o?[...e,o]:e,redoStack:t.slice(0,-1)}}))}),[]),l=e.undoStack.length,c=e.redoStack.length;return{addChange:o,performChange:i,undoChange:n,redoChange:d,undoAllChanges:a,undoCount:l,redoCount:c}}(),p=(0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.useViewState)(),g=function(){const e=(0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.useViewState)().terria.cesium,[t,o]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(void 0);return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const t=e?new terriajs_cesium_Source_Core_ScreenSpaceEventHandler__WEBPACK_IMPORTED_MODULE_29__[\"default\"](e.scene.canvas):void 0;return o(t),()=>t?.destroy()}),[e]),t}(),f=p.terria,y=f.cesium,v=\"editSceneItem\"===d.is?d.sceneItem?.item:\"plonkModel\"===d.is?d.model:void 0,w=v&&function(e,t){return e.show&&t.workbench.contains(e)}(v,f);if((0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){v&&!w&&x()}),[v,w]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>(0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.addFileDragDropListener)((({addedItems:e,mouseCoordinates:t})=>{const o=e.find((e=>terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.GltfMixin.isMixedInto(e)&&e.uniqueId&&e.mapItems.length>0));o&&l({is:\"plonkModel\",model:o,mouseCoordinates:t})})))),!y||!g)return null;const x=()=>l(eo),S=e=>l({is:\"editSceneItem\",sceneItem:e}),b=e=>S({is:\"gltfModel\",item:e});return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(\"pickSceneItem\"===d.is||\"editSceneItem\"===d.is)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Ft,{onPick:S,eventHandler:g,cesium:y,terria:f}),\"editSceneItem\"===d.is&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Nt,{sceneItem:d.sceneItem,onEdit:m,onClose:x,onChangeSelectedModel:b,cesium:y,terria:f}),\"addModel\"===d.is&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Pe,{onAddModel:(e,t)=>{const o=e();l({is:\"plonkModel\",model:o,onPlonk:i=>{i(),h.addChange(e,t),S({is:\"gltfModel\",item:o})},onCancelPlonk:()=>{t(),x()}})},onCancel:x,terria:f}),\"plonkModel\"===d.is&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Wt,{cursorPrompt:\"Click to place model here\",model:d.model,mouseCoordinates:d.mouseCoordinates,onPlonk:d.onPlonk??((e,t)=>{const o=m(e,t);o?b(o):x()}),onCancelPlonk:d.onCancelPlonk??x,eventHandler:g,cesium:y,terria:f}),\"plonkModel\"!==d.is&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.ActionBar,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.ActionButton,{icon:be,onClick:()=>l(to),children:\"Add model\"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Vt,{model:\"editSceneItem\"===d.is&&\"gltfModel\"===d.sceneItem?.is?d.sceneItem.item:void 0,onClick:e=>l({is:\"plonkModel\",model:e})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Ke,{model:\"editSceneItem\"===d.is&&\"gltfModel\"===d.sceneItem?.is?d.sceneItem.item:void 0,onChange:async(e,t)=>{const o=await m(e,t);return o&&S({is:\"gltfModel\",item:o}),o},terria:f}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Kt,{sceneItem:\"editSceneItem\"===d.is?d.sceneItem:void 0,onChange:(e,t)=>{m(e,t),S(void 0)},terria:f}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.ActionBarGroup,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.ActionButton,{title:`Undo (${h.undoCount})`,icon:Ie,onClick:h.undoChange,disabled:0===h.undoCount}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.ActionButton,{title:`Redo (${h.redoCount})`,icon:Me,onClick:h.redoChange,disabled:0===h.redoCount})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.ActionButton,{title:\"Reset changes\",icon:Te,onClick:h.undoAllChanges,disabled:0===h.undoCount}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(io,{title:\"Close Scene Editor\",onClick:()=>terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.MapToolbar.closeTool(p,i),children:\"Done\"})]})]})})),io=(0,styled_components__WEBPACK_IMPORTED_MODULE_23__[\"default\"])((0,terriajs_plugin_api__WEBPACK_IMPORTED_MODULE_2__.ActionButton))`\n  background-color: transparent;\n  border-color: #efefef;\n  &:hover {\n    background-color: ${e=>e.theme.colorPrimary};\n  }\n`;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRlcnJpYWpzL3BsdWdpbi1zY2VuZS1lZGl0b3IvZGlzdC9TY2VuZUVkaXRvci02YjE4NTU2MC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZXJyaWFqcy1tYXAvLi9ub2RlX21vZHVsZXMvQHRlcnJpYWpzL3BsdWdpbi1zY2VuZS1lZGl0b3IvZGlzdC9TY2VuZUVkaXRvci02YjE4NTU2MC5qcz9jMGNjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtqc3ggYXMgZSxqc3hzIGFzIHQsRnJhZ21lbnQgYXMgb31mcm9tXCJyZWFjdC9qc3gtcnVudGltZVwiO2ltcG9ydHtvYnNlcnZlciBhcyBpfWZyb21cIm1vYngtcmVhY3RcIjtpbXBvcnQgbix7dXNlU3RhdGUgYXMgcix1c2VDYWxsYmFjayBhcyBzLHVzZUVmZmVjdCBhcyBhLHVzZVJlZiBhcyBkfWZyb21cInJlYWN0XCI7aW1wb3J0IGwgZnJvbVwic3R5bGVkLWNvbXBvbmVudHNcIjtpbXBvcnR7dXNlVmlld1N0YXRlIGFzIGMsR2x0Zk1peGluIGFzIHUsQ29tbW9uU3RyYXRhIGFzIG0sTWFwcGFibGVNaXhpbiBhcyBoLENyZWF0ZU1vZGVsIGFzIHAsTWFwcGFibGVUcmFpdHMgYXMgZyxCb3hEcmF3aW5nIGFzIGYsdXBkYXRlTW9kZWxGcm9tSnNvbiBhcyB5LFNwbGl0SXRlbVJlZmVyZW5jZSBhcyB2LFJlZmVyZW5jZU1peGluIGFzIHcsSGFzTG9jYWxEYXRhIGFzIHgsQWN0aW9uQnV0dG9uIGFzIEMsTGF0TG9uSGVpZ2h0VHJhaXRzIGFzIFMsQmFzZU1vZGVsIGFzIGIsQ2F0YWxvZ01lbWJlck1peGluIGFzIE0sQm94IGFzIFQsVGV4dCBhcyBJLFNlbGVjdCBhcyBQLElucHV0IGFzIGssQnV0dG9uIGFzIEEsU3R5bGVkSWNvbiBhcyBELEljb24gYXMgRSxsb2FkQmxvYiBhcyBSLEFuaW1hdGVkU3Bpbm5lckljb24gYXMgXyxDaGVja2JveCBhcyBqLFdvcmtmbG93UGFuZWwgYXMgRyxDZXNpdW0zZFRpbGVzTWl4aW4gYXMgQixhZGRGaWxlRHJhZ0Ryb3BMaXN0ZW5lciBhcyBMLEFjdGlvbkJhciBhcyBOLEFjdGlvbkJhckdyb3VwIGFzIE8sTWFwVG9vbGJhciBhcyBGfWZyb21cInRlcnJpYWpzLXBsdWdpbi1hcGlcIjtpbXBvcnQgcSBmcm9tXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL0NvcmUvU2NyZWVuU3BhY2VFdmVudEhhbmRsZXJcIjtpbXBvcnR7RiBhcyBILGkgYXMgVSxhIGFzIFZ9ZnJvbVwiLi9pbmRleC05Zjg2ZDI5NS5qc1wiO2ltcG9ydHttYWtlT2JzZXJ2YWJsZSBhcyB6LG9uQmVjb21lT2JzZXJ2ZWQgYXMgJCxvbkJlY29tZVVub2JzZXJ2ZWQgYXMgSixyZWFjdGlvbiBhcyBXLHdoZW4gYXMgWSxydW5JbkFjdGlvbiBhcyBaLG9ic2VydmFibGUgYXMgWCxjb21wdXRlZCBhcyBLLGFjdGlvbiBhcyBRfWZyb21cIm1vYnhcIjtpbXBvcnQgZWUgZnJvbVwidGVycmlhanMtY2VzaXVtL1NvdXJjZS9Db3JlL0NhcnRlc2lhbjNcIjtpbXBvcnQgdGUgZnJvbVwidGVycmlhanMtY2VzaXVtL1NvdXJjZS9Db3JlL0NhcnRvZ3JhcGhpY1wiO2ltcG9ydCBvZSBmcm9tXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL0NvcmUvY3JlYXRlR3VpZFwiO2ltcG9ydCBpZSBmcm9tXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL0NvcmUvc2FtcGxlVGVycmFpbk1vc3REZXRhaWxlZFwiO2ltcG9ydHtfX2RlY29yYXRlIGFzIG5lfWZyb21cInRzbGliXCI7aW1wb3J0e2RlYm91bmNlIGFzIHJlfWZyb21cImxvZGFzaC1lc1wiO2ltcG9ydCBzZSBmcm9tXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL0NvcmUvRWxsaXBzb2lkXCI7aW1wb3J0IGFlIGZyb21cInRlcnJpYWpzLWNlc2l1bS9Tb3VyY2UvQ29yZS9IZWFkaW5nUGl0Y2hSb2xsXCI7aW1wb3J0IGRlIGZyb21cInRlcnJpYWpzLWNlc2l1bS9Tb3VyY2UvQ29yZS9NYXRoXCI7aW1wb3J0IGxlIGZyb21cInRlcnJpYWpzLWNlc2l1bS9Tb3VyY2UvQ29yZS9NYXRyaXg0XCI7aW1wb3J0IGNlIGZyb21cInRlcnJpYWpzLWNlc2l1bS9Tb3VyY2UvQ29yZS9RdWF0ZXJuaW9uXCI7aW1wb3J0IHVlIGZyb21cInRlcnJpYWpzLWNlc2l1bS9Tb3VyY2UvQ29yZS9UcmFuc2Zvcm1zXCI7aW1wb3J0IG1lIGZyb21cInRlcnJpYWpzLWNlc2l1bS9Tb3VyY2UvRGF0YVNvdXJjZXMvQ29uc3RhbnRQb3NpdGlvblByb3BlcnR5XCI7aW1wb3J0IGhlIGZyb21cInRlcnJpYWpzLWNlc2l1bS9Tb3VyY2UvRGF0YVNvdXJjZXMvQ29uc3RhbnRQcm9wZXJ0eVwiO2ltcG9ydCBwZSBmcm9tXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL1NjZW5lL01vZGVsL01vZGVsXCI7aW1wb3J0IGdlIGZyb21cInRlcnJpYWpzLWNlc2l1bS9Tb3VyY2UvQ29yZS9SZXNvdXJjZVwiO2ltcG9ydCBmZSBmcm9tXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL0NvcmUvVGFza1Byb2Nlc3NvclwiO2ltcG9ydCB5ZSBmcm9tXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL1NjZW5lL0F4aXNcIjtpbXBvcnQgdmUgZnJvbVwibG9kYXNoLWVzL2RlYm91bmNlXCI7aW1wb3J0IHdlIGZyb21cImxvZGFzaC1lcy9pc0VxdWFsXCI7aW1wb3J0IHhlIGZyb21cInRlcnJpYWpzLWNlc2l1bS9Tb3VyY2UvQ29yZS9TY3JlZW5TcGFjZUV2ZW50VHlwZVwiO2ltcG9ydCBDZSBmcm9tXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL0RhdGFTb3VyY2VzL0VudGl0eVwiO2ltcG9ydCBTZSBmcm9tXCJ0ZXJyaWFqcy1jZXNpdW0vU291cmNlL1NjZW5lL0Nlc2l1bTNEVGlsZUZlYXR1cmVcIjtpbXBvcnRcInJlYWN0LWkxOG5leHRcIjt2YXIgYmU9cmVxdWlyZShcIkB0ZXJyaWFqcy9wbHVnaW4tc2NlbmUtZWRpdG9yL2Fzc2V0cy9pY29ucy9hZGQtbW9kZWwuc3ZnXCIpLE1lPXJlcXVpcmUoXCJAdGVycmlhanMvcGx1Z2luLXNjZW5lLWVkaXRvci9hc3NldHMvaWNvbnMvcmVkby5zdmdcIiksVGU9cmVxdWlyZShcIkB0ZXJyaWFqcy9wbHVnaW4tc2NlbmUtZWRpdG9yL2Fzc2V0cy9pY29ucy9yZXNldC5zdmdcIiksSWU9cmVxdWlyZShcIkB0ZXJyaWFqcy9wbHVnaW4tc2NlbmUtZWRpdG9yL2Fzc2V0cy9pY29ucy91bmRvLnN2Z1wiKTtjb25zdCBQZT0oe29uQWRkTW9kZWw6dCxvbkNhbmNlbDpvLHRlcnJpYTppfSk9PmUoSCx7b25DbG9zZTpvLG9uRmlsZXM6ZT0+e2NvbnN0IG49ZS5maW5kKChlPT51LmlzTWl4ZWRJbnRvKGUpJiZlLnVuaXF1ZUlkKSk7bj90KChmdW5jdGlvbigpe3JldHVybiBpLm1vZGVsSWRzLmluY2x1ZGVzKG4udW5pcXVlSWQpfHxpLmFkZE1vZGVsKG4pLG4uc2V0VHJhaXQobS51c2VyLFwiem9vbU9uQWRkVG9Xb3JrYmVuY2hcIiwhMSksaS53b3JrYmVuY2guYWRkKG4pLG59KSwoZnVuY3Rpb24oKXtpLnJlbW92ZU1vZGVsUmVmZXJlbmNlcyhuKX0pKTpvKCl9fSk7dmFyIGtlPXJlcXVpcmUoXCJAdGVycmlhanMvcGx1Z2luLXNjZW5lLWVkaXRvci9hc3NldHMvaWNvbnMvZHVwbGljYXRlLnN2Z1wiKTtmdW5jdGlvbiBBZShlKXtpZih2b2lkIDA9PT1lKXJldHVybjtjb25zdCB0PXBhcnNlRmxvYXQoZSk7cmV0dXJuIGlzTmFOKHQpP3ZvaWQgMDp0fWZ1bmN0aW9uIERlKGUsdCl7Y29uc3Qgbz1NYXRoLnBvdygxMCx0KTtyZXR1cm4gTWF0aC5mbG9vcihlKm8pL299ZnVuY3Rpb24gRWUoZSx0KXtyZXR1cm4gaXNOYU4oZSl8fG51bGw9PT1lP1wiXCI6RGUoZSx0KS50b1N0cmluZygpfWNvbnN0IFJlPWU9PkVlKGUsMiksX2U9ZT0+RWUoZSwzKSxqZT1lPT5FZShlLDcpO3ZhciBHZT12b2lkIDA7ZnVuY3Rpb24gQmUoZSx0LG8pe2NvbnN0IGk9ZS5zY2VuZXNbZS5zY2VuZV0sbj0odCxvKT0+e3QuZm9yRWFjaCgodD0+e2NvbnN0IGk9ZS5ub2Rlc1t0XTtBcnJheS5pc0FycmF5KGkuY2hpbGRyZW4pJiZuKGkuY2hpbGRyZW4sbyksbyh0KX0pKX0scj1bXTtyZXR1cm4gbihpLm5vZGVzLChpPT57Y29uc3Qgbj1lLm5vZGVzW2ldLHM9XCJudW1iZXJcIj09dHlwZW9mIG4ubWVzaD9lLm1lc2hlc1tuLm1lc2hdOnZvaWQgMCxhPXQuX2xvYWRlcj8uX2dsdGZKc29uTG9hZGVyO3ZvaWQgMCE9PXMmJnZvaWQgMCE9PWEmJnMucHJpbWl0aXZlcy5mb3JFYWNoKCgocyxkKT0+e2NvbnN0IGw9bmV3IGVlO3IucHVzaChhc3luYyBmdW5jdGlvbihlLHQsbyl7Y29uc3QgaT1cIm51bWJlclwiPT10eXBlb2YgZS5hdHRyaWJ1dGVzLlBPU0lUSU9OP3QuYWNjZXNzb3JzW2UuYXR0cmlidXRlcz8uUE9TSVRJT05dOnZvaWQgMDtpZih2b2lkIDA9PT1pKXJldHVybjtjb25zdCBuPTMscj1pLmNvdW50Km4scz1lLmV4dGVuc2lvbnM/LktIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uO2lmKHMpe2NvbnN0IGU9YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0LG8pe3JldHVybiBhc3luYyBmdW5jdGlvbigpe2lmKEdlKXJldHVybiBHZTtjb25zdCBlPU1hdGgubWF4KChuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeT8/MyktMSwxKSx0PW5ldyBmZShcImRlY29kZURyYWNvXCIsZSk7cmV0dXJuIEdlPXQuaW5pdFdlYkFzc2VtYmx5TW9kdWxlKHttb2R1bGVQYXRoOlwiVGhpcmRQYXJ0eS9Xb3JrZXJzL2RyYWNvX2RlY29kZXJfbm9kZWpzLmpzXCIsd2FzbUJpbmFyeUZpbGU6XCJUaGlyZFBhcnR5L2RyYWNvX2RlY29kZXIud2FzbVwifSkudGhlbigoKCk9PnQpKX0oKS50aGVuKChhc3luYyBpPT57Y29uc3Qgbj10LmJ1ZmZlclZpZXdzW2UuYnVmZmVyVmlld10scj1vLl9yZXNvdXJjZUNhY2hlLHM9e2dsdGY6by5nbHRmLGJ1ZmZlclZpZXdJZDplLmJ1ZmZlclZpZXcsZ2x0ZlJlc291cmNlOm8uX2dsdGZSZXNvdXJjZSxiYXNlUmVzb3VyY2U6by5fYmFzZVJlc291cmNlfSxhPXIuZ2V0QnVmZmVyVmlld0xvYWRlcihzKTthd2FpdCBhLmxvYWQoKTtjb25zdCBkPWEudHlwZWRBcnJheT8uc2xpY2UoKTtpZighZClyZXR1cm47Y29uc3QgbD17YXJyYXk6ZCxidWZmZXJWaWV3Om4sY29tcHJlc3NlZEF0dHJpYnV0ZXM6e1BPU0lUSU9OOmUuYXR0cmlidXRlcy5QT1NJVElPTn0sZGVxdWFudGl6ZUluU2hhZGVyOiExfTtyZXR1cm4gaS5zY2hlZHVsZVRhc2sobCxbbC5hcnJheS5idWZmZXJdKT8udGhlbigoZT0+e2lmKCFlKXJldHVybjtjb25zdCB0PWUuYXR0cmlidXRlRGF0YS5QT1NJVElPTi5hcnJheTtyZXR1cm57dHlwZWRBcnJheTp0LHN0cmlkZTplLmF0dHJpYnV0ZURhdGEuUE9TSVRJT04uZGF0YS5ieXRlU3RyaWRlL3QuQllURVNfUEVSX0VMRU1FTlR9fSkpfSkpfShzLHQsbyk7aWYoIWUpcmV0dXJuO3JldHVybnsuLi5lLGNvdW50OnJ9fWlmKHZvaWQgMCE9PWkuYnVmZmVyVmlldyl7Y29uc3QgZT10LmJ1ZmZlclZpZXdzW2kuYnVmZmVyVmlld107bGV0IHM9bz8uX2J1ZmZlckxvYWRlcnM/LltlLmJ1ZmZlcl0/LnR5cGVkQXJyYXk7aWYoIXMpe2NvbnN0IHQ9bz8uZ2x0Zj8uYnVmZmVycz8uW2UuYnVmZmVyXSxpPXQ/LnVyaTtpZih0JiZpKXtsZXQgZT10Ll90anNfYXJyYXlMb2FkZXJQcm9taXNlO2V8fChlPXQuX3Rqc19hcnJheUxvYWRlclByb21pc2U9bmV3IFByb21pc2UoKChlLHQpPT57bmV3IGdlKHt1cmw6aX0pLmZldGNoQXJyYXlCdWZmZXIoKS50aGVuKCh0PT57ZShuZXcgVWludDhBcnJheSh0KSl9KSkuY2F0Y2godCl9KSkpLHM9YXdhaXQgZX19aWYoIXMpcmV0dXJuO2NvbnN0IGE9cy5idWZmZXIsZD1zLmJ5dGVPZmZzZXQrKGkuYnl0ZU9mZnNldD8/MCkrZS5ieXRlT2Zmc2V0LGw9ZnVuY3Rpb24oZSx0LG8saSl7aWYoNTEyNj09PXQpcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoZSxvLGkpO3Rocm93IG5ldyBFcnJvcihgVW5oYW5kbGVkIGNvbXBvbmVudFR5cGU6ICR7dH1gKX0oYSxpLmNvbXBvbmVudFR5cGUsZCxyKTtyZXR1cm57dHlwZWRBcnJheTpsLHN0cmlkZTooZS5ieXRlU3RyaWRlPz9sLkJZVEVTX1BFUl9FTEVNRU5UKm4pL2wuQllURVNfUEVSX0VMRU1FTlQsY291bnQ6cn19fShzLGUsYSkudGhlbigoZT0+e2lmKCFlKXJldHVybjtjb25zdCByPXQuc2NlbmVHcmFwaC5fcnVudGltZU5vZGVzW2ldLmNvbXB1dGVkVHJhbnNmb3JtO2ZvcihsZXQgdD0wO3Q8ZS5jb3VudDt0Kz1lLnN0cmlkZSl7Y29uc3Qgcz1lZS5mcm9tRWxlbWVudHMoZS50eXBlZEFycmF5W3RdLGUudHlwZWRBcnJheVt0KzFdLGUudHlwZWRBcnJheVt0KzJdLGwpO28ocyx7bm9kZUlkOmksbWVzaElkOm4ubWVzaCxwcmltaXRpdmVJZDpkLHRvU2NlbmVUcmFuc2Zvcm06cn0pfX0pKSl9KSl9KSksUHJvbWlzZS5hbGwocikuY2F0Y2goKGU9PmNvbnNvbGUuZXJyb3IoZSkpKX1mdW5jdGlvbiBMZShlLHQsbyl7cmV0dXJuIG5ldyBQcm9taXNlKChpPT57Y29uc3Qgbj1EYXRlLm5vdygpK28udGltZW91dCxyPSgpPT57Y29uc3Qgcz0oKCk9Pntjb25zdCBvPXQuc2NlbmUucHJpbWl0aXZlcztmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoO3QrKyl7Y29uc3QgaT1vLmdldCh0KTtpZihpIGluc3RhbmNlb2YgcGUmJmkuaWQ9PT1lKXJldHVybiBpfX0pKCk7cmV0dXJuIHM/aShzKTpEYXRlLm5vdygpPm4/aSh2b2lkIDApOnZvaWQgd2luZG93LnNldFRpbWVvdXQocixvLmludGVydmFsKX07cigpfSkpfWNvbnN0IE5lPW5ldyBXZWFrTWFwLE9lPW5ldyB0ZSxGZT1sZS5JREVOVElUWS5jbG9uZSgpLHFlPW5ldyBlZSxIZT1uZXcgbGUsVWU9bmV3IGVlLFZlPW5ldyBsZSx6ZT1uZXcgZWUsJGU9bmV3IGFlLEplPW5ldyBlZSxXZT1uZXcgbGUsWWU9bmV3IGNlO2NsYXNzIFplIGV4dGVuZHMoaChwKGcpKSl7Z2x0Zkl0ZW07Y2VzaXVtO29uVHJhbnNmb3JtYXRpb25DaGFuZ2U7cmVhZHk9ITE7Ym94RHJhd2luZzttb2RlbEJvdW5kaW5nQm94PXttaW5Qb2ludDpuZXcgZWUsbWF4UG9pbnQ6bmV3IGVlfTtwcmV2aW91c1NhdmVkVHJhbnNmb3JtYXRpb25Kc29uO2Rlc3Ryb3lNb2RlbFVwZGF0ZXNTdWJzY3JpcHRpb247ZGVzdHJveUJveERyYXdpbmdVcGRhdGVSZWFjdGlvbjtkZXN0cm95UmVhZHlDaGFuZ2U7X2lzTW9kZWxDbGFtcGVkVG9Hcm91bmQ9ITE7ZGVib3VuY2VkVXBkYXRlTW9kZWxGcm9tSnNvbjt1cGRhdGVNb2RlbEVudGl0eT1YZSgpO2NvbnN0cnVjdG9yKGUsdCxvLGkpe3N1cGVyKHZvaWQgMCxvKSx0aGlzLmdsdGZJdGVtPWUsdGhpcy5jZXNpdW09dCx0aGlzLm9uVHJhbnNmb3JtYXRpb25DaGFuZ2U9aSx6KHRoaXMpLHRoaXMuYm94RHJhd2luZz1mLmZyb21UcmFuc2Zvcm0odCxsZS5JREVOVElUWSx7ZHJhd05vblVuaWZvcm1TY2FsZUdyaXBzOiExfSksdGhpcy5kZWJvdW5jZWRVcGRhdGVNb2RlbEZyb21Kc29uPXJlKChlPT57eSh0aGlzLmdsdGZJdGVtLG0udXNlcixlKX0pLDI1MCx7bWF4V2FpdDoyNTB9KSwkKHRoaXMsXCJtYXBJdGVtc1wiLCgoKT0+dGhpcy5zZXR1cCgpKSksSih0aGlzLFwibWFwSXRlbXNcIiwoKCk9PnRoaXMuZGVzdHJveSgpKSl9c2V0dXAoKXt0aGlzLmRlc3Ryb3lCb3hEcmF3aW5nVXBkYXRlUmVhY3Rpb249VygoKCk9Plt0aGlzLnJlYWR5LHRoaXMubW9kZWxNYXRyaXgsdGhpcy5tb2RlbFRvQm94RHJhd2luZ1RyYW5zZm9ybV0pLCgoKT0+dGhpcy51cGRhdGVCb3hEcmF3aW5nT25UcmFpdHNDaGFuZ2UoKSkpLHRoaXMuZGVzdHJveVJlYWR5Q2hhbmdlPVkoKCgpPT50aGlzLnJlYWR5KSwoKCk9Pnt0aGlzLmJveERyYXdpbmcub25DaGFuZ2U9ZT0+dGhpcy51cGRhdGVUcmFpdHNPbkJveERyYXdpbmdDaGFuZ2UoZSksdGhpcy5zdWJzY3JpYmVNb2RlbFVwZGF0ZXMoKGU9PnRoaXMudXBkYXRlT25DbGFtcGVkUG9zaXRpb25DaGFuZ2UoZSkpKX0pKX1kZXN0cm95KCl7dGhpcy5kZXN0cm95Qm94RHJhd2luZ1VwZGF0ZVJlYWN0aW9uPy4oKSx0aGlzLmRlc3Ryb3lNb2RlbFVwZGF0ZXNTdWJzY3JpcHRpb24/LigpLHRoaXMuZGVzdHJveVJlYWR5Q2hhbmdlPy4oKSx0aGlzLmRlc3Ryb3lCb3hEcmF3aW5nVXBkYXRlUmVhY3Rpb249dm9pZCAwLHRoaXMuZGVzdHJveU1vZGVsVXBkYXRlc1N1YnNjcmlwdGlvbj12b2lkIDAsdGhpcy5kZXN0cm95UmVhZHlDaGFuZ2U9dm9pZCAwLHRoaXMuYm94RHJhd2luZy5vbkNoYW5nZT12b2lkIDB9Z2V0IGlzTW9kZWxDbGFtcGVkVG9Hcm91bmQoKXtyZXR1cm4gdGhpcy5faXNNb2RlbENsYW1wZWRUb0dyb3VuZH1zZXQgaXNNb2RlbENsYW1wZWRUb0dyb3VuZChlKXt0aGlzLl9pc01vZGVsQ2xhbXBlZFRvR3JvdW5kPSEwLHRoaXMuYm94RHJhd2luZy5kaXNhYmxlVmVydGljYWxNb3ZlbWVudD1lLHRoaXMuYm94RHJhd2luZy5rZWVwSGVpZ2h0U3RlYWR5V2hlbk1vdmluZ0xhdGVyYWxseT0hZX1hc3luYyBmb3JjZUxvYWRNYXBJdGVtcygpe2NvbnN0IGU9YXdhaXQgdGhpcy5jb21wdXRlTW9kZWxCb3VuZGluZ0JveCgpO2UmJlooKCgpPT57dGhpcy5tb2RlbEJvdW5kaW5nQm94PWUsdGhpcy5yZWFkeT0hMH0pKX1nZXQgbWFwSXRlbXMoKXtpZighdGhpcy5yZWFkeSlyZXR1cm5bXTtjb25zdCBlPXRoaXMuYm94RHJhd2luZy5kYXRhU291cmNlO3JldHVybiBlLnNob3c9dGhpcy5zaG93LFtlXX1zdWJzY3JpYmVNb2RlbFVwZGF0ZXMoZSl7Y29uc3QgdD1vPT57Y29uc3QgaT1vLnVwZGF0ZTt0aGlzLmRlc3Ryb3lNb2RlbFVwZGF0ZXNTdWJzY3JpcHRpb249KCk9PntvLnVwZGF0ZT1pfSxvLnVwZGF0ZT0oLi4ubik9PntpZihvIT09dGhpcy5nZXRDZXNpdW1Nb2RlbCgpKXtjb25zdCBlPXRoaXMuZ2V0Q2VzaXVtTW9kZWwoKTtlJiYodGhpcy5kZXN0cm95TW9kZWxVcGRhdGVzU3Vic2NyaXB0aW9uPy4oKSx0KGUpKX1pLmFwcGx5KG8sbiksZShvKX19LG89dGhpcy5nZXRDZXNpdW1Nb2RlbCgpO28mJnQobyl9Z2V0Q2VzaXVtTW9kZWwoKXtjb25zdCBlPXRoaXMuY2VzaXVtLnNjZW5lLnByaW1pdGl2ZXMsdD10aGlzLmdsdGZJdGVtLm1vZGVsRW50aXR5O2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCBpPWUuZ2V0KG8pO2lmKGkgaW5zdGFuY2VvZiBwZSYmaS5pZD09PXQpcmV0dXJuIGl9fXVwZGF0ZUJveERyYXdpbmdPblRyYWl0c0NoYW5nZSgpe2lmKCF0aGlzLnJlYWR5KXJldHVybjtjb25zdCBlPXRoaXMuY29tcHV0ZUJveERyYXdpbmdUcmFuc2Zvcm0odGhpcy5tb2RlbE1hdHJpeCxGZSk7dGhpcy5ib3hEcmF3aW5nLnNldFRyYW5zZm9ybShlKX11cGRhdGVUcmFpdHNPbkJveERyYXdpbmdDaGFuZ2UoZSl7bGV0e21vZGVsTWF0cml4OnQsaXNGaW5pc2hlZDpvfT1lO2NvbnN0IGk9bGUubXVsdGlwbHkodCxaKCgoKT0+dGhpcy5pbnZlcnNlTW9kZWxUb0JveERyYXdpbmdUcmFuc2Zvcm0pKSxWZSksbj1sZS5nZXRUcmFuc2xhdGlvbihpLHplKSxyPXVlLmZpeGVkRnJhbWVUb0hlYWRpbmdQaXRjaFJvbGwoaSxzZS5XR1M4NCx1ZS5lYXN0Tm9ydGhVcFRvRml4ZWRGcmFtZSwkZSkscz1jZS5mcm9tUm90YXRpb25NYXRyaXgobGUuZ2V0Um90YXRpb24oaSxXZSksWWUpLGE9ZWUubWF4aW11bUNvbXBvbmVudChsZS5nZXRTY2FsZShpLEplKSksZD1mdW5jdGlvbihlLHQsbyl7Y29uc3QgaT10ZS5mcm9tQ2FydGVzaWFuKGUsdm9pZCAwLE9lKSxuPURlKGRlLnRvRGVncmVlcyhpLmxhdGl0dWRlKSwxMikscj1EZShkZS50b0RlZ3JlZXMoaS5sb25naXR1ZGUpLDEyKSxzPURlKGkuaGVpZ2h0LDEyKSxhPURlKGRlLnRvRGVncmVlcyh0LmhlYWRpbmcpLDEyKSxkPURlKGRlLnRvRGVncmVlcyh0LnBpdGNoKSwxMiksbD1EZShkZS50b0RlZ3JlZXModC5yb2xsKSwxMik7cmV0dXJue29yaWdpbjp7bGF0aXR1ZGU6bixsb25naXR1ZGU6cixoZWlnaHQ6c30scm90YXRpb246e2hlYWRpbmc6YSxwaXRjaDpkLHJvbGw6bH0sc2NhbGU6RGUobywxMil9fShuLHIsYSk7dGhpcy5wcmV2aW91c1NhdmVkVHJhbnNmb3JtYXRpb25Kc29ufHwodGhpcy5wcmV2aW91c1NhdmVkVHJhbnNmb3JtYXRpb25Kc29uPXRoaXMuZ2x0Zkl0ZW0udHJhbnNmb3JtYXRpb25Kc29uKSx0aGlzLnVwZGF0ZU1vZGVsRW50aXR5KHRoaXMuZ2x0Zkl0ZW0ubW9kZWxFbnRpdHksbixzLGEpLHRoaXMuZGVib3VuY2VkVXBkYXRlTW9kZWxGcm9tSnNvbihkKSxvJiYodGhpcy5vblRyYW5zZm9ybWF0aW9uQ2hhbmdlKGQsdGhpcy5wcmV2aW91c1NhdmVkVHJhbnNmb3JtYXRpb25Kc29uKSx0aGlzLnByZXZpb3VzU2F2ZWRUcmFuc2Zvcm1hdGlvbkpzb249dm9pZCAwKX11cGRhdGVPbkNsYW1wZWRQb3NpdGlvbkNoYW5nZShlKXtjb25zdCB0PWUuX2NsYW1wZWRNb2RlbE1hdHJpeDtpZighdClyZXR1cm47Y29uc3Qgbz1sZS5nZXRUcmFuc2xhdGlvbih0LHFlKTtpZihlZS5lcXVhbHNFcHNpbG9uKHRoaXMuZ2x0Zkl0ZW0uY2VzaXVtUG9zaXRpb24sbyxkZS5FUFNJTE9OOSkpcmV0dXJuO2NvbnN0IGk9bGUubXVsdGlwbHlCeVVuaWZvcm1TY2FsZSh0LGUuc2NhbGUsSGUpLG49dGhpcy5jb21wdXRlQm94RHJhd2luZ1RyYW5zZm9ybShpLEZlKTt0aGlzLmJveERyYXdpbmcuc2V0VHJhbnNmb3JtKG4pLHRoaXMudXBkYXRlVHJhaXRzT25Cb3hEcmF3aW5nQ2hhbmdlKHttb2RlbE1hdHJpeDpuLGlzRmluaXNoZWQ6ITF9KX1nZXQgbW9kZWxNYXRyaXgoKXtjb25zdCBlPXRoaXMuZ2x0Zkl0ZW0uc2NhbGU/PzEsdD1VZTtyZXR1cm4gdC54PWUsdC55PWUsdC56PWUsbGUuZnJvbVRyYW5zbGF0aW9uUXVhdGVybmlvblJvdGF0aW9uU2NhbGUodGhpcy5nbHRmSXRlbS5jZXNpdW1Qb3NpdGlvbix0aGlzLmdsdGZJdGVtLmNlc2l1bVJvdGF0aW9uLHQsSGUpfWdldCBtb2RlbFRvQm94RHJhd2luZ1RyYW5zZm9ybSgpe2NvbnN0IGU9dGhpcy5jb21wdXRlQm91bmRpbmdCb3hUcmFuc2Zvcm0odGhpcy5tb2RlbEJvdW5kaW5nQm94LG5ldyBsZSk7cmV0dXJuIGxlLm11bHRpcGx5KHRoaXMuYXhpc0NvcnJlY3Rpb25NYXRyaXgsbGUubXVsdGlwbHkoZSx0aGlzLmludmVyc2VBeGlzQ29ycmVjdGlvbk1hdHJpeCxuZXcgbGUpLG5ldyBsZSl9Z2V0IGludmVyc2VNb2RlbFRvQm94RHJhd2luZ1RyYW5zZm9ybSgpe3JldHVybiBsZS5pbnZlcnNlKHRoaXMubW9kZWxUb0JveERyYXdpbmdUcmFuc2Zvcm0sbmV3IGxlKX1nZXQgYXhpc0NvcnJlY3Rpb25NYXRyaXgoKXtyZXR1cm4gZT10aGlzLmdsdGZJdGVtLmNlc2l1bVVwQXhpcyx0PXRoaXMuZ2x0Zkl0ZW0uY2VzaXVtRm9yd2FyZEF4aXMsbz1uZXcgbGUsbz1sZS5jbG9uZShsZS5JREVOVElUWSxvKSxlPT09eWUuWT9vPWxlLmNsb25lKHllLllfVVBfVE9fWl9VUCxvKTplPT09eWUuWCYmKG89bGUuY2xvbmUoeWUuWF9VUF9UT19aX1VQLG8pKSx0PT09eWUuWiYmKG89bGUubXVsdGlwbHlUcmFuc2Zvcm1hdGlvbihvLHllLlpfVVBfVE9fWF9VUCxvKSksbzt2YXIgZSx0LG99Z2V0IGludmVyc2VBeGlzQ29ycmVjdGlvbk1hdHJpeCgpe3JldHVybiBsZS5pbnZlcnNlKHRoaXMuYXhpc0NvcnJlY3Rpb25NYXRyaXgsbmV3IGxlKX1jb21wdXRlQm94RHJhd2luZ1RyYW5zZm9ybShlLHQpe3JldHVybiBsZS5tdWx0aXBseShlLHRoaXMubW9kZWxUb0JveERyYXdpbmdUcmFuc2Zvcm0sdCl9YXN5bmMgY29tcHV0ZU1vZGVsQm91bmRpbmdCb3goKXt0aGlzLmNlc2l1bS5ub3RpZnlSZXBhaW50UmVxdWlyZWQoKTtjb25zdCBlPWF3YWl0IExlKHRoaXMuZ2x0Zkl0ZW0ubW9kZWxFbnRpdHksdGhpcy5jZXNpdW0se2ludGVydmFsOjEwLHRpbWVvdXQ6MWUzfSk7aWYoIWUpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBmaW5kIHRoZSBDZXNpdW0gbW9kZWwgZm9yIHRoZSBnbFRGIGNhdGFsb2cgaXRlbS5cIik7Y29uc3QgdD1OZS5nZXQoZSk/P2F3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmxvYWRlcj8uZ2x0Zkpzb247cmV0dXJuIHZvaWQgMCE9PXQ/LmFzc2V0P3Q6dm9pZCAwfShlKTtpZighdClyZXR1cm47Y29uc3Qgbz1lZS5mcm9tRWxlbWVudHMoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsbmV3IGVlKSxpPWVlLmZyb21FbGVtZW50cygtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSxuZXcgZWUpO2xldCBuPSExO3JldHVybiBhd2FpdCBCZSh0LGUsKChlLHQpPT57bj0hMCxsZS5tdWx0aXBseUJ5UG9pbnQodC50b1NjZW5lVHJhbnNmb3JtLGUsZSksZWUubWluaW11bUJ5Q29tcG9uZW50KGUsbyxvKSxlZS5tYXhpbXVtQnlDb21wb25lbnQoZSxpLGkpfSkpLG4/e21pblBvaW50Om8sbWF4UG9pbnQ6aX06dm9pZCAwfShlKTtyZXR1cm4gdCYmTmUuc2V0KGUsdCksdH1jb21wdXRlQm91bmRpbmdCb3hUcmFuc2Zvcm0oZSx0KXtjb25zdCBvPWVlLnN1YnRyYWN0KGUubWF4UG9pbnQsZS5taW5Qb2ludCxuZXcgZWUpLGk9ZWUuYWRkKGUubWluUG9pbnQsZWUubXVsdGlwbHlCeVNjYWxhcihvLC41LG5ldyBlZSksbmV3IGVlKTtyZXR1cm4gbGUuZnJvbVRyYW5zbGF0aW9uUXVhdGVybmlvblJvdGF0aW9uU2NhbGUoaSxjZS5JREVOVElUWSxvLHQpfX1uZShbWF0sWmUucHJvdG90eXBlLFwicmVhZHlcIix2b2lkIDApLG5lKFtYXSxaZS5wcm90b3R5cGUsXCJtb2RlbEJvdW5kaW5nQm94XCIsdm9pZCAwKSxuZShbS10sWmUucHJvdG90eXBlLFwibWFwSXRlbXNcIixudWxsKSxuZShbS10sWmUucHJvdG90eXBlLFwibW9kZWxUb0JveERyYXdpbmdUcmFuc2Zvcm1cIixudWxsKSxuZShbS10sWmUucHJvdG90eXBlLFwiaW52ZXJzZU1vZGVsVG9Cb3hEcmF3aW5nVHJhbnNmb3JtXCIsbnVsbCksbmUoW0tdLFplLnByb3RvdHlwZSxcImF4aXNDb3JyZWN0aW9uTWF0cml4XCIsbnVsbCksbmUoW0tdLFplLnByb3RvdHlwZSxcImludmVyc2VBeGlzQ29ycmVjdGlvbk1hdHJpeFwiLG51bGwpO2NvbnN0IFhlPSgpPT57Y29uc3QgZT1uZXcgbWUsdD1uZXcgaGUsbz1uZXcgaGUsaT1uZXcgZWUsbj1uZXcgY2U7cmV0dXJuIGZ1bmN0aW9uKHIscyxhLGQpe2Uuc2V0VmFsdWUoZWUuY2xvbmUocyxpKSksdC5zZXRWYWx1ZShjZS5jbG9uZShhLG4pKSxyLnBvc2l0aW9uPWUsci5vcmllbnRhdGlvbj10LHIubW9kZWwmJihvLnNldFZhbHVlKGQpLHIubW9kZWwuc2NhbGU9byl9fSxLZT0oe21vZGVsOnQsb25DaGFuZ2U6byx0ZXJyaWE6aX0pPT57Y29uc3RbbixzXT1yKCExKSxhPWU9Pntjb25zdCB0PW9lKCk7bGV0IG47cyghMCksbygoYXN5bmMoKT0+e2NvbnN0IG89YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0LG8pe2NvbnN0IGk9YXdhaXQgdHQoZSx0LG8pO2lmKCFpKXJldHVybjtyZXR1cm4gaS5zZXRUcmFpdChtLnVzZXIsXCJuYW1lXCIsZnVuY3Rpb24oZSx0KXtjb25zdCBvPVtdLGk9ZS5uYW1lPy5yZXBsYWNlKC8gXFwoY29weSBbMC05XStcXCkkLyxcIlwiKTtpJiZ0Lml0ZW1zLmZvckVhY2goKGU9PntNLmlzTWl4ZWRJbnRvKGUpJiZlLm5hbWUmJmUubmFtZS5zdGFydHNXaXRoKGkpJiZvLnB1c2goZS5uYW1lKX0pKTtjb25zdCBuPW8ubGVuZ3RoO3JldHVybmAke2l9IChjb3B5ICR7bn0pYH0oZSxvLndvcmtiZW5jaCkpLGF3YWl0IG8ud29ya2JlbmNoLmFkZChpKSxpfShlLHQsaSk7aWYobylyZXR1cm4gbnx8KG49YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0LG8pe2NvbnN0IGk9dC5jZXNpdW07aWYoIWkpcmV0dXJuO2NvbnN0IG49ZS5jZXNpdW1Qb3NpdGlvbixyPWkuc2NlbmUuY2FtZXJhLHM9dC5vdmVybGF5cy5pdGVtcy5maW5kKChlPT5lIGluc3RhbmNlb2YgWmUpKSxhPShzJiZzLmJveERyYXdpbmc/LnRycy5zY2FsZSk/P25ldyBlZShlLnNjYWxlLGUuc2NhbGUsZS5zY2FsZSksZD1lZS5hZGQoZWUubXVsdGlwbHlDb21wb25lbnRzKHIucmlnaHQsYSxRZSksbixRZSksbD10ZS5mcm9tQ2FydGVzaWFuKGQsdm9pZCAwLGV0KTtyZXR1cm4gYXdhaXQgaWUoaS5zY2VuZS50ZXJyYWluUHJvdmlkZXIsW2xdKS5jYXRjaChjb25zb2xlLmVycm9yKSx0ZS50b0NhcnRlc2lhbihsLHZvaWQgMCxvKSxvfShlLGksbmV3IGVlKT8/Uy50b0NhcnRlc2lhbihlLm9yaWdpbixuZXcgZWUpKSxuJiZTLnNldEZyb21DYXJ0ZXNpYW4oby5vcmlnaW4sbS51c2VyLG4pLG99KSwoKCk9PmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbz10LmdldE1vZGVsQnlJZChiLGUpO28mJnQucmVtb3ZlTW9kZWxSZWZlcmVuY2VzKG8pfSh0LGkpKSkuZmluYWxseSgoKCk9PnMoITEpKSl9O3JldHVybiBlKEMse3RpdGxlOlwiRHVwbGljYXRlIHNlbGVjdGVkIG1vZGVsXCIsb25DbGljazooKT0+dCYmYSh0KSxkaXNhYmxlZDp2b2lkIDA9PT10fHxuLHNob3dQcm9jZXNzaW5nSWNvbjpuLGljb246a2V9KX07Y29uc3QgUWU9bmV3IGVlLGV0PW5ldyB0ZTtjb25zdCB0dD1RKChhc3luYyhlLHQsbyk9Pntjb25zdCBpPW5ldyB2KHQsbyksbj13LmlzTWl4ZWRJbnRvKGUpP2UubmVzdGVkVGFyZ2V0OmU7aWYoIW4pcmV0dXJuO2NvbnN0IHI9bi51bmlxdWVJZDtyZXR1cm4gaS5zZXRUcmFpdChtLnVzZXIsXCJzcGxpdFNvdXJjZUl0ZW1JZFwiLHIpLG8uYWRkTW9kZWwoaSksYXdhaXQgaS5sb2FkUmVmZXJlbmNlKCksWigoYXN5bmMoKT0+e2lmKHZvaWQgMD09PWkudGFyZ2V0KXJldHVybjtjb25zdCB0PWkudGFyZ2V0O3JldHVybiB4LmlzKGUpJiZ4LmlzKHQpJiYodC5oYXNMb2NhbERhdGE9ZS5oYXNMb2NhbERhdGEpLHR9KSl9KSk7Y29uc3Qgb3Q9bChUKS5hdHRycyh7ZnVsbFdpZHRoOiEwLGNvbHVtbjohMCxzdHlsZWRNYXJnaW46XCIxNXB4IDBcIn0pYGAsaXQ9bChJKS5hdHRycyh7cG9zaXRpb246XCJyZWxhdGl2ZVwiLGJvbGQ6ITAsdGV4dExpZ2h0OiEwLGFzOlwibGFiZWxcIn0pYFxuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG5gLG50PSh7ZGV0YWlsczp0fSk9PmUodXQse1wiZGF0YS10b29sdGlwXCI6dCxcImFyaWEtbGFiZWxcIjp0LGNoaWxkcmVuOmUoRCx7ZmlsbENvbG9yOlwiI2NjY1wiLHN0eWxlZFdpZHRoOlwiMTZweFwiLHN0eWxlZEhlaWdodDpcIjE2cHhcIixnbHlwaDpFLkdMWVBIUy5pbmZvfSl9KSxydD1sKFApYFxuICBib3JkZXItcmFkaXVzOiA2cHg7XG4gIG1hcmdpbi10b3A6IDdweDtcbmAsc3Q9bChrKWBcbiAgbWFyZ2luLXRvcDogN3B4O1xuICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICR7ZT0+ZS5lcnJvciYmXCJib3JkZXI6IDJweCBzb2xpZCByZWQ7XCJ9XG4gICR7ZT0+ZS5kaXNhYmxlZCYmXCJ7Y3Vyc29yOiBub3QtYWxsb3dlZDt9XCJ9XG5gLGF0PWwoQSlgXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgbWFyZ2luLXRvcDogMTBweDtcbmAsZHQ9KHt0aXRsZTpvLGNoaWxkcmVuOmksaXNPcGVuSW5pdGlhbGx5Om49ITAsY2xhc3NOYW1lOnMsdGl0bGVSaWdodENvbXBvbmVudDphfSk9Pntjb25zdFtkLGxdPXIobik7cmV0dXJuIHQoXCJkaXZcIix7Y2xhc3NOYW1lOnMsY2hpbGRyZW46W3QobHQse29uQ2xpY2s6KCk9PmwoKGU9PiFlKSksY2hpbGRyZW46W2UoRCx7Z2x5cGg6ZD9FLkdMWVBIUy5hY2NvcmRpb25DbG9zZTpFLkdMWVBIUy5hY2NvcmRpb25PcGVuLHN0eWxlZFdpZHRoOlwiMTRweFwiLHN0eWxlZEhlaWdodDpcIjE0cHhcIixsaWdodDohMCxzdHlsZTp7bWFyZ2luUmlnaHQ6XCI1cHhcIixtYXJnaW5MZWZ0OlwiLTEycHhcIn19KSxlKEkse3RleHRMaWdodDohMCxtZWRpdW06ITAsYm9sZDohMCxjaGlsZHJlbjpvfSksZShcImRpdlwiLHtzdHlsZTp7bWFyZ2luTGVmdDpcImF1dG9cIn0sY2hpbGRyZW46YSYmYSgpfSldfSksZCYmZShcImRpdlwiLHtjaGlsZHJlbjppfSldfSl9LGx0PWwuZGl2YFxuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBjdXJzb3I6IHBvaW50ZXI7XG5gLGN0PW4ubWVtbygoKHtvblZhbHVlQ2hhbmdlOnQsLi4ub30pPT57Y29uc3RbaSxuXT1yKCExKSxzPWk/XCJcIjpvLnZhbHVlPz9cIlwiO3JldHVybiBlKHN0LHsuLi5vLHZhbHVlOnMsb25DaGFuZ2U6ZT0+e2NvbnN0IG89ZS50YXJnZXQudmFsdWUudHJpbSgpO1wiXCI9PT1vPyhuKCEwKSx0KHZvaWQgMCkpOihuKCExKSx0KG8pKX0sdGl0bGU6by5kaXNhYmxlZCYmby5kaXNhYmxlZFRpdGxlP28uZGlzYWJsZWRUaXRsZTpvLnRpdGxlfSl9KSksdXQ9bC5kaXZgXG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcblxuICAmOmhvdmVyOjphZnRlciB7XG4gICAgY29udGVudDogYXR0cihkYXRhLXRvb2x0aXApO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDIwcHg7XG4gICAgbGVmdDogMjBweDtcbiAgICBwYWRkaW5nOiA3cHggOHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM2NjY7XG4gICAgYm9yZGVyLXJhZGl1czogN3B4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoODYsIDg2LCA4NiwgMSk7XG4gICAgYm94LXNoYWRvdzogN3B4IDdweCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gICAgZm9udC1zaXplOiAxNXB4O1xuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIHotaW5kZXg6IDEwO1xuICB9XG5gO2Z1bmN0aW9uIG10KGUpe3JldHVybiB3LmlzTWl4ZWRJbnRvKGUpP2UubmVzdGVkVGFyZ2V0OmV9ZnVuY3Rpb24gaHQoZSx0LG8pe2NvbnN0IGk9by53b3JrYmVuY2guaXRlbXMuZmluZCgodD0+dC51bmlxdWVJZD09PWUmJnUuaXNNaXhlZEludG8obXQodCkpKSk7cmV0dXJuIGkmJnkoaSxtLnVzZXIsdCksaX1jb25zdCBwdD1pKCgoe2l0ZW06ZSxpc01vZGVsQ2xhbXBlZFRvR3JvdW5kOnQsY2VzaXVtOm8sdGVycmlhOmksb25DaGFuZ2U6bn0pPT57Y29uc3RbcyxkXT1yKCk7cmV0dXJuIGEoKGZ1bmN0aW9uKCl7Y29uc3QgdD1uZXcgWmUoZSxvLGksbik7cmV0dXJuIGkub3ZlcmxheXMuYWRkKHQpLGQodCksKCk9PntkKHZvaWQgMCksaS5vdmVybGF5cy5yZW1vdmUodCl9fSksW2UsbixvLGldKSxhKChmdW5jdGlvbigpe3MmJihzLmlzTW9kZWxDbGFtcGVkVG9Hcm91bmQ9dCl9KSxbcyx0XSksbnVsbH0pKTtjbGFzcyBndHtnZW9pZDthc3luYyBnZXRPckxvYWRHZW9pZCgpe2lmKHRoaXMuZ2VvaWQpcmV0dXJuIHRoaXMuZ2VvaWQ7Y29uc3QgZT1hd2FpdCBSKFwiaHR0cHM6Ly9zdG9yYWdlLmdvb2dsZWFwaXMuY29tL3RlcnJpYS1kYXRhc2V0cy1wdWJsaWMvc2NlbmUtZWRpdG9yL0FVU0dlb2lkMDkudGlmXCIpLHQ9YXdhaXQoYXdhaXQgaW1wb3J0KFwiZ2VvdGlmZlwiKSkuZnJvbUJsb2IoZSksbz1hd2FpdCB0LmdldEltYWdlKCksaT0oYXdhaXQgdC5yZWFkUmFzdGVycygpKVswXSxuPW8uZ2V0VGllUG9pbnRzKClbMF0scj1vLmdldEZpbGVEaXJlY3RvcnkoKS5Nb2RlbFBpeGVsU2NhbGU7cmV0dXJuIHRoaXMuZ2VvaWQ9e2ltYWdlOm8scmFzdGVyOmksdGllUG9pbnQ6bixwaXhlbFNjYWxlOnJ9LHRoaXMuZ2VvaWR9YXN5bmMgZ2V0SGVpZ2h0KGUsdCl7Y29uc3Qgbz1hd2FpdCB0aGlzLmdldE9yTG9hZEdlb2lkKCksaT0odC1vLnRpZVBvaW50LngpL28ucGl4ZWxTY2FsZVswXSxuPShlLW8udGllUG9pbnQueSkvKC0xKm8ucGl4ZWxTY2FsZVsxXSk7aWYoaTwwfHxpPj1vLmltYWdlLmdldFdpZHRoKCkpcmV0dXJuIDA7aWYobjwwfHxuPj1vLmltYWdlLmdldEhlaWdodCgpKXJldHVybiAwO2NvbnN0IHI9TWF0aC5mbG9vcihpKSxzPU1hdGguZmxvb3IobiksYT1bXTtmb3IobGV0IGU9cy0xLHQ9MDtlPD1zKzI7ZSsrLHQrKylmb3IobGV0IGk9ci0xLG49MDtpPD1yKzI7aSsrLG4rKylhW25dfHwoYVtuXT1bXSksYVt0XVtuXT1vLnJhc3RlcltpK2Uqby5pbWFnZS5nZXRXaWR0aCgpXTtyZXR1cm4geXQuYXBwbHkodm9pZCAwLFt7eDppLXIseTpuLXN9LC4uLmFbMF0sLi4uYVsxXSwuLi5hWzJdLC4uLmFbM11dKX19ZnVuY3Rpb24gZnQoZSx0LG8saSxuLHIpe3JldHVybigoKC1lKm8rKDItZSkqaSsoZS0yKSpuK2UqcikqdCsoMiplKm8rKGUtMykqaSsoMy0yKmUpKm4tZSpyKSkqdCsoLWUqbytlKm4pKSp0K2l9ZnVuY3Rpb24geXQoZSx0LG8saSxuLHIscyxhLGQsbCxjLHUsbSxoLHAsZyxmKXtsZXQgeT0uNTtyZXR1cm4gZnQoeSxlLngsZnQoeSxlLnksdCxvLGksbiksZnQoeSxlLnkscixzLGEsZCksZnQoeSxlLnksbCxjLHUsbSksZnQoeSxlLnksaCxwLGcsZikpfWNvbnN0IHZ0PWU9Pih7aXM6XCJva1wiLHZhbHVlOmV9KSx3dD1lPT4oe2lzOlwiZXJyb3JcIixlcnJvcjplfSk7Y2xhc3MgeHR7bG9uZ2l0dWRlO2xhdGl0dWRlO2hlaWdodDtjb25zdHJ1Y3RvcihlPTAsdD0wLG89MCl7dGhpcy5sb25naXR1ZGU9ZSx0aGlzLmxhdGl0dWRlPXQsdGhpcy5oZWlnaHQ9b31zdGF0aWMgcGFyc2UoZSl7Y29uc3QgdD1mdW5jdGlvbihlKXtjb25zdCB0PUFlKGUpLG89ZT8ubWF0Y2goL0UvKT90OmU/Lm1hdGNoKC9XLykmJnZvaWQgMCE9PXQ/LTEqdDp0O2lmKHZvaWQgMCE9PW8pcmV0dXJuIE1hdGguYWJzKG8pPj0wJiZNYXRoLmFicyhvKTw9MTgwP286dm9pZCAwfShlLmxvbmdpdHVkZSksbz1mdW5jdGlvbihlKXtjb25zdCB0PUFlKGUpLG89ZT8ubWF0Y2goL04vKT90OmU/Lm1hdGNoKC9TLykmJnZvaWQgMCE9PXQ/LTEqdDp0O2lmKHZvaWQgMCE9PW8pcmV0dXJuIE1hdGguYWJzKG8pPj0wJiZNYXRoLmFicyhvKTw9OTA/bzp2b2lkIDB9KGUubGF0aXR1ZGUpLGk9QWUoZS5oZWlnaHQpO3JldHVybiB2b2lkIDA9PT10fHx2b2lkIDA9PT1vfHx2b2lkIDA9PT1pP3d0KHtsb25naXR1ZGU6dm9pZCAwPT09dCxsYXRpdHVkZTp2b2lkIDA9PT1vLGhlaWdodDp2b2lkIDA9PT1pfSk6dnQobmV3IHh0KHQsbyxpKSl9c3RyaW5naWZ5VmFsdWVzKCl7cmV0dXJue2xvbmdpdHVkZTpqZSh0aGlzLmxvbmdpdHVkZSksbGF0aXR1ZGU6amUodGhpcy5sYXRpdHVkZSksaGVpZ2h0OlJlKHRoaXMuaGVpZ2h0KX19fWNvbnN0IEN0PXJlcXVpcmUoXCJwcm9qNFwiKS5kZWZhdWx0O3ZhciBTdD17Z2RhOTQ6bmV3IEN0LlByb2ooXCIrcHJvaj1sb25nbGF0ICtlbGxwcz1HUlM4MCArbm9fZGVmcyArdHlwZT1jcnNcIiksZ2RhMjAyMDpuZXcgQ3QuUHJvaihcIitwcm9qPWxvbmdsYXQgK2VsbHBzPUdSUzgwICt0b3dnczg0PS0wLjA2MTU1LDAuMDEwODcsMC4wNDAxOSwtMC4wMzk0OTI0LC0wLjAzMjcyMjEsLTAuMDMyODk3OTAsMC4wMDk5OTQgK25vX2RlZnNcIiksMjgzNDk6bmV3IEN0LlByb2ooXCIrcHJvaj11dG0gK3pvbmU9NDkgK3NvdXRoICtlbGxwcz1HUlM4MCArdG93Z3M4ND0wLDAsMCwwLDAsMCwwICt1bml0cz1tICtub19kZWZzICt0eXBlPWNyc1wiKSwyODM1MDpuZXcgQ3QuUHJvaihcIitwcm9qPXV0bSArem9uZT01MCArc291dGggK2VsbHBzPUdSUzgwICt0b3dnczg0PTAsMCwwLDAsMCwwLDAgK3VuaXRzPW0gK25vX2RlZnMgK3R5cGU9Y3JzXCIpLDI4MzUxOm5ldyBDdC5Qcm9qKFwiK3Byb2o9dXRtICt6b25lPTUxICtzb3V0aCArZWxscHM9R1JTODAgK3Rvd2dzODQ9MCwwLDAsMCwwLDAsMCArdW5pdHM9bSArbm9fZGVmcyArdHlwZT1jcnNcIiksMjgzNTI6bmV3IEN0LlByb2ooXCIrcHJvaj11dG0gK3pvbmU9NTIgK3NvdXRoICtlbGxwcz1HUlM4MCArdG93Z3M4ND0wLDAsMCwwLDAsMCwwICt1bml0cz1tICtub19kZWZzICt0eXBlPWNyc1wiKSwyODM1MzpuZXcgQ3QuUHJvaihcIitwcm9qPXV0bSArem9uZT01MyArc291dGggK2VsbHBzPUdSUzgwICt0b3dnczg0PTAsMCwwLDAsMCwwLDAgK3VuaXRzPW0gK25vX2RlZnMgK3R5cGU9Y3JzXCIpLDI4MzU0Om5ldyBDdC5Qcm9qKFwiK3Byb2o9dXRtICt6b25lPTU0ICtzb3V0aCArZWxscHM9R1JTODAgK3Rvd2dzODQ9MCwwLDAsMCwwLDAsMCArdW5pdHM9bSArbm9fZGVmcyArdHlwZT1jcnNcIiksMjgzNTU6bmV3IEN0LlByb2ooXCIrcHJvaj11dG0gK3pvbmU9NTUgK3NvdXRoICtlbGxwcz1HUlM4MCArdG93Z3M4ND0wLDAsMCwwLDAsMCwwICt1bml0cz1tICtub19kZWZzICt0eXBlPWNyc1wiKSwyODM1NjpuZXcgQ3QuUHJvaihcIitwcm9qPXV0bSArem9uZT01NiArc291dGggK2VsbHBzPUdSUzgwICt0b3dnczg0PTAsMCwwLDAsMCwwLDAgK3VuaXRzPW0gK25vX2RlZnMgK3R5cGU9Y3JzXCIpfTtjbGFzcyBidHt4O3k7ejtjb25zdHJ1Y3RvcihlPTAsdD0wLG89MCl7dGhpcy54PWUsdGhpcy55PXQsdGhpcy56PW99c3RhdGljIHBhcnNlKGUpe2NvbnN0IHQ9QWUoZS54KSxvPUFlKGUueSksaT1BZShlLnopO3JldHVybiB2b2lkIDA9PT10fHx2b2lkIDA9PT1vfHx2b2lkIDA9PT1pP3d0KHt4OnZvaWQgMD09PXQseTp2b2lkIDA9PT1vLHo6dm9pZCAwPT09aX0pOnZ0KG5ldyBidCh0LG8saSkpfXN0cmluZ2lmeVZhbHVlcygpe3JldHVybnt4OlJlKHRoaXMueCkseTpSZSh0aGlzLnkpLHo6UmUodGhpcy56KX19fWNvbnN0IE10PXJlcXVpcmUoXCJwcm9qNFwiKS5kZWZhdWx0O2NsYXNzIFR0e2F1c0dlb2lkMDk9bmV3IGd0O25hdGl2ZVNycz1QdDthdmFpbGFibGVTcnM9W0l0KDQ5LFwiR0RBOTQgTUdBIFpvbmUgNDkgKyBBSERcIix0aGlzLmF1c0dlb2lkMDkpLEl0KDUwLFwiR0RBOTQgTUdBIFpvbmUgNTAgKyBBSERcIix0aGlzLmF1c0dlb2lkMDkpLEl0KDUxLFwiR0RBOTQgTUdBIFpvbmUgNTEgKyBBSERcIix0aGlzLmF1c0dlb2lkMDkpLEl0KDUyLFwiR0RBOTQgTUdBIFpvbmUgNTIgKyBBSERcIix0aGlzLmF1c0dlb2lkMDkpLEl0KDUzLFwiR0RBOTQgTUdBIFpvbmUgNTMgKyBBSERcIix0aGlzLmF1c0dlb2lkMDkpLEl0KDU0LFwiR0RBOTQgTUdBIFpvbmUgNTQgKyBBSERcIix0aGlzLmF1c0dlb2lkMDkpLEl0KDU1LFwiR0RBOTQgTUdBIFpvbmUgNTUgKyBBSERcIix0aGlzLmF1c0dlb2lkMDkpLEl0KDU2LFwiR0RBOTQgTUdBIFpvbmUgNTYgKyBBSERcIix0aGlzLmF1c0dlb2lkMDkpXTtmaW5kU3JzQnlOYW1lKGUpe3JldHVybiB0aGlzLm5hdGl2ZVNycy5uYW1lPT09ZT90aGlzLm5hdGl2ZVNyczp0aGlzLmF2YWlsYWJsZVNycy5maW5kKCh0PT50Lm5hbWU9PT1lKSl9fWZ1bmN0aW9uIEl0KGUsdCxvKXtyZXR1cm57bmFtZTp0LHR5cGU6XCJwcm9qZWN0ZWRcIixQb2ludDpidCxmaWVsZHM6e3g6e25hbWU6XCJYIChtZXRyZXMpXCJ9LHk6e25hbWU6XCJZIChtZXRyZXMpXCJ9LHo6e25hbWU6XCJBSEQgSGVpZ2h0IChtZXRyZXMpXCIsZGV0YWlsczpcIkFIRCAoQXVzdHJhbGlhbiBIZWlnaHQgRGF0dW0pIGhlaWdodCBpbiBtZXRyZXMuIE5vdGUgdGhhdCB0aGUgaW5wdXQgQUhEIGhlaWdodCBpcyBjb252ZXJ0ZWQgdG8gZWxsaXBzb2lkYWwgaGVpZ2h0IGJ5IGludGVycG9sYXRpbmcgaGVpZ2h0IHZhbHVlcyBsb29rZWQgdXAgZnJvbSBBdXNHZW9pZDA5IGdyaWQuIFRoaXMgY2FuIHJlc3VsdCBpbiBlcnJvcnMgdXAgdG8gdGVucyBvZiBjZW50aW1ldHJlcy5cIn19LGZyb21OYXRpdmVUb1Nyc1BvaW50OmFzeW5jIGZ1bmN0aW9uKHQpe2NvbnN0IGk9TXQudHJhbnNmb3JtKFN0LmdkYTIwMjAsU3QuZ2RhOTQsW3QubG9uZ2l0dWRlLHQubGF0aXR1ZGUsdC5oZWlnaHRdKSxuPWF3YWl0IG8uZ2V0SGVpZ2h0KGkueSxpLngpLHI9aS56LW47aS56PXI7Y29uc3Qgcz1NdC50cmFuc2Zvcm0oU3QuZ2RhOTQsU3RbYDI4MyR7ZX1gXSxpKTtyZXR1cm4gbmV3IGJ0KHMueCxzLnkscy56KX0sZnJvbVNyc1RvTmF0aXZlUG9pbnQ6YXN5bmMgdD0+e2NvbnN0IGk9TXQudHJhbnNmb3JtKFN0W2AyODMke2V9YF0sU3QuZ2RhOTQsW3QueCx0LnksdC56XSksbj1hd2FpdCBvLmdldEhlaWdodChpLnksaS54KSxyPWkueituO2kuej1yO2NvbnN0IHM9TXQudHJhbnNmb3JtKFN0LmdkYTk0LFN0LmdkYTIwMjAsaSk7cmV0dXJuIG5ldyB4dChzLngscy55LHMueil9fX1jb25zdCBQdD17bmFtZTpcIkdEQTIwMjBcIix0eXBlOlwiZ2VvZ3JhcGhpY1wiLFBvaW50Onh0LGZpZWxkczp7bG9uZ2l0dWRlOntuYW1lOlwiTG9uZ2l0dWRlIChkZWdyZWVzKVwifSxsYXRpdHVkZTp7bmFtZTpcIkxhdGl0dWRlIChkZWdyZWVzKVwifSxoZWlnaHQ6e25hbWU6XCJIZWlnaHQgKG1ldHJlcyBmcm9tIHRoZSBlbGxpcHNvaWQpXCIsZGV0YWlsczpcIkhlaWdodCBpbiBtZXRyZXMgZnJvbSB0aGUgR0RBMjAyMCBlbGxpcHNvaWRcIn19LGZyb21OYXRpdmVUb1Nyc1BvaW50OmFzeW5jIGU9PmUsZnJvbVNyc1RvTmF0aXZlUG9pbnQ6YXN5bmMgZT0+ZX07ZnVuY3Rpb24ga3QoZSx0KXtzd2l0Y2goZS50eXBlKXtjYXNlXCJnZW9ncmFwaGljXCI6cmV0dXJuXCJoZWlnaHRcIj09PXQ7Y2FzZVwicHJvamVjdGVkXCI6cmV0dXJuXCJ6XCI9PT10fX1jb25zdCBBdD1pKCgoe2l0ZW06aSxvcmlnaW46bixkaXNhYmxlSGVpZ2h0RWRpdHM6cyxvblNhdmVQb3NpdGlvbjpkfSk9Pntjb25zdFtsXT1yKG5ldyBUdCksW2MsdV09cighMSksW2gscF09cihsLm5hdGl2ZVNycyksW2csZl09cih7fSksW3Ysd109cih7fSksW3gsQ109cighMSksW1MsYl09cighMSksTT1sLm5hdGl2ZVNycyxUPVwiQ0xBTVBfVE9fR1JPVU5EXCI9PT1pLmhlaWdodFJlZmVyZW5jZSxQPWFzeW5jKCk9PntiKCEwKTtjb25zdCBlPWF3YWl0IGguZnJvbU5hdGl2ZVRvU3JzUG9pbnQobmV3IHh0KG4ubG9uZ2l0dWRlPz8wLG4ubGF0aXR1ZGU/PzAsbi5oZWlnaHQ/PzApKS5maW5hbGx5KCgoKT0+YighMSkpKTtmKGUuc3RyaW5naWZ5VmFsdWVzKCkpLHcoe30pLEMoITEpfTthKCgoKT0+e1AoKX0pLFtoLG4ubG9uZ2l0dWRlLG4ubGF0aXR1ZGUsbi5oZWlnaHRdKTtjb25zdCBrPWU9PntcIkVudGVyXCI9PT1lLmtleSYmQSgpLFwiRXNjYXBlXCI9PT1lLmtleSYmRCgpfSxBPWFzeW5jKCk9Pntjb25zdCBlPWguUG9pbnQucGFyc2UoZyk7aWYoXCJlcnJvclwiPT09ZS5pcylyZXR1cm4gdm9pZCB3KGUuZXJyb3IpO2IoITApO2NvbnN0IHQ9ZS52YWx1ZSxvPWF3YWl0IGguZnJvbVNyc1RvTmF0aXZlUG9pbnQodCkuZmluYWxseSgoKCk9PmIoITEpKSk7eShpLm9yaWdpbixtLnVzZXIse2xvbmdpdHVkZTpvLmxvbmdpdHVkZSxsYXRpdHVkZTpvLmxhdGl0dWRlLGhlaWdodDpvLmhlaWdodH0pLEMoITEpLHcoe30pLGQoKX0sRD1QO3JldHVybiB0KGR0LHt0aXRsZTpcIlBvc2l0aW9uXCIsaXNPcGVuSW5pdGlhbGx5OiEwLHRpdGxlUmlnaHRDb21wb25lbnQ6KCk9PlMmJmUoXyx7bGlnaHQ6ITAsc3R5bGVkV2lkdGg6XCIyMHB4XCIsc3R5bGVkSGVpZ2h0OlwiMjBweFwifSksY2hpbGRyZW46W3Qob3Qse2NoaWxkcmVuOlt0KGl0LHtjaGlsZHJlbjpbXCJTcGF0aWFsIHJlZmVyZW5jZSBzeXN0ZW06wqBcIixlKG50LHtkZXRhaWxzOmBDaG9vc2UgYW4gU1JTIGZvciB0aGUgcG9zaXRpb24gaW5wdXQuIFRoZSBpbnB1dCBpbiB5b3VyIGNob3NlbiBTUlMgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gJHtsLm5hdGl2ZVNycy5uYW1lfSwgd2hpY2ggaXMgdGhlIGFwcCBkZWZhdWx0LmB9KV19KSwhYyYmdChJLHtsYXJnZTohMCx0ZXh0TGlnaHQ6ITAsY2hpbGRyZW46W2gubmFtZSxlKEV0LHtvbkNsaWNrOigpPT51KChlPT4hZSkpLGNoaWxkcmVuOlwiKENoYW5nZSBTUlMpXCJ9KV19KSxjJiZ0KHJ0LHt2YWx1ZTpoLm5hbWUsb25DaGFuZ2U6ZT0+e2NvbnN0IHQ9bC5maW5kU3JzQnlOYW1lKGUudGFyZ2V0LnZhbHVlKTt0JiZwKHQpfSxjaGlsZHJlbjpbZShcIm9wdGlvblwiLHt2YWx1ZTpNLm5hbWUsY2hpbGRyZW46TS5uYW1lfSksbC5hdmFpbGFibGVTcnMubWFwKCh0PT5lKFwib3B0aW9uXCIse3ZhbHVlOnQubmFtZSxjaGlsZHJlbjp0Lm5hbWV9LHQubmFtZSkpKV19KV19KSxPYmplY3QuZW50cmllcyhoLmZpZWxkcykubWFwKCgoW28saV0pPT50KG90LHtjaGlsZHJlbjpbdChpdCx7Y2hpbGRyZW46W2UoXCJkaXZcIix7Y2hpbGRyZW46aS5uYW1lfSksaS5kZXRhaWxzJiZlKG50LHtkZXRhaWxzOmkuZGV0YWlsc30pXX0pLGUoY3Qse2Rpc2FibGVkOnMmJmt0KGgsbyksZGlzYWJsZWRUaXRsZTpcIkNoYW5naW5nIGhlaWdodCBpcyBkaXNhYmxlZCB3aGVuIGNsYW1waW5nIGlzIG9uLlwiLHZhbHVlOmdbb10scGxhY2Vob2xkZXI6Z1tvXSxlcnJvcjp2W29dLG9uVmFsdWVDaGFuZ2U6ZT0+KChlLHQpPT57Zigobz0+KHsuLi5vLFtlXTp0fSkpKSxDKCEwKX0pKG8sZSksb25LZXlEb3duOmt9KV19LG8pKSksZShvdCx7Y2hpbGRyZW46ZShqLHtpc0NoZWNrZWQ6VCxvbkNoYW5nZTooKT0+aS5zZXRUcmFpdChtLnVzZXIsXCJoZWlnaHRSZWZlcmVuY2VcIixcIkNMQU1QX1RPX0dST1VORFwiPT09aS5oZWlnaHRSZWZlcmVuY2U/XCJOT05FXCI6XCJDTEFNUF9UT19HUk9VTkRcIiksdGV4dFByb3BzOnt0ZXh0TGlnaHQ6ITB9LGNoaWxkcmVuOnQobyx7Y2hpbGRyZW46W2UoXCJkaXZcIix7Y2hpbGRyZW46XCJDbGFtcCBtb2RlbCB0byBncm91bmRcIn0pLGUobnQse2RldGFpbHM6XCJFbmFibGUgY2xhbXBpbmcgdG8ga2VlcCB0aGUgbW9kZWwgZ3JvdW5kZWQgYXMgeW91IG1vdmUgaXQgb24gdGhlIG1hcC4gTm90ZSB0aGF0IGhlaWdodCBjaGFuZ2VzIGFyZSBkaXNhYmxlZCB3aGVuIGNsYW1waW5nIGlzIG9uLlwifSldfSl9KX0pLHQoRHQse2NoaWxkcmVuOltlKGF0LHtwcmltYXJ5OiEwLGRpc2FibGVkOiExPT09eHx8UyxvbkNsaWNrOkEsY2hpbGRyZW46XCJTYXZlIGVkaXRlZCBQb3NpdGlvblwifSksZShhdCx7c2Vjb25kYXJ5OiEwLGRpc2FibGVkOiExPT09eHx8UyxvbkNsaWNrOkQsY2hpbGRyZW46XCJSZXNldFwifSldfSldfSl9KSksRHQ9bC5kaXZgXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcblxuICAmICR7YXR9OmZpcnN0LWNoaWxkIHtcbiAgICBmbGV4LWdyb3c6IDE7XG4gIH1cblxuICAmICR7YXR9Omxhc3QtY2hpbGQge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICB9XG5gLEV0PWwoYXQpYFxuICBkaXNwbGF5OiBpbmxpbmU7XG4gIG1hcmdpbjogMCA0cHg7XG4gIHBhZGRpbmc6IDA7XG4gIGJvcmRlcjogMDtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICBjb2xvcjogd2hpdGU7XG5gLFJ0PWkoKCh7aXRlbTpvLG9uRWRpdDppLGNlc2l1bTpuLHRlcnJpYTpsfSk9Pntjb25zdFtjLHVdPXIoby50cmFuc2Zvcm1hdGlvbkpzb24pLGg9ZChvLnRyYW5zZm9ybWF0aW9uSnNvbikscD1zKHZlKHUsMjUwLHttYXhXYWl0OjI1MH0pLFtdKTthKCgoKT0+e3Aoby50cmFuc2Zvcm1hdGlvbkpzb24pfSksW28sby50cmFuc2Zvcm1hdGlvbkpzb25dKTtjb25zdCBnPW8udW5pcXVlSWQsZj1zKCgoKT0+e2NvbnN0IGU9by50cmFuc2Zvcm1hdGlvbkpzb24sdD1oLmN1cnJlbnQ7d2UoZSx0KXx8KGkoKCgpPT5odChnLGUsbCkpLCgoKT0+aHQoZyx0LGwpKSksaC5jdXJyZW50PWUpfSksW2csbyxpLGxdKSx5PXMoKGU9Pntjb25zdCB0PUFlKGUpO28ucm90YXRpb24uc2V0VHJhaXQobS51c2VyLFwiaGVhZGluZ1wiLHQpLG4ubm90aWZ5UmVwYWludFJlcXVpcmVkKCl9KSxbbyxuXSksdj1zKChlPT57Y29uc3QgdD1BZShlKSxpPXZvaWQgMD09PXQ/dm9pZCAwOk1hdGgubWF4KGRlLkVQU0lMT042LHQpO28uc2V0VHJhaXQobS51c2VyLFwic2NhbGVcIixpKSxuLm5vdGlmeVJlcGFpbnRSZXF1aXJlZCgpfSksW28sbl0pO3MoKGU9Pntjb25zdCB0PWUudGFyZ2V0LnZhbHVlO28uc2V0VHJhaXQobS51c2VyLFwidXBBeGlzXCIsdCksYXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBvPWF3YWl0IExlKGUubW9kZWxFbnRpdHksdCx7aW50ZXJ2YWw6MTAsdGltZW91dDoxZTN9KTtvJiYoby5fdXBkYXRlTW9kZWxNYXRyaXg9ITAsdC5ub3RpZnlSZXBhaW50UmVxdWlyZWQoKSl9KG8sbil9KSxbbyxuXSk7Y29uc3Qgdz1zKCgoZSx0KT0+e2NvbnN0IHI9by51bmlxdWVJZDtpKChmdW5jdGlvbigpe2h0KHIsZSxsKSxuLm5vdGlmeVJlcGFpbnRSZXF1aXJlZCgpfSksKGZ1bmN0aW9uKCl7aHQocix0LGwpLG4ubm90aWZ5UmVwYWludFJlcXVpcmVkKCl9KSl9KSxbby51bmlxdWVJZCxpLG4sbF0pLHg9X2Uoby5yb3RhdGlvbi5oZWFkaW5nKSxDPV9lKG8uc2NhbGUpLFM9XCJOT05FXCIhPT1vLmhlaWdodFJlZmVyZW5jZTtyZXR1cm4gdChfdCx7Y2hpbGRyZW46W2UocHQse2l0ZW06byxpc01vZGVsQ2xhbXBlZFRvR3JvdW5kOlMsb25DaGFuZ2U6dyxjZXNpdW06bix0ZXJyaWE6bH0pLGUoQXQse2l0ZW06byxvcmlnaW46Yy5vcmlnaW4sZGlzYWJsZUhlaWdodEVkaXRzOlMsb25TYXZlUG9zaXRpb246Zn0pLHQoanQse3RpdGxlOlwiQWR2YW5jZWQgb3B0aW9uc1wiLGlzT3BlbkluaXRpYWxseTohMSxjaGlsZHJlbjpbdChvdCx7Y2hpbGRyZW46W2UoaXQse2NoaWxkcmVuOmUoXCJkaXZcIix7Y2hpbGRyZW46XCJSb3RhdGlvbiAoaGVhZGluZyBpbiBkZWdyZWVzKVwifSl9KSxlKGN0LHtuYW1lOlwiaGVhZGluZ1wiLHR5cGU6XCJudW1iZXJcIix2YWx1ZTp4LHBsYWNlaG9sZGVyOnh8fFwiMFwiLG9uVmFsdWVDaGFuZ2U6eSxvbkJsdXI6Zn0pXX0pLHQob3Qse2NoaWxkcmVuOltlKGl0LHtjaGlsZHJlbjpcIlNjYWxlXCJ9KSxlKGN0LHtuYW1lOlwic2NhbGVcIix0eXBlOlwibnVtYmVyXCIsdmFsdWU6QyxwbGFjZWhvbGRlcjpDfHxcIjFcIixtaW46MCxzdGVwOlwiMC4xXCIsb25WYWx1ZUNoYW5nZTp2LG9uQmx1cjpmfSldfSksITFdfSldfSl9KSksX3Q9bC5kaXZgXG4gIG1hcmdpbi10b3A6IDMwcHg7XG5gLGp0PWwoZHQpYFxuICBtYXJnaW4tdG9wOiAzMHB4O1xuYCxHdD0oe3RpbGVGZWF0dXJlOmUsY2VzaXVtOnR9KT0+KGEoUSgoKCk9Pntjb25zdHtpdGVtOm8sZmVhdHVyZVNlbGVjdG9yOml9PWUsbj1gY29sb3IoJyR7by5oaWdobGlnaHRDb2xvcn0nKWA7cmV0dXJuIG8uYXBwbHlDb2xvckV4cHJlc3Npb24oe2NvbmRpdGlvbjppLHZhbHVlOm59KSx0Lm5vdGlmeVJlcGFpbnRSZXF1aXJlZCgpLCgpPT57by5yZW1vdmVDb2xvckV4cHJlc3Npb24oaSksdC5ub3RpZnlSZXBhaW50UmVxdWlyZWQoKX19KSksW2UsdF0pLG51bGwpLEJ0PSh7dGlsZUZlYXR1cmU6aSxjZXNpdW06bn0pPT50KG8se2NoaWxkcmVuOltlKEd0LHt0aWxlRmVhdHVyZTppLGNlc2l1bTpufSksT2JqZWN0LmVudHJpZXMoaS5wcm9wZXJ0aWVzKS5tYXAoKChbbyxpXSk9PnQob3Qse2NoaWxkcmVuOltlKGl0LHtjaGlsZHJlbjpvfSksZShJLHtzbWFsbDohMCx0ZXh0TGlnaHQ6ITAsY2hpbGRyZW46aX0pXX0sbykpKV19KSxMdD0oe3NlbGVjdGVkTW9kZWw6byxvblNlbGVjdDppLHdvcmtiZW5jaDpufSk9Pntjb25zdCByPW4uaXRlbXMuZmlsdGVyKChlPT51LmlzTWl4ZWRJbnRvKGUpJiZlLnNob3cmJmUudW5pcXVlSWQpKSxzPVwiLS1jaG9vc2UtYS1tb2RlbC0tXCI7cmV0dXJuIHQocnQse3ZhbHVlOm8/LnVuaXF1ZUlkPz9zLG9uQ2hhbmdlOmU9Pntjb25zdCB0PWUudGFyZ2V0LnZhbHVlLG89bi5pdGVtcy5maW5kKChlPT51LmlzTWl4ZWRJbnRvKGUpJiZlLnVuaXF1ZUlkPT09dCkpO28mJmkobyl9LGNoaWxkcmVuOltlKFwib3B0aW9uXCIse3ZhbHVlOnMsZGlzYWJsZWQ6ITAsY2hpbGRyZW46XCJDaG9vc2UgYSBtb2RlbFwifSxzKSxyLm1hcCgodD0+ZShcIm9wdGlvblwiLHt2YWx1ZTp0LnVuaXF1ZUlkLGNoaWxkcmVuOnQubmFtZX0sdC51bmlxdWVJZCkpKV19KX0sTnQ9aSgoKHtzY2VuZUl0ZW06aSxvbkVkaXQ6bixvbkNsb3NlOnIsb25DaGFuZ2VTZWxlY3RlZE1vZGVsOnMsY2VzaXVtOmQsdGVycmlhOmx9KT0+e2NvbnN0IHU9YygpLG09XCJnbHRmTW9kZWxcIj09PWk/LmlzP2kuaXRlbTp2b2lkIDAsaD1cInRpbGVGZWF0dXJlXCI9PT1pPy5pcz9cIkZlYXR1cmUgcHJvcGVydGllc1wiOlwiRWRpdCBtb2RlbCB0cmFuc2Zvcm1cIixwPXUudGVycmlhLmRlcHRoVGVzdEFnYWluc3RUZXJyYWluRW5hYmxlZCxnPVEoKGU9Pnt1LnRlcnJpYS5kZXB0aFRlc3RBZ2FpbnN0VGVycmFpbkVuYWJsZWQ9ZX0pKSxmPVEoKCgpPT57dS50ZXJyaWEuZGVwdGhUZXN0QWdhaW5zdFRlcnJhaW5FbmFibGVkPSF1LnRlcnJpYS5kZXB0aFRlc3RBZ2FpbnN0VGVycmFpbkVuYWJsZWR9KSk7cmV0dXJuIGEoKGZ1bmN0aW9uKCl7Y29uc3QgZT11LnRlcnJpYS5kZXB0aFRlc3RBZ2FpbnN0VGVycmFpbkVuYWJsZWQ7cmV0dXJuIGcoITApLCgpPT5nKGUpfSksW10pLGUoRyx7dmlld1N0YXRlOnUsdGl0bGU6aCxpY29uOlUsb25DbG9zZTpyLGNsb3NlQnV0dG9uVGV4dDpcIkNsb3NlXCIsY2hpbGRyZW46dChPdCx7Y2hpbGRyZW46Wyh2b2lkIDA9PT1pfHxcImdsdGZNb2RlbFwiPT09aS5pcykmJnQob3Qse2NoaWxkcmVuOltlKGl0LHtjaGlsZHJlbjpcIk1vZGVsXCJ9KSxlKEx0LHtzZWxlY3RlZE1vZGVsOm0sb25TZWxlY3Q6cyx3b3JrYmVuY2g6bC53b3JrYmVuY2h9KV19KSxcImdsdGZNb2RlbFwiPT09aT8uaXMmJnQobyx7Y2hpbGRyZW46W2Uob3Qse2NoaWxkcmVuOmUoaix7aXNDaGVja2VkOnAsdGV4dFByb3BzOnt0ZXh0TGlnaHQ6ITAsYm9sZDohMH0sb25DaGFuZ2U6ZixjaGlsZHJlbjpcIkhpZGUgZmVhdHVyZXMgYmVsb3cgZ3JvdW5kXCJ9KX0pLGUob3Qse2NoaWxkcmVuOmUoYXQse3NlY29uZGFyeTohMCxvbkNsaWNrOigpPT5cImdsdGZNb2RlbFwiPT09aT8uaXMmJmQuem9vbVRvKGk/Lml0ZW0pLHRleHRQcm9wczp7dGV4dERhcmtlcjohMH0scmVuZGVySWNvbjooKT0+ZShELHtnbHlwaDpFLkdMWVBIUy5zZWFyY2gsc3R5bGVkV2lkdGg6XCIxNnB4XCIsc3R5bGVkSGVpZ2h0OlwiMTZweFwifSksY2hpbGRyZW46XCJab29tIHRvIE1vZGVsXCJ9KX0pXX0pLHZvaWQgMD09PWkmJnQobyx7Y2hpbGRyZW46W2UoSSx7bGFyZ2U6ITAsdGV4dExpZ2h0OiEwLGNoaWxkcmVuOlwiTm8gbW9kZWwgc2VsZWN0ZWQhXCJ9KSxlKEkse3RleHRMaWdodDohMCxjaGlsZHJlbjpcIkFkZCBvciBzZWxlY3QgYW55IG1vZGVsIG9uIHRoZSBtYXAgdG8gZWRpdCBpdHMgdHJhbnNmb3JtLlwifSldfSksXCJnbHRmTW9kZWxcIj09PWk/LmlzJiZlKFJ0LHtpdGVtOmkuaXRlbSxvbkVkaXQ6bixjZXNpdW06ZCx0ZXJyaWE6bH0pLFwidGlsZUZlYXR1cmVcIj09PWk/LmlzJiZlKEJ0LHt0aWxlRmVhdHVyZTppLGNlc2l1bTpkfSldfSl9KX0pKSxPdD1sLmRpdmBcbiAgcGFkZGluZzogMjRweCAyMHB4O1xuYCxGdD0oe29uUGljazplLGV2ZW50SGFuZGxlcjp0LGNlc2l1bTpvLHRlcnJpYTppfSk9PihhKCgoKT0+KHQuc2V0SW5wdXRBY3Rpb24oKCh7cG9zaXRpb246dH0pPT57ZShxdCh0LG8saSkpfSkseGUuTEVGVF9DTElDSyksKCk9Pnt0LnJlbW92ZUlucHV0QWN0aW9uKHhlLkxFRlRfQ0xJQ0spfSkpLFtvLHQsZV0pLGEoKCgpPT4oby5pc0ZlYXR1cmVQaWNraW5nUGF1c2VkPSEwLCgpPT57by5pc0ZlYXR1cmVQaWNraW5nUGF1c2VkPSExfSkpLFtdKSxudWxsKSxxdD1RKChmdW5jdGlvbihlLHQsbyl7Y29uc3QgaT10LnNjZW5lLmRyaWxsUGljayhlKTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7Y29uc3QgdD1pW2VdLG49SHQodCxvKT8/VXQodCk7aWYobilyZXR1cm4gbn19KSk7ZnVuY3Rpb24gSHQoZSx0KXtjb25zdCBvPWUuaWQgaW5zdGFuY2VvZiBDZT9lLmlkOnZvaWQgMDtpZighbylyZXR1cm47Y29uc3QgaT10LndvcmtiZW5jaC5pdGVtcy5maW5kKChlPT51LmlzTWl4ZWRJbnRvKGUpJiZlLm1vZGVsRW50aXR5PT09byYmZS51bmlxdWVJZCkpO3JldHVybiBpP3tpczpcImdsdGZNb2RlbFwiLGl0ZW06aX06dm9pZCAwfWZ1bmN0aW9uIFV0KGUpe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIFNlJiZlLnByaW1pdGl2ZS5fY2F0YWxvZ0l0ZW0udW5pcXVlSWQmJkIuaXNNaXhlZEludG8obXQoZS5wcmltaXRpdmUuX2NhdGFsb2dJdGVtKSk/ZS5wcmltaXRpdmUuX2NhdGFsb2dJdGVtOnZvaWQgMCxvPWUsaT10Py5nZXRTZWxlY3RvckZvckZlYXR1cmUoZSk7aWYoIXR8fCF0LnVuaXF1ZUlkfHwhaSlyZXR1cm47cmV0dXJue2lzOlwidGlsZUZlYXR1cmVcIixpdGVtOnQsZmVhdHVyZVNlbGVjdG9yOmkscHJvcGVydGllczpPYmplY3QuZnJvbUVudHJpZXMoby5nZXRQcm9wZXJ0eUlkcygpLm1hcCgoZT0+e2NvbnN0IHQ9by5nZXRQcm9wZXJ0eShlKTtyZXR1cm4gbnVsbD09PXQ/dm9pZCAwOltlLHRdfSkpLmZpbHRlcigoZT0+dm9pZCAwIT09ZSkpKX19Y29uc3QgVnQ9KHttb2RlbDp0LG9uQ2xpY2s6b30pPT5lKEMse3RpdGxlOlwiUGljayBhIG5ldyBwb3NpdGlvbiBmb3IgdGhlIHNlbGVjdGVkIG1vZGVsXCIsaWNvbjpWLG9uQ2xpY2s6KCk9PnQmJm8odCksZGlzYWJsZWQ6dm9pZCAwPT09dH0pO2Z1bmN0aW9uIHp0KGUsdCl7Y29uc3Qgbz1NYXRoLnBvdygxMCx0KTtyZXR1cm4gTWF0aC5mbG9vcihlKm8pL299Y29uc3QgJHQ9bmV3IGVlLEp0PW5ldyB0ZSxXdD1pKCgoe21vZGVsOm8sbW91c2VDb29yZGluYXRlczppLGV2ZW50SGFuZGxlcjpuLG9uUGxvbms6cyxvbkNhbmNlbFBsb25rOmQsY2VzaXVtOmwsdGVycmlhOmN9KT0+e2NvbnN0W3UsaF09cihvLnRyYW5zZm9ybWF0aW9uSnNvbiksW3AsZ109cih7Y3Vyc29yQ29vcmRpbmF0ZXM6e3g6aT8uY2xpZW50WD8/LTFlMyx5Omk/LmNsaWVudFk/Py0xZTN9fSksZj0oKT0+e3UmJnkobyxtLnVzZXIsdSksZCgpfTthKFEoKGZ1bmN0aW9uKCl7Y29uc3QgZT1sLnNjZW5lLHQ9ZS5jYW52YXM7bGV0IGkscj0hMSxhPSExO2NvbnN0IGQ9by50cmFuc2Zvcm1hdGlvbkpzb247aChkKTtjb25zdCB1PWU9PntcIkVzY2FwZVwiPT09ZS5rZXkmJihhPSEwLHkobyxtLnVzZXIsZCksZigpKX07cmV0dXJuIHQuc3R5bGUuY3Vyc29yPVwibW92ZVwiLGwuaXNGZWF0dXJlUGlja2luZ1BhdXNlZD0hMCxuLnNldElucHV0QWN0aW9uKCgoKT0+e2NvbnN0IHQ9aTtpZihhfHwhdClyZXR1cm47Y29uc3Qgbj10ZS5mcm9tQ2FydGVzaWFuKHQsZS5nbG9iZS5lbGxpcHNvaWQsSnQpO2llKGwudGVycmFpblByb3ZpZGVyLFtuXSkuY2F0Y2goKCgpPT57bi5oZWlnaHQ9MH0pKS5maW5hbGx5KCgoKT0+e3I9ITA7Y29uc3QgZT1vLnVuaXF1ZUlkLHQ9ey4uLm8udHJhbnNmb3JtYXRpb25Kc29uLG9yaWdpbjp7bGF0aXR1ZGU6ZGUudG9EZWdyZWVzKG4ubGF0aXR1ZGUpLGxvbmdpdHVkZTpkZS50b0RlZ3JlZXMobi5sb25naXR1ZGUpLGhlaWdodDpuLmhlaWdodH19O3MoKCgpPT5odChlLHQsYykpLCgoKT0+aHQoZSxkLGMpKSl9KSl9KSx4ZS5MRUZUX0NMSUNLKSxuLnNldElucHV0QWN0aW9uKChuPT57aWYocnx8YSlyZXR1cm47Y29uc3Qgcz1uLmVuZFBvc2l0aW9uO2lmKGk9ZnVuY3Rpb24oZSx0LG8pe2NvbnN0IGk9dC5jYW1lcmEuZ2V0UGlja1JheShlKTtyZXR1cm4gaT90Lmdsb2JlLnBpY2soaSx0LG8pOnZvaWQgMH0ocyxlLCR0KSxpKXtTLnNldEZyb21DYXJ0ZXNpYW4oby5vcmlnaW4sbS51c2VyLGkpLGwubm90aWZ5UmVwYWludFJlcXVpcmVkKCk7Y29uc3R7bGVmdDpuLHRvcDpyfT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9dGUuZnJvbUNhcnRlc2lhbihpLGUuZ2xvYmUuZWxsaXBzb2lkLEp0KTtnKHtwb3NpdGlvbkRlZ3JlZXM6WnQoYSksY3Vyc29yQ29vcmRpbmF0ZXM6e3g6bitzLngseTpyK3MueX19KX19KSx4ZS5NT1VTRV9NT1ZFKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHUpLCgpPT57dC5zdHlsZS5jdXJzb3I9XCJhdXRvXCIsbC5pc0ZlYXR1cmVQaWNraW5nUGF1c2VkPSExLG4ucmVtb3ZlSW5wdXRBY3Rpb24oeGUuTEVGVF9DTElDSyksbi5yZW1vdmVJbnB1dEFjdGlvbih4ZS5NT1VTRV9NT1ZFKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHUpfX0pKSxbbyxuXSk7Y29uc3R7Y3Vyc29yQ29vcmRpbmF0ZXM6dixwb3NpdGlvbkRlZ3JlZXM6d309cCx4PXc/YGF0OiAke3cubGF0aXR1ZGV9ICR7dy5sb25naXR1ZGV9YDpcImhlcmVcIjtyZXR1cm4gdChZdCx7Y29vcmRzOnYsY2hpbGRyZW46W3QoSSx7bWVkaXVtOiEwLGNoaWxkcmVuOltcIkNsaWNrIHRvIHBsYWNlIG1vZGVsIFwiLHhdfSksZShJLHtzbWFsbDohMCxjaGlsZHJlbjpcIihFc2MgdG8gY2FuY2VsKVwifSldfSl9KSksWXQ9bC5kaXYuYXR0cnMoKCh7Y29vcmRzOmV9KT0+KHtzdHlsZTp7bGVmdDplLngrMTAsdG9wOmUueSsxMH19KSkpYFxuICBmb250LXdlaWdodDogYm9sZDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgbWF4LXdpZHRoOiA1MDBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDE2NSwgMCwgMC43KTtcbiAgcGFkZGluZzogN3B4O1xuICBib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTtcbmA7ZnVuY3Rpb24gWnQoZSl7Y29uc3QgdD16dChkZS50b0RlZ3JlZXMoZS5sYXRpdHVkZSksNCksbz16dChkZS50b0RlZ3JlZXMoZS5sb25naXR1ZGUpLDQpO3JldHVybntsYXRpdHVkZTpgJHtNYXRoLmFicyh0KX3CsCAke3Q8MD9cIlNcIjpcIk5cIn1gLGxvbmdpdHVkZTpgJHtNYXRoLmFicyhvKX3CsCAke288MD9cIldcIjpcIkVcIn1gfX12YXIgWHQ9cmVxdWlyZShcIkB0ZXJyaWFqcy9wbHVnaW4tc2NlbmUtZWRpdG9yL2Fzc2V0cy9pY29ucy9yZW1vdmUuc3ZnXCIpO2NvbnN0IEt0PSh7c2NlbmVJdGVtOnQsb25DaGFuZ2U6byx0ZXJyaWE6aX0pPT57Y29uc3Qgbj1lPT57bygoKCk9PmZ1bmN0aW9uKGUsdCl7dC5yZW1vdmVNb2RlbFJlZmVyZW5jZXMoZS5pdGVtKX0oZSxpKSksKCgpPT5mdW5jdGlvbihlLHQpe2NvbnN0IG89ZS5pdGVtLnVuaXF1ZUlkO28mJiFaKCgoKT0+dC5tb2RlbElkcy5pbmNsdWRlcyhvKSkpJiZ0LmFkZE1vZGVsKGUuaXRlbSk7dC53b3JrYmVuY2guYWRkKGUuaXRlbSl9KGUsaSkpKX0scj1lPT57Y29uc3QgdD1lLml0ZW0udW5pcXVlSWQsbj1lLmZlYXR1cmVTZWxlY3RvcjtvKCgoKT0+ZnVuY3Rpb24oZSx0LG8pe2NvbnN0IGk9UXQoZSxvLndvcmtiZW5jaCk7aT8uc2V0VmlzaWJpbGl0eUZvck1hdGNoaW5nRmVhdHVyZSh0LCExKX0odCxuLGkpKSwoKCk9PmZ1bmN0aW9uKGUsdCxvKXtjb25zdCBpPVF0KGUsby53b3JrYmVuY2gpO2k/LnNldFZpc2liaWxpdHlGb3JNYXRjaGluZ0ZlYXR1cmUodCwhMCl9KHQsbixpKSkpfTtyZXR1cm4gZShDLHt0aXRsZTpcIlJlbW92ZSBzZWxlY3RlZCBtb2RlbFwiLGljb246WHQsb25DbGljazooKT0+dCYmKGU9PntcImdsdGZNb2RlbFwiPT09ZS5pcyYmbihlKSxcInRpbGVGZWF0dXJlXCI9PT1lLmlzJiZyKGUpfSkodCksZGlzYWJsZWQ6dm9pZCAwPT09dH0pfTtmdW5jdGlvbiBRdChlLHQpe3JldHVybiB0Lml0ZW1zLmZpbmQoKHQ9PnQudW5pcXVlSWQ9PT1lJiZCLmlzTWl4ZWRJbnRvKG10KHQpKSkpfWNvbnN0IGVvPXtpczpcInBpY2tTY2VuZUl0ZW1cIn0sdG89e2lzOlwiYWRkTW9kZWxcIn0sb289aSgoKHt0b29sSWQ6aSxtb2RlOm59KT0+e2NvbnN0W2QsbF09cihuPz9lbykse3BlcmZvcm1DaGFuZ2U6bSwuLi5ofT1mdW5jdGlvbigpe2NvbnN0W2UsdF09cih7dW5kb1N0YWNrOltdLHJlZG9TdGFjazpbXX0pLG89cygoKGUsbyk9Pntjb25zdCBpPXtyZWRvOmUsdW5kbzpvfTt0KCgoe3VuZG9TdGFjazplfSk9Pih7dW5kb1N0YWNrOlsuLi5lLGldLHJlZG9TdGFjazpbXX0pKSl9KSxbXSksaT1zKCgoZSx0KT0+e2NvbnN0IGk9ZSgpO3JldHVybiBvKGUsdCksaX0pLFtdKSxuPXMoKCgpPT57dCgoKHt1bmRvU3RhY2s6ZSxyZWRvU3RhY2s6dH0pPT57Y29uc3Qgbz1lLmF0KC0xKTtyZXR1cm4gbz8udW5kbygpLHt1bmRvU3RhY2s6ZS5zbGljZSgwLC0xKSxyZWRvU3RhY2s6bz9bLi4udCxvXTp0fX0pKX0pLFtdKSxhPXMoKCgpPT57dCgoKHt1bmRvU3RhY2s6ZSxyZWRvU3RhY2s6dH0pPT4oZS5yZXZlcnNlKCksZS5mb3JFYWNoKChlPT5lLnVuZG8oKSkpLHt1bmRvU3RhY2s6W10scmVkb1N0YWNrOlsuLi50LC4uLmVdfSkpKX0pLFtdKSxkPXMoKCgpPT57dCgoKHt1bmRvU3RhY2s6ZSxyZWRvU3RhY2s6dH0pPT57Y29uc3Qgbz10LmF0KC0xKTtyZXR1cm4gbz8ucmVkbygpLHt1bmRvU3RhY2s6bz9bLi4uZSxvXTplLHJlZG9TdGFjazp0LnNsaWNlKDAsLTEpfX0pKX0pLFtdKSxsPWUudW5kb1N0YWNrLmxlbmd0aCxjPWUucmVkb1N0YWNrLmxlbmd0aDtyZXR1cm57YWRkQ2hhbmdlOm8scGVyZm9ybUNoYW5nZTppLHVuZG9DaGFuZ2U6bixyZWRvQ2hhbmdlOmQsdW5kb0FsbENoYW5nZXM6YSx1bmRvQ291bnQ6bCxyZWRvQ291bnQ6Y319KCkscD1jKCksZz1mdW5jdGlvbigpe2NvbnN0IGU9YygpLnRlcnJpYS5jZXNpdW0sW3Qsb109cih2b2lkIDApO3JldHVybiBhKCgoKT0+e2NvbnN0IHQ9ZT9uZXcgcShlLnNjZW5lLmNhbnZhcyk6dm9pZCAwO3JldHVybiBvKHQpLCgpPT50Py5kZXN0cm95KCl9KSxbZV0pLHR9KCksZj1wLnRlcnJpYSx5PWYuY2VzaXVtLHY9XCJlZGl0U2NlbmVJdGVtXCI9PT1kLmlzP2Quc2NlbmVJdGVtPy5pdGVtOlwicGxvbmtNb2RlbFwiPT09ZC5pcz9kLm1vZGVsOnZvaWQgMCx3PXYmJmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc2hvdyYmdC53b3JrYmVuY2guY29udGFpbnMoZSl9KHYsZik7aWYoYSgoZnVuY3Rpb24oKXt2JiYhdyYmeCgpfSksW3Ysd10pLGEoKCgpPT5MKCgoe2FkZGVkSXRlbXM6ZSxtb3VzZUNvb3JkaW5hdGVzOnR9KT0+e2NvbnN0IG89ZS5maW5kKChlPT51LmlzTWl4ZWRJbnRvKGUpJiZlLnVuaXF1ZUlkJiZlLm1hcEl0ZW1zLmxlbmd0aD4wKSk7byYmbCh7aXM6XCJwbG9ua01vZGVsXCIsbW9kZWw6byxtb3VzZUNvb3JkaW5hdGVzOnR9KX0pKSkpLCF5fHwhZylyZXR1cm4gbnVsbDtjb25zdCB4PSgpPT5sKGVvKSxTPWU9Pmwoe2lzOlwiZWRpdFNjZW5lSXRlbVwiLHNjZW5lSXRlbTplfSksYj1lPT5TKHtpczpcImdsdGZNb2RlbFwiLGl0ZW06ZX0pO3JldHVybiB0KG8se2NoaWxkcmVuOlsoXCJwaWNrU2NlbmVJdGVtXCI9PT1kLmlzfHxcImVkaXRTY2VuZUl0ZW1cIj09PWQuaXMpJiZlKEZ0LHtvblBpY2s6UyxldmVudEhhbmRsZXI6ZyxjZXNpdW06eSx0ZXJyaWE6Zn0pLFwiZWRpdFNjZW5lSXRlbVwiPT09ZC5pcyYmZShOdCx7c2NlbmVJdGVtOmQuc2NlbmVJdGVtLG9uRWRpdDptLG9uQ2xvc2U6eCxvbkNoYW5nZVNlbGVjdGVkTW9kZWw6YixjZXNpdW06eSx0ZXJyaWE6Zn0pLFwiYWRkTW9kZWxcIj09PWQuaXMmJmUoUGUse29uQWRkTW9kZWw6KGUsdCk9Pntjb25zdCBvPWUoKTtsKHtpczpcInBsb25rTW9kZWxcIixtb2RlbDpvLG9uUGxvbms6aT0+e2koKSxoLmFkZENoYW5nZShlLHQpLFMoe2lzOlwiZ2x0Zk1vZGVsXCIsaXRlbTpvfSl9LG9uQ2FuY2VsUGxvbms6KCk9Pnt0KCkseCgpfX0pfSxvbkNhbmNlbDp4LHRlcnJpYTpmfSksXCJwbG9ua01vZGVsXCI9PT1kLmlzJiZlKFd0LHtjdXJzb3JQcm9tcHQ6XCJDbGljayB0byBwbGFjZSBtb2RlbCBoZXJlXCIsbW9kZWw6ZC5tb2RlbCxtb3VzZUNvb3JkaW5hdGVzOmQubW91c2VDb29yZGluYXRlcyxvblBsb25rOmQub25QbG9uaz8/KChlLHQpPT57Y29uc3Qgbz1tKGUsdCk7bz9iKG8pOngoKX0pLG9uQ2FuY2VsUGxvbms6ZC5vbkNhbmNlbFBsb25rPz94LGV2ZW50SGFuZGxlcjpnLGNlc2l1bTp5LHRlcnJpYTpmfSksXCJwbG9ua01vZGVsXCIhPT1kLmlzJiZ0KE4se2NoaWxkcmVuOltlKEMse2ljb246YmUsb25DbGljazooKT0+bCh0byksY2hpbGRyZW46XCJBZGQgbW9kZWxcIn0pLGUoVnQse21vZGVsOlwiZWRpdFNjZW5lSXRlbVwiPT09ZC5pcyYmXCJnbHRmTW9kZWxcIj09PWQuc2NlbmVJdGVtPy5pcz9kLnNjZW5lSXRlbS5pdGVtOnZvaWQgMCxvbkNsaWNrOmU9Pmwoe2lzOlwicGxvbmtNb2RlbFwiLG1vZGVsOmV9KX0pLGUoS2Use21vZGVsOlwiZWRpdFNjZW5lSXRlbVwiPT09ZC5pcyYmXCJnbHRmTW9kZWxcIj09PWQuc2NlbmVJdGVtPy5pcz9kLnNjZW5lSXRlbS5pdGVtOnZvaWQgMCxvbkNoYW5nZTphc3luYyhlLHQpPT57Y29uc3Qgbz1hd2FpdCBtKGUsdCk7cmV0dXJuIG8mJlMoe2lzOlwiZ2x0Zk1vZGVsXCIsaXRlbTpvfSksb30sdGVycmlhOmZ9KSxlKEt0LHtzY2VuZUl0ZW06XCJlZGl0U2NlbmVJdGVtXCI9PT1kLmlzP2Quc2NlbmVJdGVtOnZvaWQgMCxvbkNoYW5nZTooZSx0KT0+e20oZSx0KSxTKHZvaWQgMCl9LHRlcnJpYTpmfSksdChPLHtjaGlsZHJlbjpbZShDLHt0aXRsZTpgVW5kbyAoJHtoLnVuZG9Db3VudH0pYCxpY29uOkllLG9uQ2xpY2s6aC51bmRvQ2hhbmdlLGRpc2FibGVkOjA9PT1oLnVuZG9Db3VudH0pLGUoQyx7dGl0bGU6YFJlZG8gKCR7aC5yZWRvQ291bnR9KWAsaWNvbjpNZSxvbkNsaWNrOmgucmVkb0NoYW5nZSxkaXNhYmxlZDowPT09aC5yZWRvQ291bnR9KV19KSxlKEMse3RpdGxlOlwiUmVzZXQgY2hhbmdlc1wiLGljb246VGUsb25DbGljazpoLnVuZG9BbGxDaGFuZ2VzLGRpc2FibGVkOjA9PT1oLnVuZG9Db3VudH0pLGUoaW8se3RpdGxlOlwiQ2xvc2UgU2NlbmUgRWRpdG9yXCIsb25DbGljazooKT0+Ri5jbG9zZVRvb2wocCxpKSxjaGlsZHJlbjpcIkRvbmVcIn0pXX0pXX0pfSkpLGlvPWwoQylgXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBib3JkZXItY29sb3I6ICNlZmVmZWY7XG4gICY6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICR7ZT0+ZS50aGVtZS5jb2xvclByaW1hcnl9O1xuICB9XG5gO2V4cG9ydHtvbyBhcyBkZWZhdWx0fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@terriajs/plugin-scene-editor/dist/SceneEditor-6b185560.js\n");

/***/ }),

/***/ "./node_modules/@terriajs/plugin-scene-editor/assets/icons/add-model.svg":
/*!*******************************************************************************!*\
  !*** ./node_modules/@terriajs/plugin-scene-editor/assets/icons/add-model.svg ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   id: () => (/* binding */ id),\n/* harmony export */   name: () => (/* binding */ name)\n/* harmony export */ });\n\n// SVG Icon: add-model\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({ id: \"@terriajs/plugin-scene-editor-add-model\" });\nconst id = \"@terriajs/plugin-scene-editor-add-model\";\nconst name = \"add-model\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRlcnJpYWpzL3BsdWdpbi1zY2VuZS1lZGl0b3IvYXNzZXRzL2ljb25zL2FkZC1tb2RlbC5zdmciLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RlcnJpYWpzLW1hcC8uL25vZGVfbW9kdWxlcy9AdGVycmlhanMvcGx1Z2luLXNjZW5lLWVkaXRvci9hc3NldHMvaWNvbnMvYWRkLW1vZGVsLnN2Zz80ZWUxIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8gU1ZHIEljb246IGFkZC1tb2RlbFxuZXhwb3J0IGRlZmF1bHQgeyBpZDogXCJAdGVycmlhanMvcGx1Z2luLXNjZW5lLWVkaXRvci1hZGQtbW9kZWxcIiB9O1xuZXhwb3J0IGNvbnN0IGlkID0gXCJAdGVycmlhanMvcGx1Z2luLXNjZW5lLWVkaXRvci1hZGQtbW9kZWxcIjtcbmV4cG9ydCBjb25zdCBuYW1lID0gXCJhZGQtbW9kZWxcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@terriajs/plugin-scene-editor/assets/icons/add-model.svg\n");

/***/ }),

/***/ "./node_modules/@terriajs/plugin-scene-editor/assets/icons/duplicate.svg":
/*!*******************************************************************************!*\
  !*** ./node_modules/@terriajs/plugin-scene-editor/assets/icons/duplicate.svg ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   id: () => (/* binding */ id),\n/* harmony export */   name: () => (/* binding */ name)\n/* harmony export */ });\n\n// SVG Icon: duplicate\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({ id: \"@terriajs/plugin-scene-editor-duplicate\" });\nconst id = \"@terriajs/plugin-scene-editor-duplicate\";\nconst name = \"duplicate\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRlcnJpYWpzL3BsdWdpbi1zY2VuZS1lZGl0b3IvYXNzZXRzL2ljb25zL2R1cGxpY2F0ZS5zdmciLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RlcnJpYWpzLW1hcC8uL25vZGVfbW9kdWxlcy9AdGVycmlhanMvcGx1Z2luLXNjZW5lLWVkaXRvci9hc3NldHMvaWNvbnMvZHVwbGljYXRlLnN2Zz9hODAyIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8gU1ZHIEljb246IGR1cGxpY2F0ZVxuZXhwb3J0IGRlZmF1bHQgeyBpZDogXCJAdGVycmlhanMvcGx1Z2luLXNjZW5lLWVkaXRvci1kdXBsaWNhdGVcIiB9O1xuZXhwb3J0IGNvbnN0IGlkID0gXCJAdGVycmlhanMvcGx1Z2luLXNjZW5lLWVkaXRvci1kdXBsaWNhdGVcIjtcbmV4cG9ydCBjb25zdCBuYW1lID0gXCJkdXBsaWNhdGVcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@terriajs/plugin-scene-editor/assets/icons/duplicate.svg\n");

/***/ }),

/***/ "./node_modules/@terriajs/plugin-scene-editor/assets/icons/redo.svg":
/*!**************************************************************************!*\
  !*** ./node_modules/@terriajs/plugin-scene-editor/assets/icons/redo.svg ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   id: () => (/* binding */ id),\n/* harmony export */   name: () => (/* binding */ name)\n/* harmony export */ });\n\n// SVG Icon: redo\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({ id: \"@terriajs/plugin-scene-editor-redo\" });\nconst id = \"@terriajs/plugin-scene-editor-redo\";\nconst name = \"redo\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRlcnJpYWpzL3BsdWdpbi1zY2VuZS1lZGl0b3IvYXNzZXRzL2ljb25zL3JlZG8uc3ZnIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZXJyaWFqcy1tYXAvLi9ub2RlX21vZHVsZXMvQHRlcnJpYWpzL3BsdWdpbi1zY2VuZS1lZGl0b3IvYXNzZXRzL2ljb25zL3JlZG8uc3ZnP2M2YTUiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vLyBTVkcgSWNvbjogcmVkb1xuZXhwb3J0IGRlZmF1bHQgeyBpZDogXCJAdGVycmlhanMvcGx1Z2luLXNjZW5lLWVkaXRvci1yZWRvXCIgfTtcbmV4cG9ydCBjb25zdCBpZCA9IFwiQHRlcnJpYWpzL3BsdWdpbi1zY2VuZS1lZGl0b3ItcmVkb1wiO1xuZXhwb3J0IGNvbnN0IG5hbWUgPSBcInJlZG9cIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@terriajs/plugin-scene-editor/assets/icons/redo.svg\n");

/***/ }),

/***/ "./node_modules/@terriajs/plugin-scene-editor/assets/icons/remove.svg":
/*!****************************************************************************!*\
  !*** ./node_modules/@terriajs/plugin-scene-editor/assets/icons/remove.svg ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   id: () => (/* binding */ id),\n/* harmony export */   name: () => (/* binding */ name)\n/* harmony export */ });\n\n// SVG Icon: remove\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({ id: \"@terriajs/plugin-scene-editor-remove\" });\nconst id = \"@terriajs/plugin-scene-editor-remove\";\nconst name = \"remove\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRlcnJpYWpzL3BsdWdpbi1zY2VuZS1lZGl0b3IvYXNzZXRzL2ljb25zL3JlbW92ZS5zdmciLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RlcnJpYWpzLW1hcC8uL25vZGVfbW9kdWxlcy9AdGVycmlhanMvcGx1Z2luLXNjZW5lLWVkaXRvci9hc3NldHMvaWNvbnMvcmVtb3ZlLnN2Zz9kNGM3Il0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8gU1ZHIEljb246IHJlbW92ZVxuZXhwb3J0IGRlZmF1bHQgeyBpZDogXCJAdGVycmlhanMvcGx1Z2luLXNjZW5lLWVkaXRvci1yZW1vdmVcIiB9O1xuZXhwb3J0IGNvbnN0IGlkID0gXCJAdGVycmlhanMvcGx1Z2luLXNjZW5lLWVkaXRvci1yZW1vdmVcIjtcbmV4cG9ydCBjb25zdCBuYW1lID0gXCJyZW1vdmVcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@terriajs/plugin-scene-editor/assets/icons/remove.svg\n");

/***/ }),

/***/ "./node_modules/@terriajs/plugin-scene-editor/assets/icons/reset.svg":
/*!***************************************************************************!*\
  !*** ./node_modules/@terriajs/plugin-scene-editor/assets/icons/reset.svg ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   id: () => (/* binding */ id),\n/* harmony export */   name: () => (/* binding */ name)\n/* harmony export */ });\n\n// SVG Icon: reset\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({ id: \"@terriajs/plugin-scene-editor-reset\" });\nconst id = \"@terriajs/plugin-scene-editor-reset\";\nconst name = \"reset\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRlcnJpYWpzL3BsdWdpbi1zY2VuZS1lZGl0b3IvYXNzZXRzL2ljb25zL3Jlc2V0LnN2ZyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVycmlhanMtbWFwLy4vbm9kZV9tb2R1bGVzL0B0ZXJyaWFqcy9wbHVnaW4tc2NlbmUtZWRpdG9yL2Fzc2V0cy9pY29ucy9yZXNldC5zdmc/OTUyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vIFNWRyBJY29uOiByZXNldFxuZXhwb3J0IGRlZmF1bHQgeyBpZDogXCJAdGVycmlhanMvcGx1Z2luLXNjZW5lLWVkaXRvci1yZXNldFwiIH07XG5leHBvcnQgY29uc3QgaWQgPSBcIkB0ZXJyaWFqcy9wbHVnaW4tc2NlbmUtZWRpdG9yLXJlc2V0XCI7XG5leHBvcnQgY29uc3QgbmFtZSA9IFwicmVzZXRcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@terriajs/plugin-scene-editor/assets/icons/reset.svg\n");

/***/ }),

/***/ "./node_modules/@terriajs/plugin-scene-editor/assets/icons/undo.svg":
/*!**************************************************************************!*\
  !*** ./node_modules/@terriajs/plugin-scene-editor/assets/icons/undo.svg ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   id: () => (/* binding */ id),\n/* harmony export */   name: () => (/* binding */ name)\n/* harmony export */ });\n\n// SVG Icon: undo\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({ id: \"@terriajs/plugin-scene-editor-undo\" });\nconst id = \"@terriajs/plugin-scene-editor-undo\";\nconst name = \"undo\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRlcnJpYWpzL3BsdWdpbi1zY2VuZS1lZGl0b3IvYXNzZXRzL2ljb25zL3VuZG8uc3ZnIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZXJyaWFqcy1tYXAvLi9ub2RlX21vZHVsZXMvQHRlcnJpYWpzL3BsdWdpbi1zY2VuZS1lZGl0b3IvYXNzZXRzL2ljb25zL3VuZG8uc3ZnP2I4OTgiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vLyBTVkcgSWNvbjogdW5kb1xuZXhwb3J0IGRlZmF1bHQgeyBpZDogXCJAdGVycmlhanMvcGx1Z2luLXNjZW5lLWVkaXRvci11bmRvXCIgfTtcbmV4cG9ydCBjb25zdCBpZCA9IFwiQHRlcnJpYWpzL3BsdWdpbi1zY2VuZS1lZGl0b3ItdW5kb1wiO1xuZXhwb3J0IGNvbnN0IG5hbWUgPSBcInVuZG9cIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@terriajs/plugin-scene-editor/assets/icons/undo.svg\n");

/***/ })

}]);