"use strict";((self||window).webpackChunkterriajs_map=(self||window).webpackChunkterriajs_map||[]).push([[609],{65988:(e,t,n)=>{n.d(t,{default:()=>v}),n(9391),n(60809);var i=n(56981),o=n(92580),r=n(35862),a=n(64995),s=n(26931),c=n(51101),l=n(79327),d=n(49648),h=n(79483),m=(n(62953),n(40685)),p=n(59801);n(27495);var g=n(27813);const f=()=>[],u={baseUrl:"build/TerriaJS"};u.analytics=new i.A;const w=new s.A(u),y=new c.Ay({terria:w});(0,o.A)(),(0,r.A)(),(0,l.A)(w);const v=w.start({applicationUrl:window.location,configUrl:"config.json",shareDataService:new a.A({terria:w}),beforeRestoreAppState:()=>async function(e,t){try{const n=t().map(t=>{const n=(0,m.d2)(e);return t.then(e=>{let{default:t}=e;try{t.register(n)}catch(e){p.Ay.from(e,{title:'Error when registering plugin "'.concat(t.name,'"')}).log()}}).catch(e=>{p.Ay.from(e,{title:"Error when loading a plugin"}).log()})});await Promise.all(n)}catch(e){return Promise.reject(e)}}(y,f).catch(e=>{console.error("Error loading plugins"),console.error(e)})}).catch(function(e){w.raiseErrorToUser(e)}).finally(function(){"Terria Map"===document.title&&(document.title=w.appName),w.loadInitSources().then(e=>e.raiseError(w));try{var e;(0,d.A)(w,window),(0,h.A)(w,window),w.configParameters.globalDisclaimer&&function(e){const t=e.terria.configParameters.globalDisclaimer,n=window.location.hostname;if(t&&(t.enableOnLocalhost||-1===n.indexOf("localhost"))){let i="";(void 0!==t.devHostRegex&&n.match(t.devHostRegex)||void 0!==t.prodHostRegex&&!n.match(t.prodHostRegex))&&(i+='<div\n  style="\n    border: 1px solid red;\n    background: hsla(0, 50%, 50%, 0.2);\n    padding: 0.5em;\n  "\n>\n  <h1>Development site</h1>\n\n  <p>\n    You are viewing a site other than the official production site. It may not\n    operate as you expect.\n  </p>\n</div>\n'),i+="<div>\n  <p>\n    This is the global disclaimer shown to all users of this site. It should be\n    replaced with something specific, by modifying\n    <samp>lib/Views/GlobalDisclaimer.html</samp>.\n  </p>\n</div>\n";const o={title:void 0!==t.title?t.title:"Warning",confirmText:t.buttonTitle||"Ok",denyText:t.denyText||"Cancel",denyAction:t.afterDenyLocation?function(){window.location=t.afterDenyLocation}:void 0,width:600,height:550,message:i,horizontalPadding:100};(0,g.h5)(()=>{e.disclaimerSettings=o,e.disclaimerVisible=!0})}}(y);const t=null===(e=w.configParameters.theme)||void 0===e?void 0:e.fontImports;if(t){const e=document.createElement("style");e.type="text/css",e.innerText=t,document.head.appendChild(e)}}catch(e){console.error(e),console.error(e.stack)}}).then(()=>({terria:w,viewState:y}))}}]);